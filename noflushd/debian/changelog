noflushd (2.7.5-2.netgear16) unstable; urgency=low

  * Restore VM settings before exiting.
  * Try to avoid MD RAID1's tendency to update the superblock just after
  spindown.

 -- Justin Maggard <justin.maggard@netgear.com>  Thu, 10 Feb 2011 12:29:58 -0800

noflushd (2.7.5-2.netgear15) unstable; urgency=low

  * Skip I/O checks if a MD RAID action is in progress.

 -- Justin Maggard <justin.maggard@netgear.com>  Mon, 30 Aug 2010 23:28:25 +0000

noflushd (2.7.5-2.netgear14) unstable; urgency=low

  * Handle both dirty_[background_]ratio and dirty_[background_]bytes settings.

 -- Justin Maggard <justin.maggard@netgear.com>  Tue, 15 Jun 2010 20:34:48 +0000

noflushd (2.7.5-2.netgear13) unstable; urgency=low

  * Revert the last workaround, since we now have a kernel fix.

 -- Justin Maggard <justin.maggard@netgear.com>  Mon, 17 May 2010 19:18:06 +0000

noflushd (2.7.5-2.netgear12) unstable; urgency=low

  * Work around a recent kernel bug which would cause ksoftirqd CPU usage to
    spike.

 -- Justin Maggard <justin.maggard@netgear.com>  Fri, 14 May 2010 19:09:55 +0000

noflushd (2.7.5-2.netgear11) unstable; urgency=low

  * Fix an issue whereby syncing all disks could cause immediate spinups.

 -- Justin Maggard <justin.maggard@netgear.com>  Mon, 12 Apr 2010 22:10:53 +0000

noflushd (2.7.5-2.netgear10) unstable; urgency=low

  * Handle journaling filesystems.

 -- Justin Maggard <justin.maggard@netgear.com>  Wed,  3 Mar 2010 23:22:30 +0000

noflushd (2.7.5-2.netgear9) unstable; urgency=low

  * Tell monitor_enclosure to let the fan go down to 1300RPM on some systems
    when the disks are spun down.

 -- Justin Maggard <justin.maggard@netgear.com>  Wed, 13 Jan 2010 00:21:19 +0000

noflushd (2.7.5-2.netgear8) unstable; urgency=low

  * Skip SCSI devices on the USB bus when building our device list.

 -- Justin Maggard <justin.maggard@netgear.com>  Thu, 20 Nov 2008 03:36:08 +0000

noflushd (2.7.5-2.netgear7) unstable; urgency=low

  * Linux tells the disk to do a FLUSH_CACHE[_EXT] when opening or closing a
    device that isn't currently used by anything else, it causes our parity
    disk to spin up immediately after spinning down.  To stop that from
    happening, we'll "leak" one file descriptor by opening the partity drive
    at initial scan, and never closing it.  This tricks Linux into not
    flushing the cache immediately after spinning it down.

 -- Justin Maggard <justin.maggard@netgear.com>  Wed,  8 Oct 2008 15:47:06 -0700

noflushd (2.7.5-2.netgear6) unstable; urgency=low

  * Reverse the disk list order, so hopefully parity drives get spun down last
    in X-RAID mode.

 -- Justin Maggard <justin.maggard@netgear.com>  Wed,  1 Oct 2008 18:24:32 -0700

noflushd (2.7.5-2.netgear5) unstable; urgency=low

  * Send SIGUSR1 to monitor_enclosure when spinning down, so it can display
    the proper status sooner.

 -- Justin Maggard <justin.maggard@netgear.com>  Tue, 26 Aug 2008 00:14:01 +0000

noflushd (2.7.5-2.netgear4) unstable; urgency=low

  * Move spindown file to ramfs.
  * Readahead some files we know we'll eventually need just before spinning
    down.

 -- Justin Maggard <justin.maggard@netgear.com>  Wed, 25 Jun 2008 16:00:00 -0700

noflushd (2.7.5-2.infrant3) unstable; urgency=low

  * Before we spin the disks down, check /proc/xraid/configuration, and cancel
    the spindown if a resync or parity check is running.
  * If a disk spindown failed due to a disk init, reset its timer.
  * Ignore SCSI (USB) disks.

 -- Justin Maggard <jmaggard@infrant.com>  Thu, 10 Aug 2006 15:43:38 -0700

noflushd (2.7.5-2.infrant2) unstable; urgency=low

  * Dim LEDs if we can during spindown.

 -- Justin Maggard <jmaggard@infrant.com>  Tue,  8 Aug 2006 13:42:02 -0700

noflushd (2.7.5-2.infrant1) unstable; urgency=low

  * Log disk spin status to a file.
  * Spinup/down should be all or nothing (for RAID).

 -- Justin Maggard <jmaggard@infrant.com>  Wed, 19 Apr 2006 14:31:44 -0700

noflushd (2.7.5-2) unstable; urgency=medium

  * debian/po/cs.po: Added Czech debconf translation. Closes: #309080

 -- Daniel Kobras <kobras@debian.org>  Tue, 17 May 2005 13:06:42 +0200

noflushd (2.7.5-1) unstable; urgency=medium

  * New upstream release.
    - Do not fail with raid devices on 2.6 kernels. Closes: #308230
    - Do not mess up startup messages when monitorring interrupts.

 -- Daniel Kobras <kobras@debian.org>  Mon,  9 May 2005 00:22:53 +0200

noflushd (2.7.4-1) unstable; urgency=low

  * New upstream version.
  * debian/po/ca.po: Added Catalan debconf translation. Closes: #248738

 -- Daniel Kobras <kobras@debian.org>  Sun,  8 Aug 2004 17:16:22 +0200

noflushd (2.7.3-2) unstable; urgency=medium

  * debian/noflushd.init: Parse /proc/mounts directly because devfs
    mounts by the kernel do not show up in the output of mount(8).
    Closes: #245151
  * debian/control: ed needs to be a dependency instead of a build-dep.
    Cures postinst breakage. Closes: #245962

 -- Daniel Kobras <kobras@debian.org>  Mon, 26 Apr 2004 16:05:39 +0200

noflushd (2.7.3-1) unstable; urgency=low

  * New upstream version.
  * debian/noflushd.init: If kernel exposes a devfs namespace, but
    devfs is not mounted, the startup script mounts devfs on a
    private mount point. Closes: #241551
  * debian/noflushd.dirs: Create private mount point
    /var/lib/noflushd/devfs.
  * debian/rules: Tighten permissions so only root can access private
    mount point.
  * debian/noflushd.init: Only probe for pidfile and name when trying to
    stop the daemon. Makes it possible to stop the daemon when the
    corresponding binary has already been removed.
  * debian/noflushd.postinst: Some versions of the prerm script seem to
    fail stopping the daemon properly. Try again in postinst before
    starting it again, therefore. Closes: #241197

 -- Daniel Kobras <kobras@debian.org>  Fri,  9 Apr 2004 00:20:58 +0200

noflushd (2.7.2-1) unstable; urgency=low

  * New upstream version.
    + Does not flush caches on spindown. Closes: #238369
  * debian/rules: Support noopt build option.

 -- Daniel Kobras <kobras@debian.org>  Tue, 16 Mar 2004 22:12:12 +0100

noflushd (2.7.1-2) unstable; urgency=low

  * debian/noflushd.init: Do not throw an error in the stop target if
    no daemon was found running. Closes: #237721
  * debian/po/da.po: Added Danish debconf translation. Closes: #236862
  * debian/po/ja.po: Added Japanese debconf translation. Closes: #236984

 -- Daniel Kobras <kobras@debian.org>  Sat, 13 Mar 2004 13:02:23 +0100

noflushd (2.7.1-1) unstable; urgency=low

  * New upstream version.
    + Initializes /proc/partitions parser before forking off the daemon
      to make potential error messages more visible. Closes: #230698
  * debian/control: Add kernel-patch-scsi-idle to suggests as SCSI
    support is now available via a commandline option.
  * debian/noflushd.init: Invoke with sh -e to bail out on errors.

 -- Daniel Kobras <kobras@debian.org>  Sun,  7 Mar 2004 17:17:31 +0100

noflushd (2.7-2) unstable; urgency=low

  * debian/noflushd.templates: Documentation fixes by Christian Perrier.
    Closes: #228845
  * debian/noflushd.temples: Correct typo active -> inactive.
    Closes: #229197
  * debian/po/POTFILES.in: Fix typo noflushd.template -> noflushd.templates.
  * debian/po/de.po: Unfuzz.
  * debian/po/fr.po: Added French translation by Christian Perrier.
    Closes: #229806
  * debian/noflushd.init: Bail out with more helpful error message when
    no default timeout is set. Closes: #229520

 -- Daniel Kobras <kobras@debian.org>  Mon, 26 Jan 2004 19:36:16 +0100

noflushd (2.7-1) unstable; urgency=low

  * New upstream version.
    + Supports Linux kernels 2.6.x. Closes: #226033
    + Rebuilt with current debhelper. Closes: #225678
    + Man pages mentions interrupts in /proc/interrupts. Closes: #168508
    + Fixes a corner case hogging the CPU. Quite likely closes: #180475
  * Configuration in /etc/default/noflushd is now handled via debconf.
    Closes: #148360
  * Added German debconf translation.
  * As noflushd now monitors all disks when no specific list of disks
    has been given, the init skript no longer needs to check for an
    empty DISKS value.

 -- Daniel Kobras <kobras@debian.org>  Tue, 20 Jan 2004 18:14:34 +0100

noflushd (2.6.3-1) unstable; urgency=low

  * New upstream version.
    + Fixes /proc/interrupts parser on ARM. Closes: #146821
  * Change section from 'misc' to the slightly more appropriate 'utils'.
    Closes: #145092
  * Add contrib directory back to docs.

 -- Daniel Kobras <kobras@debian.org>  Mon, 13 May 2002 22:22:45 +0200

noflushd (2.6.2-1) unstable; urgency=low

  * New upstream version.
    + Works with IDE raid systems.
    + README includes hints on when it's wise to call sync.
      Closes: #137476

 -- Daniel Kobras <kobras@debian.org>  Sat, 20 Apr 2002 16:56:30 +0200

noflushd (2.6.1-2) unstable; urgency=low

  * Corrected devfs example in defaults file. Patch thanks to Chris
    Halls. Closes: #132579

 -- Daniel Kobras <kobras@debian.org>  Wed,  6 Feb 2002 13:01:38 +0100

noflushd (2.6.1-1) unstable; urgency=low

  * New upstream version, fixing bug in stat handling for disks on
    second IDE channel. Closes: #132080

 -- Daniel Kobras <kobras@debian.org>  Sun,  3 Feb 2002 23:02:41 +0100

noflushd (2.6-2) unstable; urgency=low

  * Change exit status to 0 in init skript if no valid config exists.
    Keeps postinst happy. Closes: #130625

 -- Daniel Kobras <kobras@debian.org>  Thu, 24 Jan 2002 09:50:21 +0100

noflushd (2.6-1) unstable; urgency=low

  * New upstream version.
  * Accommodate for yet another /proc/stat change in ac kernels,
    anticipating it might find its way to mainline one day.
  * Do not BUG() but exit(1) if kernel does not provide stats for any
    installed disk (common with UDMA100 controllers). Add hint to
    error message. Closes: #123034
  * New mode to prevent spindown when machine is in interactive use.
    Can be used as a workaround for and Closes: #90744
  * Document latency issues, ie. why polling interval is shorter than
    spindown timeout. Closes: #128006
  * Devfs users without a running devfsd felt discriminated against
    by the default entries. Come without a default now, thus
    discriminating equally against everyone. Closes: #123646

 -- Daniel Kobras <kobras@debian.org>  Tue, 22 Jan 2002 17:53:36 +0100

noflushd (2.5-1) unstable; urgency=low

  * New upstream version.
  * Added webmin-compatible comment to init skript. Closes: #90192
  * Cleaned up rules file--debhelper's gotten more clever over time.
  * Finally found cause for weird segfaults; fixed get_line().
    Closes: #81282
  * Removed bogus 'noflushd' from example PARAMS line in defaults
    skript. Closes: #102078
  * Only sync present partitions. Closes: #89828

 -- Daniel Kobras <kobras@debian.org>  Mon,  6 Aug 2001 19:17:29 +0200

noflushd (2.4-2) unstable; urgency=medium

  * Rebuilt with current debhelper to fix call to update-rc.d in
    postinst. Closes: #92195

 -- Daniel Kobras <kobras@debian.org>  Fri,  6 Apr 2001 10:26:01 +0200

noflushd (2.4-1) unstable; urgency=low

  * New upstream version.
  * Timeouts have been given in minutes for a while, now manpage knows as
    well. Closes: #84799
  * Honour name change kupdate->kupdated in 2.4.2-ac15/2.4.3pre3.
    Closes: #89092, #89366

 -- Daniel Kobras <kobras@debian.org>  Tue, 13 Mar 2001 10:24:09 +0100
 
noflushd (2.3-1) unstable; urgency=low

  * New upstream version.
  * Documented workaround for devfs systems without a mounted devfs
    directory. Closes: #81293

 -- Daniel Kobras <kobras@debian.org>  Sat, 20 Jan 2001 14:57:16 +0100

noflushd (2.2-2) unstable; urgency=low

  * Added missing Build-Depends on debhelper.

 -- Daniel Kobras <kobras@debian.org>  Thu, 28 Dec 2000 12:50:24 +0100

noflushd (2.2-1) unstable; urgency=low

  * New upstream version.

 -- Daniel Kobras <kobras@debian.org>  Fri, 22 Dec 2000 01:09:15 +0100

noflushd (2.1-1) unstable; urgency=low

  * New upstream version.
  * Included copies of automake-generated files rather than
    symlinks in source package. Closes: #79815
  * Fix devfs detection. Closes: #80091

 -- Daniel Kobras <kobras@debian.org>  Wed, 20 Dec 2000 18:20:59 +0100

noflushd (2.0-1) unstable; urgency=low

  * New upstream version.
  * New Debian maintainer.

 -- Daniel Kobras <kobras@debian.org>  Tue, 14 Nov 2000 15:28:50 +0100

noflushd (1.8.5-4) unstable; urgency=low

  * Fixed fd leak on spindown. Closes: #75984

 -- Joey Hess <joeyh@debian.org>  Tue, 31 Oct 2000 14:14:47 -0800

noflushd (1.8.5-3) unstable; urgency=low

  * Applied a patch to fix memory exception problems on the alpha. 
    Closes: #70547

 -- Joey Hess <joeyh@debian.org>  Wed, 30 Aug 2000 16:32:59 -0700

noflushd (1.8.5-2) unstable; urgency=low

  * Added a README.Debian with some tips.

 -- Joey Hess <joeyh@debian.org>  Sat, 12 Aug 2000 01:36:20 -0700

noflushd (1.8.5-1) unstable; urgency=low

  * New upstream version.

 -- Joey Hess <joeyh@debian.org>  Mon,  7 Aug 2000 15:48:58 -0700

noflushd (1.8.4-2) unstable; urgency=low

  * Applied patch from Andreas U. Trottmann to fix problems with 2.2
    kernels. Closes: #68654

 -- Joey Hess <joeyh@debian.org>  Sun,  6 Aug 2000 16:47:27 -0700

noflushd (1.8.4-1) unstable; urgency=low

  * New upstream version.
  * Disable internal pidfile handling. 
  * Description no longer refers to laptops only. Closes: #67911
  * Supports devfs systems and development kernels. Closes: #67814, #67819

 -- Joey Hess <joeyh@debian.org>  Thu,  3 Aug 2000 22:58:24 +0200

noflushd (1.8.3-3) unstable; urgency=low

  * Added note that this package currently does not work with devfs or
    with recent development kernels (the author is working on it though).
  * Modified the init script to allow the package to be removed if the
    deamon is not running. Closes: #67816

 -- Joey Hess <joeyh@debian.org>  Fri, 28 Jul 2000 16:22:49 -0700   

noflushd (1.8.3-2) unstable; urgency=low

  * First Debian release. (The author has kept up debs for a while though.)

 -- Joey Hess <joeyh@debian.org>  Tue, 11 Jul 2000 18:31:39 -0700

noflushd (1.8.3-1) unstable; urgency=low

  * New upstream version

 -- Daniel Kobras <kobras@linux.de>  Mon, 13 Mar 2000 23:27:36 +0100

noflushd (1.8.2-1) unstable; urgency=low

  * New upstream version

 -- Daniel Kobras <kobras@linux.de>  Mon,  7 Feb 2000 22:45:38 +0100

noflushd (1.8.1-1) unstable; urgency=low

  * New upstream version

 -- Daniel Kobras <kobras@linux.de>  Thu, 27 Jan 2000 01:34:29 +0100

noflushd (1.8-1) unstable; urgency=low

  * New upstream version

 -- Daniel Kobras <kobras@linux.de>  Tue, 25 Jan 2000 00:33:18 +0100

noflushd (1.7.4-1) unstable; urgency=low

  * New upstream version

 -- Daniel Kobras <kobras@linux.de>  Sat,  4 Sep 1999 23:00:03 +0200

noflushd (1.7.3-1) unstable; urgency=low

  * New upstream version
  * 'make dist' now also generates debian source and binary packages

 -- Daniel Kobras <kobras@linux.de>  Fri, 27 Aug 1999 00:22:51 +0200

noflushd (1.7.2-1) unstable; urgency=low

  * Added directory ./debian with Debian specific control files

 -- Daniel Kobras <kobras@linux.de>  Wed, 25 Aug 1999 02:48:26 +0200 
