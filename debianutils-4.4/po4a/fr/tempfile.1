.\" -*- nroff -*-
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH TEMPFILE 1 "27 juin 2012" "Debian GNU/Linux" 
.SH NOM
tempfile \- Créer un fichier temporaire de façon sûre
.SH SYNOPSIS
\fBtempfile\fP [\fB\-d\fP \fIREP\fP] [\fB\-p\fP \fICHAÎNE\fP] [\fB\-s\fP \fICHAÎNE\fP] [\fB\-m\fP
\fIMODE\fP] [\fB\-n\fP \fIFICHIER\fP] [\fB\-\-directory\fP=\fIREP\fP] [\fB\-\-prefix\fP=\fICHAÎNE\fP]
[\fB\-\-suffix\fP=\fICHAÎNE\fP] [\fB\-\-mode\fP=\fIMODE\fP] [\fB\-\-name\fP=\fIFICHIER\fP]
[\fB\-\-help\fP] [\fB\-\-version\fP]
.SH DESCRIPTION
.PP
Le programme \fBtempfile\fP crée un fichier temporaire de façon sûre. Il
utilise \fBtempnam\fP(3) pour choisir un nom et l'ouvre dans le mode O_RDWR |
O_CREAT | O_EXCL. Le nom du fichier est affiché sur la sortie standard. Voir
\fBtempnam\fP(3) pour les différentes étapes de la sélection des répertoires.
.PP
Une recherche peut être effectuée dans le répertoire où le fichier sera
créé, dans l'ordre suivant (se référer toutefois à \fBtempnam\fP(3) pour des
réponses faisant autorité à ce sujet)\ :
.TP  3
a)
la variable d'environnement \fBTMPDIR\fP sera utilisée si elle existe et
contient le nom d'un répertoire approprié\ ;
.TP 
b)
sinon, si l'option \fI\-\-directory\fP est utilisée, le répertoire spécifié est
utilisé, à condition qu'il soit valide\ ;
.TP 
c)
sinon, le répertoire \fIP_tmpdir\fP (tel que défini dans \fI<stdio.h>\fP)
est utilisé s'il est valide\ ;
.TP 
d)
enfin, un répertoire \fI(/tmp)\fP défini par l'implémentation peut être
utilisé\ ;
.SH OPTIONS
.TP 
\fB\-d\fP, \fB\-\-directory\fP \fIREP\fP
place le fichier dans \fIREP\fP.
.TP 
\fB\-m\fP, \fB\-\-mode\fP \fIMODE\fP
ouvre le fichier dans le mode \fIMODE\fP plutôt que 0600.
.TP 
\fB\-n\fP, \fB\-\-name\fP \fIFICHIER\fP
utilise \fIFICHIER\fP comme nom plutôt que \fBtempnam\fP(3). Les options \fB\-d\fP
\fB\-p\fP et \fB\-s\fP sont ignorées si cette option est utilisée.
.TP 
\fB\-p\fP, \fB\-\-prefix\fP \fICHAÎNE\fP
utilise jusqu'à cinq lettres de \fICHAÎNE\fP pour générer le nom.
.TP 
\fB\-s\fP, \fB\-\-suffix\fP \fICHAÎNE\fP
génère le fichier en utilisant \fICHAÎNE\fP comme suffixe.
.TP 
\fB\-\-help\fP
affiche un message d'aide sur la sortie standard, puis quitte sans erreur.
.TP 
\fB\-\-version\fP
affiche les informations sur la version, puis quitte sans erreur.
.SH "VALEUR DE RETOUR"
Une valeur de retour 0 signifie que le fichier a été créé avec succès. Toute
autre valeur de retour indique une erreur.
.SH BOGUES
Une création exclusive ([\ NdT\ : pour éviter toute situation de compétition,
ou «\ race condition\ »\ ]) n'est pas garantie lorsque le fichier est créé sur
une partition NFS. tempfile ne peut pas faire de répertoire temporaire. Le
programme tempfile est obsolète. Il est conseillé d'utiliser mktemp(1) à la
place.
.SH EXEMPLES

.RS
.nf
#!/bin/sh
#[...]
t=$(tempfile) || exit
trap "rm \-f \-\- '$t'" EXIT
#[...]
rm \-f \-\- "$t"
trap \- EXIT
exit
.fi
.SH "VOIR AUSSI"
\fBtempnam\fP(3), \fBmktemp\fP(1)
.SH TRADUCTION
Ce document est une traduction, réalisée par Nicolas FRANÇOIS le
8 décembre 2005.

L'équipe de traduction a fait le maximum pour réaliser une adaptation
française de qualité.

La version anglaise la plus à jour de ce document est toujours consultable
en ajoutant l'option « \-L C » à la commande \fBman\fR.

N'hésitez pas à signaler à l'auteur ou à la liste de traduction
.nh
<\fIdebian\-l10\-french@lists.debian.org\fR>,
.hy
selon le cas, toute erreur dans cette page de manuel.
