libpng3 (1.2.8rel-1) unstable; urgency=medium

  * New upstream release.
  * read_transformations.patch: removed, included upstream.
  * libpng12-0.shlibs: Update to version 1.2.8rel, new flags seem to have been
    added.

 -- Josselin Mouette <joss@debian.org>  Sat,  4 Dec 2004 15:54:53 +0100

libpng3 (1.2.8beta5-2) unstable; urgency=medium

  * read_transformations.patch: fix segmentation fault with latex
    (closes: #281789) and totem (closes: #278618).

 -- Josselin Mouette <joss@debian.org>  Thu, 25 Nov 2004 16:49:28 +0100

libpng3 (1.2.8beta5-1) unstable; urgency=medium

  * New upstream release.
    + Correct segmentation violation in png_combine_row.
      Closes: #278526, #278917, #278921, #279258, #281789, #282368.

 -- Josselin Mouette <joss@debian.org>  Wed, 24 Nov 2004 13:53:49 +0100

libpng3 (1.2.7-1) unstable; urgency=medium

  * New upstream release (closes: #278308).
  * libpng12-0.shlibs: update shlibs to version 1.2.7.
  * Remove all security fixed, they are included upstream.

 -- Josselin Mouette <joss@debian.org>  Tue, 26 Oct 2004 13:40:25 +0200

libpng3 (1.2.5.0-9) unstable; urgency=high

  * CAN-2004-0954.patch: removed, this is already fixed in
    CAN-2004-0597_0598_0599.patch.

 -- Josselin Mouette <joss@debian.org>  Tue, 19 Oct 2004 10:52:28 +0200

libpng3 (1.2.5.0-8) unstable; urgency=high

  * Switch to CDBS.
    + Ship modifications and security fixes in debian/patches.
    + debian/rules: rewritten.
    + debian/control: build-depend on cdbs.
    + debian/libpng12-0.shlibs: new.
  * setjmp_error.patch: port explanation of the error when including setjmp.h
    from libpng10, thanks Matijs van Zuijlen <Matijs.van.Zuijlen@xs4all.nl>
    (closes: #273473).
  * CAN-2004-0954.patch: fix buffer overflow vulnerability in
    png_handle_tRNS().
  * CAN-2004-0955.patch: fix integer arithmetic overflow vulnerability in
    png_read_png().

 -- Josselin Mouette <joss@debian.org>  Thu, 14 Oct 2004 20:06:08 +0200

libpng3 (1.2.5.0-7) unstable; urgency=high

  * pngrtran.c: applied upstream patch 4 to fix incorrect calculation of
    buffer offsets [CAN-2004-0768].
  * png.h, pngpread.c, pngrutil.c: patch from Chris Evans
    <chris@scary.beasts.org> to fix several vulnerabilities (closes: #263500):
    + libpng fails to properly check length on PNG data [CAN-2004-0597].
    + libpng "png_handle_sBIT" does not perform proper checks to avoid stack
      buffer overflow [CAN-2004-0597].
    + libpng "png_handle_iCCP" possible NULL-pointer crash
      [CAN-2004-0598].
    + libpng "png_handle_sPLT" possible integer overflow
      [CAN-2004-0599].
    + libpng "png_read_png" does not properly handle a PNG with excessive
      height (integer overflow) [CAN-2004-0599].
    + libpng progressive reading integer overflow [CAN-2004-0599].

 -- Josselin Mouette <joss@debian.org>  Thu,  5 Aug 2004 12:37:32 +0200

libpng3 (1.2.5.0-6) unstable; urgency=high

  * pngerror.c: applied patch by Steve Grubb <linux_4ever@yahoo.com> to
    fix unintended memory access that could result in a crash of the
    application linking against libpng [CAN-2004-0421].

 -- Josselin Mouette <joss@debian.org>  Tue, 20 Apr 2004 13:39:02 +0200

libpng3 (1.2.5.0-5) unstable; urgency=low

  * Use debhelper 4.2, which generates the udeb appropriately.
  * Update control and rules appropriately.
  * Don't use ${shlibs:Depends} for the udeb, rather write the
    dependencies by hand.
  * Standards-version is 3.6.1.

 -- Josselin Mouette <joss@debian.org>  Fri, 20 Feb 2004 19:23:05 +0100

libpng3 (1.2.5.0-4) unstable; urgency=low

  * scripts/makefile.linux: use versioned dependencies
    (closes: #155891).
  * debian/rules: bump dependency for dh_makeshlibs.
  * add the libpng.a link in libpng12-dev.
  * Rework scripts/makefile.linux to make it more consistent.
  * Update stuff in debian/ accordingly.
  * Updated README.Debian.

 -- Josselin Mouette <joss@debian.org>  Tue, 10 Jun 2003 18:14:32 +0200

libpng3 (1.2.5.0-3) unstable; urgency=low

  * Make libpng3{,-dev} depend on libpng12-{0,dev} >= 1.2.5.0-2 instead
    of the strict source version.
  * Move /usr/share/doc/libpng3{,-dev} into symlinks at postinst time
    when directories already exist.
  * debian/rules: install correctly doc-base stuff.
  * debian/libpng12-dev.doc-base: updated URIs.

 -- Josselin Mouette <joss@debian.org>  Tue,  6 May 2003 19:44:59 +0200

libpng3 (1.2.5.0-2) unstable; urgency=low

  * scripts/{makefile.linux,libpng-config-body.in}: correct the
    libpng12-config script.
  * Install correctly pkg-config stuff (closes: #191081).
  * Make libpng12-dev conflict explicitly with libpng12-0-dev.
  * Update README.Debian.

 -- Josselin Mouette <joss@debian.org>  Mon, 28 Apr 2003 19:42:15 +0200

libpng3 (1.2.5.0-1) unstable; urgency=low

  * New maintainer.
  * Use real upstream tarball from 1.2.5 release.
  * Use dpkg-source's way instead of dpatch for patching.
  * A bit of rework in debian/rules, use dh_install and debhelper 4.
  * Standards-version is 3.5.9.
  * The -dev package is now named libpng12-dev (stop using the
    libpkg-guide way).
  * libpng3 is now arch-independent.
  * Improved descriptions a bit.
  * Don't supply libpngpf.3, it is not useful to programmers.

 -- Josselin Mouette <joss@debian.org>  Wed, 16 Apr 2003 18:41:02 +0200

libpng3 (1.2.5-11) unstable; urgency=low

  * Add udeb (closes: #174842)
  * Add missing section on source files.

 -- Junichi Uekawa <dancer@debian.org>  Mon, 31 Mar 2003 00:28:06 +0900

libpng3 (1.2.5-10) unstable; urgency=low

  * Rebuild with d-shlibs with fixed "libgcc_s1-dev" handling (for gcc-3.2).
  (closes: #178070), build-depend on d-shlibs 0.10 or greater.

 -- Junichi Uekawa <dancer@debian.org>  Fri, 24 Jan 2003 12:23:35 +0900

libpng3 (1.2.5-9) unstable; urgency=low

  * Use dpatch for patch system -- divide Debian patch, and security fix patch.
  * Standards-Version: 3.5.8
  * add manual page libpng-config.1 and libpng12-config.1

 -- Junichi Uekawa <dancer@debian.org>  Wed, 15 Jan 2003 17:55:17 +0900

libpng3 (1.2.5-8) unstable; urgency=low

  * Sorry folks, I made a mistake.
  * Forward-port of patch from the Security Team,
  really apply what was there. (closes: #172868,#172871)

 -- Junichi Uekawa <dancer@debian.org>  Fri, 13 Dec 2002 16:12:01 +0900

libpng3 (1.2.5-7) unstable; urgency=high

  * Forward-port of patch from the Security Team
  * Applied patch to pngrtran.c by Glenn Randers-Pehrson
    <glennrp@comcast.net> to fix a buffer overrun.

 -- Junichi Uekawa <dancer@debian.org>  Thu, 12 Dec 2002 20:36:28 +0900

libpng3 (1.2.5-6) unstable; urgency=low

  * Typo in scripts/makefile.linux.
  Mistake. -lz and -lm weren't happening.
  * Change LDFLAGS to not list -lz -lm, so that testsuite will catch such error.
  * set prefix=/usr/ in scripts/makefile.linux, since it was set to usr/local.

 -- Junichi Uekawa <dancer@debian.org>  Wed, 30 Oct 2002 20:54:54 +0900

libpng3 (1.2.5-5) unstable; urgency=low

  * scripts/makefile.linux: LIBADDFLAGS introduced, for shared library lib additional
  flags, and use that for shared library.
  - this should fix build failure (closes: #166704)
  Thanks Daniel Schepler <schepler@math.berkeley.edu> for reporting.
  * updated copyright file to note that libpng3 in Debian is patched to
  link with -lz -lm.

 -- Junichi Uekawa <dancer@debian.org>  Mon, 28 Oct 2002 12:25:57 +0900

libpng3 (1.2.5-4) unstable; urgency=low

  * Trying to fix the problem that libpng3 seems to be not linked against libz.
  LDFLAGS was defined but not being used.
  Thanks Mike Furr <mfurr@debian.org> for reporting (closes: #166489)

 -- Junichi Uekawa <dancer@debian.org>  Sun, 27 Oct 2002 16:07:54 +0900

libpng3 (1.2.5-3) unstable; urgency=low

  * Fixed description, I mixed up the -devel and non-devel
  packages.
  * updated README.Debian.

 -- Junichi Uekawa <dancer@debian.org>  Thu, 24 Oct 2002 18:56:34 +0900

libpng3 (1.2.5-2) unstable; urgency=low

  * careless mistake :(
  * reinstall libpng.so symlink in libpng-12-0-dev package.
  Otherwise other packages won't build ...

 -- Junichi Uekawa <dancer@debian.org>  Wed, 23 Oct 2002 16:46:23 +0900

libpng3 (1.2.5-1) unstable; urgency=low

  * New upstream version (closes: #163425)
  * re-patched makefile.linux to work with system zlib,
    added workaround to set CFLAGS, and remove rpath settings from LDFLAGS
  * Use debhelper.
  * No longer create /usr/doc symlinks.
  * Standards-Version: 3.5.7

 -- Junichi Uekawa <dancer@debian.org>  Tue, 22 Oct 2002 21:05:33 +0900

libpng3 (1.2.1-5) unstable; urgency=low

  * Not yet released.
  * Change priority from standard to optional.

 -- Junichi Uekawa <dancer@debian.org>  Sun, 15 Sep 2002 15:39:12 +0900

libpng3 (1.2.1-4) unstable; urgency=low

  * change -dev dependency of libc6-dev to libc-dev 

 -- Junichi Uekawa <dancer@debian.org>  Fri, 13 Sep 2002 18:40:53 +0900

libpng3 (1.2.1-3) unstable; urgency=low

  * Security fix backported from 1.2.4. Check bounds of variables.
  (closes: #155403)

 -- Junichi Uekawa <dancer@debian.org>  Wed,  7 Aug 2002 17:30:32 +0900

libpng3 (1.2.1-2) unstable; urgency=low

  * New maintainer (closes: #151343)
  * apply buffer overflow patch for interlaced png files (closes: #150595)
  * update description for libpng3-dev.
  * change libpng-dev to libpng3-dev

 -- Junichi Uekawa <dancer@debian.org>  Thu, 25 Jul 2002 16:28:24 +0900

libpng3 (1.2.1-1.1) unstable; urgency=low

  * NMU
  * Provides: libpng2-dev has been changed to Provides: libpng3-dev
    libpng2-dev can be put back in when some kind of sane transition has
    finished.
    (closes: #128384, #128871, #129268, #129269)

 -- Junichi Uekawa <dancer@debian.org>  Tue, 12 Feb 2002 02:31:53 +0900

libpng3 (1.2.1-1) unstable; urgency=low

  * New upstream version; closes: #125679.
  * New source package name: libpng3.
  * Renamed libpng<x>-dev to libpng-dev to avoid having to maintain several
    development packages (the -dev is source compatible).
  * Moved png.5 into the -dev package.
  * Added a Replaces: libpng2 to libpng-dev so that we can steal the png.5
    manpage without fuss.
  * Changed debian/shlibs for libpng3.
  * Compress examples/pngtest.c.

 -- Philippe Troin <phil@fifi.org>  Tue, 18 Dec 2001 20:01:04 -0800

libpng (1.0.12-3) unstable; urgency=low

  * Moved the png.5 manpage to the dev package to allow multiple libpng<n>
    packages installed at the same time.

 -- Philippe Troin <phil@fifi.org>  Tue, 18 Dec 2001 23:58:25 -0800

libpng (1.0.12-2) unstable; urgency=low

  * Changed libpng2-dev's section to devel to resync with override file.
  * Fixed upstream version detection in debian/rules; closes: #105931.

 -- Philippe Troin <phil@fifi.org>  Sun, 29 Jul 2001 11:52:40 -0700

libpng (1.0.12-1) unstable; urgency=low

  * New upstream release; closes: #105354.
  * Bumped dependency information in debian/shlibs to libpng >= 1.0.12
    since there were some non-backwards compatible changes to the API.
  * Added support for DEB_BUILD_OPTIONS and get-orig-source to debian/rules.
  * Added call to ldconfig on postrm's remove.
  * Removed INSTALL file from /usr/share/doc/libpng2.
  * Bumped standards version to 3.5.5.0.

 -- Philippe Troin <phil@fifi.org>  Tue, 17 Jul 2001 23:32:36 -0700

libpng (1.0.11-1) unstable; urgency=low

  * New upstream release.

 -- Philippe Troin <phil@fifi.org>  Wed,  2 May 2001 20:43:51 -0700

libpng (1.0.10-2) unstable; urgency=low

  * Force recompile because of bad sparc package.
  * Libpng2's priority changed to standard to comply with the override file.

 -- Philippe Troin <phil@fifi.org>  Tue, 24 Apr 2001 11:49:31 -0700

libpng (1.0.10-1) unstable; urgency=low

  * New upstream release.
  * Changed shlib to depend on libpng2 (>= 2.0.10) because of
    non-backwards compatible changes.

 -- Philippe Troin <phil@fifi.org>  Sun, 22 Apr 2001 22:48:30 -0700

libpng (1.0.8-1) unstable; urgency=low

  * Changed the doc-base type from 'test' to 'text'; closes: #59877.
  * New upstream relase 1.0.8; closes: #70464.
  * Updated copyright notice.
  * Removed Y2kINFO from the doc directory.
  * Added pngtest.c in examples; closes: #65229.
  * Updated to standards version 3.2.1.0.
  * Added build-depends line in control file; closes: #69291.

 -- Philippe Troin <phil@fifi.org>  Mon, 11 Sep 2000 23:19:12 -0700

libpng (1.0.5-1) frozen unstable; urgency=low

  * Maintainer upload (closes: #48244, #48246).
  * Added some extra explanations for the setjmp.h mess (closes: #56759),
    see pngconf.h for details.

 -- Philippe Troin <phil@fifi.org>  Mon, 28 Feb 2000 13:53:22 -0800

libpng (1.0.5-0.1) unstable; urgency=low

  * Non-maintainer release.
  * New upstream release. (closes:Bug#48244).
  * Remove versioned depend from shlibs (closes:Bug#48246).

 -- Joel Klecker <espy@debian.org>  Sat, 30 Oct 1999 08:12:53 -0700

libpng (1.0.3-1) unstable; urgency=low

  * New upstream version (1.0.3); Closes: #31870, #46333.
  * Maintainer upload, closes NMU bugs; Closes: #28412, #31523, #31690.
  * FHS compliant.
  * New standard-version 3.0.1.
  * Lintian clean.
  * Removed temporary zlib1g line in control file (used to be a bug in
    zlib1g).
  * Moved the documentation file to the -dev package.
  * Register documentation file to doc-base.
  * Fontified man pages with addformat script; Closes #38680.

 -- Philippe Troin <phil@fifi.org>  Mon,  4 Oct 1999 18:59:42 -0700

libpng (1.0.2b-0.1) frozen unstable; urgency=low

  * New upstream (bug-fix only) version.
    (Should fix bugs #31690&#28412, since I can't reproduce them)
    From the author:
    "I have recently uploaded libpng-1.0.2b to 
    ftp://swrinde.nde.swri.edu/pub/png-group/src
    I plan to release it as libpng-1.0.3 in a
    few days, but would like to hear whether it
    fixes the problems with GNOME.
    It restores a few lines of code that were
    inadvertently deleted from pngread.c, which
    seems to be the cause of problems with adding
    an alpha channel (which you fixed by downgrading
    to libpng-1.0.1's pngread.c)."
      [Glenn Randers-Pehrson <glennrp@netgsi.com>]
  * Masquerade version number to 1.0.3 to make Imlib & Co. happy.

 -- Vincent Renardias <vincent@waw.com>  Mon, 11 Jan 1999 06:27:55 +0100

libpng (1.0.2-1.1) frozen unstable; urgency=low

  * Fix Important bug #28412
    (using pngread.c from libpng-1.0.1 did the trick).

 -- Vincent Renardias <vincent@waw.com>  Wed,  6 Jan 1999 19:00:15 +0100

libpng (1.0.2-1) unstable; urgency=low

  * Maintainer release (to change a bit).
  * Pristine sources.
  * Libpng2-dev includes example.c (fixes bug #10315).
  * Changed control file to reflect difference with libpng0g (fixes #23795).
  * Recompiled (should fix the zlib1g missing symbol, bug #24450).
  * Added -D_REENTRANT also to static library.
  * Added a dependency upon zlib1g >= 1.1.2 (otherwise we get a missing
    symbol) (fixes bug #24450).

 -- Philippe Troin <phil@fifi.org>  Tue, 22 Sep 1998 00:17:16 -0700

libpng (1.0.2-0.1) unstable; urgency=low

  * Non-maintainer release
  * New upstream version

 -- Karl M. Hegbloom <karlheg@debian.org>  Tue,  4 Aug 1998 23:47:00 -0700

libpng (1.0.1-0.2) unstable; urgency=medium
  
  * debian/rules (binary-arch): don't call install with -s as an
    argument when installing a shared library; it doesn't know to use
    --strip-unneeded, and we call strip separately later anyway.
  * scripts/makefile.lnx (CFLAGS): killed i386-isms.
  * scripts/makefile.lnx: compiled shared libraries with -D_REENTRANT.
    (The above fixes are from James Troup, who yet again, alerted me to
     my screwups ;)
  * debian/postinst: only call ldconfig if $1 = configure.
  
 -- Joel Klecker <jk@espy.org>  Wed, 17 Jun 1998 10:25:27 -0700
  
libpng (1.0.1-0.1) unstable; urgency=low
  
  * New upstream bug fix release.
  * Include man pages.

 -- Joel Klecker <jk@espy.org>  Wed, 06 May 1998 08:51:49 -0700

libpng (1.0.0-0.1) unstable; urgency=low

  * Non-maintainer Release.
  * New Upstream Release.
  * Changed source package name to `libpng'.
  * Added `-f makefile.lnx' to make invocations in debian/rules.
  * Removed `ldconfig' call from postrm.

 -- Joel Klecker <jk@espy.org>  Tue, 4 Mar 1998 17:58:05 -0800

libpng0 (0.96-5) unstable; urgency=low

  * Removed executable permissions on shared libs (fixes bug #15478).
  * Updated Standards-Version to 2.3.0.1.

 -- Philippe Troin <phil@fifi.org>  Sun, 25 Jan 1998 13:19:51 -0800

libpng0 (0.96-4) unstable; urgency=low

  * Shared libraries are stripped with --strip-unneeded and static
    libraries with --strip-debug (fixes bug #15669).
  * Made the build strip non-i386 specific (patch by James Troup) (fixes
    bug #13832).
  * Removed the dependency between the libc5 and libc6 versions.

 -- Philippe Troin <phil@fifi.org>  Sun, 18 Jan 1998 22:37:19 -0800

libpng0 (0.96-3) unstable; urgency=low

  * Libc6 compilation.

 -- Philippe Troin <phil@fifi.org>  Tue, 23 Sep 1997 21:38:42 -0700

libpng0 (0.96-2) unstable; urgency=low

  * Fixed permissions in /usr/doc/libpng0 (fixes bug #10540).

 -- Philippe Troin <phil@fifi.org>  Sun, 15 Jun 1997 13:18:38 -0700

libpng0 (0.96-1) unstable; urgency=low

  * New upstream sources.

 -- Philippe Troin <phil@fifi.org>  Thu, 12 Jun 1997 23:32:29 -0700

libpng0 (0.95b-1) unstable; urgency=low

  * New maintainer.
  * Upgraded to upstream version 0.95b.
  * Make debian/rules version independent.
  * Debian/rules clean now removes substvars.
  * Bumped the shlibs version to 0.95 as some incompatibilities were
    introduced between 0.89 and 0.90.
  * Added the Section: and Priority: fields to the control file (fixes bug
    #6370).
  * Now /usr/doc/libpng0 contains various info and the debian change log
    stuff (fixes bug #7925).
  * Added -D_REENTRANT compilation flag.

 -- Philippe Troin <phil@fifi.org>  Fri, 18 Apr 1997 14:44:09 -0700

libpng (0.89c-6) unstable; urgency=low

  * Moved shlibs file to correct location

 -- Michael Alan Dorman <mdorman@debian.org>  Sun, 15 Dec 1996 13:03:19 -0500

libpng (0.89c-5) unstable; urgency=low

  * Added shlibs file

 -- Michael Alan Dorman <mdorman@debian.org>  Sat, 23 Nov 1996 16:23:06 -0500

libpng (0.89c-4) unstable; urgency=low

  * Now stripping shared libraries (Bug#5134)

 -- Michael Alan Dorman <mdorman@debian.org>  Sat, 23 Nov 1996 12:05:06 -0500

libpng (0.89c-3) unstable; urgency=low

  * Corrected maintainers address

 -- Michael Alan Dorman <mdorman@debian.org>  Mon, 23 Sep 1996 12:52:03 -0400

libpng (0.89c-2) unstable; urgency=low

  * Accommodate the fact that dpkg-source doesn't properly preserve
    permissions on scripts when extracting package. (Bug#4513)

 -- Michael Alan Dorman <mdorman@calder.med.miami.edu>  Mon, 23 Sep 1996 12:34:35 -0400

libpng (0.89c-1) unstable; urgency=low

  * New upstream version.
  * Moved to new source packaging format.

 -- Michael Alan Dorman <mdorman@calder.med.miami.edu>  Thu, 12 Sep 1996 15:19:35 -0400
