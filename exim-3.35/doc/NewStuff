New Features in Exim
--------------------

This file contains full descriptions of new features that have been added to
Exim, but have not yet made it into the main manual (which is most conveniently
updated when there is a relatively large batch of changes). The doc/ChangeLog
file contains a listing of all changes, including bug fixes. When the manual is
updated, short information about recent changes may still be included here for
convenience.


Version 3.30
------------

The documentation is up-to-date for the 3.30 release. The only new features
added were:

1. -oMas and -oMai to set authenticated_sender and authenticated_id, if the
caller is trusted.

2. If syslog_timestamp is set FALSE, the timestamps on Exim's log lines are
omitted when these lines are sent to syslog.

3. Setting log_sender_on_delivery causes Exim to add an F=<sender> item to
delivery and bounce log lines (F is for "envelope from" - the same letter as is
used in rewriting rules).

4. The expansion operator "md5" computes the MD5 hash of its argument, e.g.
${md5:the quick brown fox}.


Version 3.22
------------

1. Authenticators now have a new generic condition called server_mail_auth_
condition. When a client has authenticated, if it subsequently supplies an AUTH
value on a MAIL command, the value of this new option is expanded. If it yields
an empty string, "0", "no", or "false", the AUTH value is ignored. If the
expansion yields any other value, the AUTH value is retained and passed on with
the message. During the expansion, the address that was supplied by the AUTH
keyword is available in $authenticated_sender.


Version 3.21
------------

1. The maximum length of a macro name has been raised to 63. A configuration
error occurs if the limit is exceeded.

2. The dns_ipv4_lookup option applied only to DNS lookups; I forgot about the
fact that gethostbyname() also has IPv4/IPv6 variations. I've made
dns_ipv4_lookup apply to gethostbyname() as well as to direct DNS lookups, but
for tidiness I have added a better name, ipv4_address_lookup (defaulting false)
which is actually just a synonym.

3. If quota_warn_threshold was given as a percentage when quota was not set,
Exim objected. Now it just ignores the setting.

4. The -Mmd (mark delivered) option now operates case-insensitively.

5. The -bpc option gives a count of messages on the queue. The output is just a
single number, making it easy to use from a script or program. Because it does
not open any message files, it is faster than post-processing the output of
-bp.

5. The smtp transport has a new option called helo_data which is expanded to
give the text used as the argument for EHLO or HELO. The default setting is
"$primary_hostname".


Version 3.20
------------

The documentation is up-to-date for the 3.20 release.
