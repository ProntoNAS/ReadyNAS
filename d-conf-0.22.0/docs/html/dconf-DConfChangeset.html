<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>dconf Reference Manual: DConfChangeset</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="index.html" title="dconf Reference Manual">
<link rel="up" href="ch01.html" title="DConf Client API">
<link rel="prev" href="dconf-dconf-Paths.html" title="dconf Paths">
<link rel="next" href="DConfClient.html" title="DConfClient">
<meta name="generator" content="GTK-Doc V1.21.1 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#dconf-DConfChangeset.description" class="shortcut">Description</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="ch01.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="dconf-dconf-Paths.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="DConfClient.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="dconf-DConfChangeset"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="dconf-DConfChangeset.top_of_page"></a>DConfChangeset</span></h2>
<p>DConfChangeset — A set of changes to a dconf database</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="dconf-DConfChangeset.functions"></a><h2>Functions</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="functions_return">
<col class="functions_name">
</colgroup>
<tbody>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<span class="c_punctuation">(</span><a href="dconf-DConfChangeset.html#DConfChangesetPredicate">*DConfChangesetPredicate</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-all">dconf_changeset_all</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-change">dconf_changeset_change</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">guint</span>
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-describe">dconf_changeset_describe</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="dconf-DConfChangeset.html#DConfChangeset"><span class="returnvalue">DConfChangeset</span></a> *
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-deserialise">dconf_changeset_deserialise</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="dconf-DConfChangeset.html#DConfChangeset"><span class="returnvalue">DConfChangeset</span></a> *
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-diff">dconf_changeset_diff</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-get">dconf_changeset_get</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-is-empty">dconf_changeset_is_empty</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-is-similar-to">dconf_changeset_is_similar_to</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="dconf-DConfChangeset.html#DConfChangeset"><span class="returnvalue">DConfChangeset</span></a> *
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-new">dconf_changeset_new</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="dconf-DConfChangeset.html#DConfChangeset"><span class="returnvalue">DConfChangeset</span></a> *
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-new-database">dconf_changeset_new_database</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="dconf-DConfChangeset.html#DConfChangeset"><span class="returnvalue">DConfChangeset</span></a> *
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-new-write">dconf_changeset_new_write</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="dconf-DConfChangeset.html#DConfChangeset"><span class="returnvalue">DConfChangeset</span></a> *
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-ref">dconf_changeset_ref</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">GVariant</span> *
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-serialise">dconf_changeset_serialise</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-set">dconf_changeset_set</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-unref">dconf_changeset_unref</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="dconf-DConfChangeset.html#dconf-changeset-seal">dconf_changeset_seal</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="dconf-DConfChangeset.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="name">
<col class="description">
</colgroup>
<tbody><tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a href="dconf-DConfChangeset.html#DConfChangeset">DConfChangeset</a></td>
</tr></tbody>
</table></div>
</div>
<div class="refsect1">
<a name="dconf-DConfChangeset.description"></a><h2>Description</h2>
<p><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> represents a set of changes that can be made to a
dconf database.  Currently supported operations are writing new
values to keys and resetting keys and dirs.</p>
<p>Create the changeset with <a href="dconf-DConfChangeset.html#dconf-changeset-new"><code class="function">dconf_changeset_new()</code></a> and populate it with
<a href="dconf-DConfChangeset.html#dconf-changeset-set"><code class="function">dconf_changeset_set()</code></a>.  Submit it to dconf with
<a href="DConfClient.html#dconf-client-change-fast"><code class="function">dconf_client_change_fast()</code></a> or <a href="DConfClient.html#dconf-client-change-sync"><code class="function">dconf_client_change_sync()</code></a>.
<a href="dconf-DConfChangeset.html#dconf-changeset-new-write"><code class="function">dconf_changeset_new_write()</code></a> is a convenience constructor for the
common case of writing or resetting a single value.</p>
</div>
<div class="refsect1">
<a name="dconf-DConfChangeset.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="DConfChangesetPredicate"></a><h3>DConfChangesetPredicate ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
<span class="c_punctuation">(</span>*DConfChangesetPredicate<span class="c_punctuation">)</span> (<em class="parameter"><code>const <span class="type">gchar</span> *path</code></em>,
                            <em class="parameter"><code><span class="type">GVariant</span> *value</code></em>,
                            <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
<p>Callback function type for predicates over items in a
<a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a>.</p>
<p>Use with <a href="dconf-DConfChangeset.html#dconf-changeset-all"><code class="function">dconf_changeset_all()</code></a>.</p>
<div class="refsect3">
<a name="id-1.3.4.6.2.6"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>path</p></td>
<td class="parameter_description"><p>a path, as per <a href="dconf-dconf-Paths.html#dconf-is-path"><code class="function">dconf_is_path()</code></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>value</p></td>
<td class="parameter_description"><p>a <span class="type">GVariant</span>, or <code class="literal">NULL</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data pointer</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.4.6.2.7"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if the predicate is met for the given <em class="parameter"><code>path</code></em>
and <em class="parameter"><code>value</code></em>
</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-all"></a><h3>dconf_changeset_all ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
dconf_changeset_all (<em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *changeset</code></em>,
                     <em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangesetPredicate"><span class="type">DConfChangesetPredicate</span></a> predicate</code></em>,
                     <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
<p>Checks if all changes in the changeset satisfy <em class="parameter"><code>predicate</code></em>
.</p>
<p><em class="parameter"><code>predicate</code></em>
 is called on each item in the changeset, in turn, until it
returns <code class="literal">FALSE</code>.</p>
<p>If <em class="parameter"><code>predicate</code></em>
 returns <code class="literal">FALSE</code> for any item, this function returns
<code class="literal">FALSE</code>.  If not (including the case of no items) then this function
returns <code class="literal">TRUE</code>.</p>
<div class="refsect3">
<a name="id-1.3.4.6.3.7"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>changeset</p></td>
<td class="parameter_description"><p>a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>predicate</p></td>
<td class="parameter_description"><p>a <a href="dconf-DConfChangeset.html#DConfChangesetPredicate"><span class="type">DConfChangesetPredicate</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data to pass to <em class="parameter"><code>predicate</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.4.6.3.8"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if all items in <em class="parameter"><code>changeset</code></em>
satisfy <em class="parameter"><code>predicate</code></em>
</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-change"></a><h3>dconf_changeset_change ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
dconf_changeset_change (<em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *changeset</code></em>,
                        <em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *changes</code></em>);</pre>
<p>Applies <em class="parameter"><code>changes</code></em>
 to <em class="parameter"><code>changeset</code></em>
.</p>
<p>If <em class="parameter"><code>changeset</code></em>
 is a normal changeset then reset requests in <em class="parameter"><code>changes</code></em>

will be allied to <em class="parameter"><code>changeset</code></em>
 and then copied down into it.  In this
case the two changesets are effectively being merged.</p>
<p>If <em class="parameter"><code>changeset</code></em>
 is in database mode then the reset operations in
<em class="parameter"><code>changes</code></em>
 will simply be applied to <em class="parameter"><code>changeset</code></em>
.</p>
<div class="refsect3">
<a name="id-1.3.4.6.4.7"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>changeset</p></td>
<td class="parameter_description"><p>a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> (to be changed)</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>changes</p></td>
<td class="parameter_description"><p>the changes to make to <em class="parameter"><code>changeset</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since 0.16</p>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-describe"></a><h3>dconf_changeset_describe ()</h3>
<pre class="programlisting"><span class="returnvalue">guint</span>
dconf_changeset_describe (<em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *changeset</code></em>,
                          <em class="parameter"><code>const <span class="type">gchar</span> **prefix</code></em>,
                          <em class="parameter"><code>const <span class="type">gchar</span> * const **paths</code></em>,
                          <em class="parameter"><code><span class="type">GVariant</span> * const **values</code></em>);</pre>
<p>Describes <em class="parameter"><code>changeset</code></em>
.</p>
<p><em class="parameter"><code>prefix</code></em>
 and <em class="parameter"><code>paths</code></em>
 are presented in the same way as they are for the
DConfClient::changed signal.  <em class="parameter"><code>values</code></em>
 is an array of the same length
as <em class="parameter"><code>paths</code></em>
.  For each key described by an element in <em class="parameter"><code>paths</code></em>
, <em class="parameter"><code>values</code></em>

will contain either a <span class="type">GVariant</span> (the requested new value of that key)
or <code class="literal">NULL</code> (to reset a reset).</p>
<p>The <em class="parameter"><code>paths</code></em>
 array is returned in an order such that dir will always
come before keys contained within those dirs.</p>
<p>If <em class="parameter"><code>changeset</code></em>
 is not already sealed then this call will implicitly
seal it.  See <a href="dconf-DConfChangeset.html#dconf-changeset-seal"><code class="function">dconf_changeset_seal()</code></a>.</p>
<div class="refsect3">
<a name="id-1.3.4.6.5.8"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>changeset</p></td>
<td class="parameter_description"><p>a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>prefix</p></td>
<td class="parameter_description"><p>the prefix under which changes have been requested</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>paths</p></td>
<td class="parameter_description"><p>the list of paths changed, relative to <em class="parameter"><code>prefix</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>values</p></td>
<td class="parameter_description"><p>the list of values changed</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.4.6.5.9"></a><h4>Returns</h4>
<p> the number of changes (the length of <em class="parameter"><code>changes</code></em>
and <em class="parameter"><code>values</code></em>
).</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-deserialise"></a><h3>dconf_changeset_deserialise ()</h3>
<pre class="programlisting"><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="returnvalue">DConfChangeset</span></a> *
dconf_changeset_deserialise (<em class="parameter"><code><span class="type">GVariant</span> *serialised</code></em>);</pre>
<p>Creates a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> according to a serialised description
returned from an earlier call to <a href="dconf-DConfChangeset.html#dconf-changeset-serialise"><code class="function">dconf_changeset_serialise()</code></a>.</p>
<p><em class="parameter"><code>serialised</code></em>
 has no particular format -- you should only pass a value
that resulted from an earlier serialise operation.</p>
<p>This call never fails, even if <em class="parameter"><code>serialised</code></em>
 is not in the correct
format.  Improperly-formatted parts are simply ignored.</p>
<div class="refsect3">
<a name="id-1.3.4.6.6.7"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>serialised</p></td>
<td class="parameter_description"><p>a <span class="type">GVariant</span> from <a href="dconf-DConfChangeset.html#dconf-changeset-serialise"><code class="function">dconf_changeset_serialise()</code></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.4.6.6.8"></a><h4>Returns</h4>
<p> a new <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a></p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-diff"></a><h3>dconf_changeset_diff ()</h3>
<pre class="programlisting"><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="returnvalue">DConfChangeset</span></a> *
dconf_changeset_diff (<em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *from</code></em>,
                      <em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *to</code></em>);</pre>
<p>Compares to database-mode changesets and produces a changeset that
describes their differences.</p>
<p>If there is no difference, <code class="literal">NULL</code> is returned.</p>
<p>Applying the returned changeset to <em class="parameter"><code>from</code></em>
 using
<a href="dconf-DConfChangeset.html#dconf-changeset-change"><code class="function">dconf_changeset_change()</code></a> will result in the two changesets being
equal.</p>
<div class="refsect3">
<a name="id-1.3.4.6.7.7"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>from</p></td>
<td class="parameter_description"><p>a database mode changeset</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>to</p></td>
<td class="parameter_description"><p>a database mode changeset</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.4.6.7.8"></a><h4>Returns</h4>
<p> the changes, or <code class="literal">NULL</code>. </p>
<p><span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span></p>
</div>
<p class="since">Since 0.16</p>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-get"></a><h3>dconf_changeset_get ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
dconf_changeset_get (<em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *changeset</code></em>,
                     <em class="parameter"><code>const <span class="type">gchar</span> *key</code></em>,
                     <em class="parameter"><code><span class="type">GVariant</span> **value</code></em>);</pre>
<p>Checks if a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> has an outstanding request to change
the value of the given <em class="parameter"><code>key</code></em>
.</p>
<p>If the change doesn't involve <em class="parameter"><code>key</code></em>
 then <code class="literal">FALSE</code> is returned and the
<em class="parameter"><code>value</code></em>
 is unmodified.</p>
<p>If the change modifies <em class="parameter"><code>key</code></em>
 then <em class="parameter"><code>value</code></em>
 is set either to the value
for that key, or <code class="literal">NULL</code> in the case that the key is being reset by the
request.</p>
<div class="refsect3">
<a name="id-1.3.4.6.8.7"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>changeset</p></td>
<td class="parameter_description"><p>a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>key</p></td>
<td class="parameter_description"><p>the key to check</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>value</p></td>
<td class="parameter_description"><p>a return location for the value, or <code class="literal">NULL</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.4.6.8.8"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if the key is being modified by the change</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-is-empty"></a><h3>dconf_changeset_is_empty ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
dconf_changeset_is_empty (<em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *changeset</code></em>);</pre>
<p>Checks if <em class="parameter"><code>changeset</code></em>
 is empty (ie: contains no changes).</p>
<div class="refsect3">
<a name="id-1.3.4.6.9.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>changeset</p></td>
<td class="parameter_description"><p>a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.4.6.9.6"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if <em class="parameter"><code>changeset</code></em>
is empty</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-is-similar-to"></a><h3>dconf_changeset_is_similar_to ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
dconf_changeset_is_similar_to (<em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *changeset</code></em>,
                               <em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *other</code></em>);</pre>
<p>Checks if <em class="parameter"><code>changeset</code></em>
 is similar to <em class="parameter"><code>other</code></em>
.</p>
<p>Two changes are considered similar if they write to the exact same
set of keys.  The values written are not considered.</p>
<p>This check is used to prevent building up a queue of repeated writes
of the same keys.  This is often seen when an application writes to a
key on every move of a slider or an application window.</p>
<p>Strictly speaking, a write resettings all of "/a/" after a write
containing "/a/b" could cause the later to be removed from the queue,
but this situation is difficult to detect and is expected to be
extremely rare.</p>
<div class="refsect3">
<a name="id-1.3.4.6.10.8"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>changeset</p></td>
<td class="parameter_description"><p>a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>other</p></td>
<td class="parameter_description"><p>another <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.4.6.10.9"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if the changes are similar</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-new"></a><h3>dconf_changeset_new ()</h3>
<pre class="programlisting"><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="returnvalue">DConfChangeset</span></a> *
dconf_changeset_new (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>Creates a new, empty, <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a>.</p>
<div class="refsect3">
<a name="id-1.3.4.6.11.5"></a><h4>Returns</h4>
<p> the new <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a>.</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-new-database"></a><h3>dconf_changeset_new_database ()</h3>
<pre class="programlisting"><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="returnvalue">DConfChangeset</span></a> *
dconf_changeset_new_database (<em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *copy_of</code></em>);</pre>
<p>Creates a new <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> in "database" mode, possibly
initialising it with the values of another changeset.</p>
<p>In a certain sense it's possible to imagine that a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a>
could express the contents of an entire dconf database -- the
contents are the database are what you would have if you applied the
changeset to an empty database.  One thing that fails to map in this
analogy are reset operations -- if we start with an empty database
then reset operations are meaningless.</p>
<p>A "database" mode changeset is therefore a changeset which is
incapable of containing reset operations.</p>
<p>It is not permitted to use a database-mode changeset for most
operations (such as the <em class="parameter"><code>change</code></em>
 argument to <a href="dconf-DConfChangeset.html#dconf-changeset-change"><code class="function">dconf_changeset_change()</code></a>
or the <em class="parameter"><code>changeset</code></em>
 argument to <a href="DConfClient.html"><span class="type">DConfClient</span></a> APIs).</p>
<p>If <em class="parameter"><code>copy_of</code></em>
 is non-<code class="literal">NULL</code> then its contents will be copied into the
created changeset.  <em class="parameter"><code>copy_of</code></em>
 must be a database-mode changeset.</p>
<div class="refsect3">
<a name="id-1.3.4.6.12.9"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>copy_of</p></td>
<td class="parameter_description"><p> a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> to copy. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.4.6.12.10"></a><h4>Returns</h4>
<p> a new <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> in "database" mode</p>
<p></p>
</div>
<p class="since">Since 0.16</p>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-new-write"></a><h3>dconf_changeset_new_write ()</h3>
<pre class="programlisting"><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="returnvalue">DConfChangeset</span></a> *
dconf_changeset_new_write (<em class="parameter"><code>const <span class="type">gchar</span> *path</code></em>,
                           <em class="parameter"><code><span class="type">GVariant</span> *value</code></em>);</pre>
<p>Creates a new <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> with one change.  This is equivalent to
calling <a href="dconf-DConfChangeset.html#dconf-changeset-new"><code class="function">dconf_changeset_new()</code></a> and then <a href="dconf-DConfChangeset.html#dconf-changeset-set"><code class="function">dconf_changeset_set()</code></a> with
<em class="parameter"><code>path</code></em>
 and <em class="parameter"><code>value</code></em>
.</p>
<div class="refsect3">
<a name="id-1.3.4.6.13.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>path</p></td>
<td class="parameter_description"><p>a dconf path</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>value</p></td>
<td class="parameter_description"><p>a <span class="type">GVariant</span>, or <code class="literal">NULL</code></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.4.6.13.6"></a><h4>Returns</h4>
<p> a new <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a></p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-ref"></a><h3>dconf_changeset_ref ()</h3>
<pre class="programlisting"><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="returnvalue">DConfChangeset</span></a> *
dconf_changeset_ref (<em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *changeset</code></em>);</pre>
<p>Increases the reference count on <em class="parameter"><code>changeset</code></em>
</p>
<div class="refsect3">
<a name="id-1.3.4.6.14.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>changeset</p></td>
<td class="parameter_description"><p>a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.4.6.14.6"></a><h4>Returns</h4>
<p> <em class="parameter"><code>changeset</code></em>
</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-serialise"></a><h3>dconf_changeset_serialise ()</h3>
<pre class="programlisting"><span class="returnvalue">GVariant</span> *
dconf_changeset_serialise (<em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *changeset</code></em>);</pre>
<p>Serialises a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a>.</p>
<p>The returned value has no particular format and should only be passed
to <a href="dconf-DConfChangeset.html#dconf-changeset-deserialise"><code class="function">dconf_changeset_deserialise()</code></a>.</p>
<div class="refsect3">
<a name="id-1.3.4.6.15.6"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>changeset</p></td>
<td class="parameter_description"><p>a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.4.6.15.7"></a><h4>Returns</h4>
<p> a floating <span class="type">GVariant</span></p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-set"></a><h3>dconf_changeset_set ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
dconf_changeset_set (<em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *changeset</code></em>,
                     <em class="parameter"><code>const <span class="type">gchar</span> *path</code></em>,
                     <em class="parameter"><code><span class="type">GVariant</span> *value</code></em>);</pre>
<p>Adds an operation to modify <em class="parameter"><code>path</code></em>
 to a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a>.</p>
<p><em class="parameter"><code>path</code></em>
 may either be a key or a dir.  If it is a key then <em class="parameter"><code>value</code></em>
 may
be a <span class="type">GVariant</span>, or <code class="literal">NULL</code> (to set or reset the key).</p>
<p>If <em class="parameter"><code>path</code></em>
 is a dir then this must be a reset operation: <em class="parameter"><code>value</code></em>
 must be
<code class="literal">NULL</code>.  It is not permitted to assign a <span class="type">GVariant</span> value to a dir.</p>
<div class="refsect3">
<a name="id-1.3.4.6.16.7"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>changeset</p></td>
<td class="parameter_description"><p>a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>path</p></td>
<td class="parameter_description"><p>a path to modify</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>value</p></td>
<td class="parameter_description"><p>the value for the key, or <code class="literal">NULL</code> to reset</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-unref"></a><h3>dconf_changeset_unref ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
dconf_changeset_unref (<em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *changeset</code></em>);</pre>
<p>Releases a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> reference.</p>
<div class="refsect3">
<a name="id-1.3.4.6.17.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>changeset</p></td>
<td class="parameter_description"><p>a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="dconf-changeset-seal"></a><h3>dconf_changeset_seal ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
dconf_changeset_seal (<em class="parameter"><code><a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> *changeset</code></em>);</pre>
<p>Seals <em class="parameter"><code>changeset</code></em>
.</p>
<p>When a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a> is first created, it is mutable and
non-threadsafe.  Once the changeset is populated with the required
changes, it can be shared between multiple threads, but only by
making it immutable by "sealing" it.</p>
<p>After the changeset is sealed, you cannot call <a href="dconf-DConfChangeset.html#dconf-changeset-set"><code class="function">dconf_changeset_set()</code></a>
or any other functions that would modify it.  It is safe, however, to
share it between multiple threads.</p>
<p>All changesets are unsealed on creation, including those that are
made by copying changesets that are sealed.
<a href="dconf-DConfChangeset.html#dconf-changeset-describe"><code class="function">dconf_changeset_describe()</code></a> will implicitly seal a changeset.</p>
<p>This function is idempotent.</p>
<div class="refsect3">
<a name="id-1.3.4.6.18.9"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>changeset</p></td>
<td class="parameter_description"><p>a <a href="dconf-DConfChangeset.html#DConfChangeset"><span class="type">DConfChangeset</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<p class="since">Since 0.18</p>
</div>
</div>
<div class="refsect1">
<a name="dconf-DConfChangeset.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="DConfChangeset"></a><h3>DConfChangeset</h3>
<pre class="programlisting">typedef struct _DConfChangeset DConfChangeset;</pre>
<p>This is a reference counted opaque structure type.  It is not a
<span class="type">GObject</span>.</p>
<p>Use <a href="dconf-DConfChangeset.html#dconf-changeset-ref"><code class="function">dconf_changeset_ref()</code></a> and <a href="dconf-DConfChangeset.html#dconf-changeset-unref"><code class="function">dconf_changeset_unref()</code></a> to manipulate
references.</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.21.1</div>
</body>
</html>