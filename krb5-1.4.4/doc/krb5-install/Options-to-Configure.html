<html lang="en">
<head>
<title>Kerberos V5 Installation Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Kerberos V5 Installation Guide">
<meta name="generator" content="makeinfo 4.5">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home">
</head>
<body>
<div class="node">
<p>
Node:<a name="Options%20to%20Configure">Options to Configure</a>,
Next:<a rel="next" accesskey="n" href="osconf.h.html#osconf.h">osconf.h</a>,
Previous:<a rel="previous" accesskey="p" href="Testing-the-Build.html#Testing%20the%20Build">Testing the Build</a>,
Up:<a rel="up" accesskey="u" href="Building-Kerberos-V5.html#Building%20Kerberos%20V5">Building Kerberos V5</a>
<hr><br>
</div>

<h3 class="section">Options to Configure</h3>

<p>There are a number of options to <code>configure</code> which you can use to
control how the Kerberos distribution is built.  The following table
lists the most commonly used options to Kerberos V5's <code>configure</code>
program.

     <dl>

     <br><dt><code>--help</code>
     <dd>
Provides help to configure. This will list the set of commonly used
options for building Kerberos.

     <br><dt><code>--prefix=PREFIX</code>
     <dd>
By default, Kerberos will install the package's files rooted at
`/usr/local' as in `/usr/local/bin', `/usr/local/sbin', etc. If you
desire a different location, use this option.

     <br><dt><code>--exec-prefix=EXECPREFIX</code>
     <dd>
This option allows one to separate the architecture independent programs
from the configuration files and manual pages.

     <br><dt><code>--localstatedir=LOCALSTATEDIR</code>
     <dd>
This option sets the directory for locally modifiable single-machine
data.  In Kerberos, this mostly is useful for setting a location for the
KDC data files, as they will be installed in
<code>LOCALSTATEDIR/krb5kdc</code>, which is by default
<code>PREFIX/var/krb5kdc</code>.

     <br><dt><code>CC=COMPILER</code>
     <dd>
Use <code>COMPILER</code> as the C compiler.

     <br><dt><code>CFLAGS=FLAGS</code>
     <dd>
Use <code>FLAGS</code> as the default set of C compiler flags.

     <p>Note that if you use the native Ultrix compiler on a
DECstation you are likely to lose if you pass no flags to cc; md4.c
takes an estimated 3,469 billion years to compile if you provide neither
the <code>-g</code> flag nor the <code>-O</code> flag to <code>cc</code>.

     <br><dt><code>CPPFLAGS=CPPOPTS</code>
     <dd>
Use <code>CPPOPTS</code> as the default set of C preprocessor flags.  The most
common use of this option is to select certain <code>#define</code>'s for use
with the operating system's include files.

     <br><dt><code>LD=LINKER</code>
     <dd>
Use <code>LINKER</code> as the default loader if it should be different from C
compiler as specified above.

     <br><dt><code>LDFLAGS=LDOPTS</code>
     <dd>
This option allows one to specify optional arguments to be passed to the
linker. This might be used to specify optional library paths.

     <br><dt><code>--with-krb4</code>
     <dd>
This option enables Kerberos V4 backwards compatibility using the
builtin Kerberos V4 library.

     <br><dt><code>--with-krb4=KRB4DIR</code>
     <dd>
This option enables Kerberos V4 backwards compatibility using a
pre-existing Kerberos V4 installation.  The directory specified by
<code>KRB4DIR</code> specifies where the V4 header files should be found
(<code>KRB4DIR/include</code>) as well as where the V4 Kerberos library should
be found (<code>KRB4DIR/lib</code>).

     <br><dt><code>--without-krb4</code>
     <dd>
Disables Kerberos V4 backwards compatibility. This prevents Kerberos V4
clients from using the V5 services including the KDC. This would be
useful if you know you will never install or need to interact with V4
clients.

     <br><dt><code>--with-netlib[=libs]</code>
     <dd>
Allows for suppression of or replacement of network libraries. By
default, Kerberos V5 configuration will look for <code>-lnsl</code> and
<code>-lsocket</code>. If your operating system has a broken resolver library
(see <a href="Solaris-versions-2.0-through-2.3.html#Solaris%20versions%202.0%20through%202.3">Solaris versions 2.0 through 2.3</a>) or fails to pass the tests in
<code>src/tests/resolv</code> you will need to use this option.

     <br><dt><code>--with-tcl=TCLPATH</code>
     <dd>
Some of the unit-tests in the build tree rely upon using a program in
Tcl. The directory specified by <code>TCLPATH</code> specifies where the Tcl
header file (<code>TCLPATH/include/tcl.h</code> as well as where the Tcl
library should be found (<code>TCLPATH/lib</code>).

     <br><dt><code>--enable-shared</code>
     <dd>
This option will turn on the building and use of shared library objects
in the Kerberos build. This option is only supported on certain
platforms.

     <br><dt><code>--enable-dns</code>
     <dd><br><dt><code>--enable-dns-for-kdc</code>
     <dd><br><dt><code>--enable-dns-for-realm</code>
     <dd>
Enable the use of DNS to look up a host's Kerberos realm, or a realm's
KDCs, if the information is not provided in krb5.conf. See <a href="Hostnames-for-the-Master-and-Slave-KDCs.html#Hostnames%20for%20the%20Master%20and%20Slave%20KDCs">Hostnames for the Master and Slave KDCs</a> for information about using DNS to
locate the KDCs, and <a href="Mapping-Hostnames-onto-Kerberos-Realms.html#Mapping%20Hostnames%20onto%20Kerberos%20Realms">Mapping Hostnames onto Kerberos Realms</a> for
information about using DNS to determine the default realm.  By default,
DNS lookups are enabled for the former but not for the latter.

     <br><dt><code>--enable-kdc-replay-cache</code>
     <dd>
Enable a cache in the KDC to detect retransmitted messages, and resend
the previous responses to them.  This protects against certain types of
attempts to extract information from the KDC through some of the
hardware preauthentication systems.

     <br><dt><code>--with-system-et</code>
     <dd>
Use an installed version of the error-table support software, the
<code>compile_et</code> program, the <code>com_err.h</code> header file and the
<code>com_err</code> library.  If these are not in the default locations,
you may wish to specify <code>CPPFLAGS=-I/some/dir</code> and
<code>LDFLAGS=-L/some/other/dir</code> options at configuration time as
well.

     <p>If this option is not given, a version supplied with the Kerberos
sources will be built and installed along with the rest of the
Kerberos tree, for Kerberos applications to link against.

     <br><dt><code>--with-system-ss</code>
     <dd>
Use an installed version of the subsystem command-line interface
software, the <code>mk_cmds</code> program, the <code>ss/ss.h</code> header file
and the <code>ss</code> library.  If these are not in the default locations,
you may wish to specify <code>CPPFLAGS=-I/some/dir</code> and
<code>LDFLAGS=-L/some/other/dir</code> options at configuration time as
well.  See also the <code>SS_LIB</code> option.

     <p>If this option is not given, the <code>ss</code> library supplied with the
Kerberos sources will be compiled and linked into those programs that
need it; it will not be installed separately.

     <br><dt><code>SS_LIB=libs...</code>
     <dd>
If <code>-lss</code> is not the correct way to link in your installed
<code>ss</code> library, for example if additional support libraries are
needed, specify the correct link options here.  Some variants of this
library are around which allow for Emacs-like line editing, but
different versions require different support libraries to be
explicitly specified.

     <p>This option is ignored if <code>--with-system-ss</code> is not specified.

     <br><dt><code>--with-system-db</code>
     <dd>
Use an installed version of the Berkeley DB package, which must
provide an API compatible with version 1.85.  This option is
<em>unsupported</em> and untested.  In particular, we do not know if the
database-rename code used in the dumpfile load operation will behave
properly.

     <p>If this option is not given, a version supplied with the Kerberos
sources will be built and installed.  (We are not updating this
version at this time because of licensing issues with newer versions
that we haven't investigated sufficiently yet.)

     <br><dt><code>DB_HEADER=headername.h</code>
     <dd>
If <code>db.h</code> is not the correct header file to include to compile
against the Berkeley DB 1.85 API, specify the correct header file name
with this option.  For example, <code>DB_HEADER=db3/db_185.h</code>.

     <br><dt><code>DB_LIB=libs...</code>
     <dd>
If <code>-ldb</code> is not the correct library specification for the
Berkeley DB library version to be used, override it with this option. 
For example, <code>DB_LIB=-ldb-3.3</code>.

</dl>

<p>For example, in order to configure Kerberos on a Solaris machine using
the <code>suncc</code> compiler with the optimizer turned on, run the configure
script with the following options:

<pre class="example">     % ./configure CC=suncc CFLAGS=-O
     </pre>

<p>For a slightly more complicated example, consider a system where
several packages to be used by Kerberos are installed in
<code>/usr/foobar</code>, including Berkeley DB 3.3, and an <code>ss</code>
library that needs to link against the <code>curses</code> library.  The
configuration of Kerberos might be done thus:

<pre class="example">     % ./configure CPPFLAGS=-I/usr/foobar/include LDFLAGS=-L/usr/foobar/lib \
                   --with-system-et --with-system-ss --with-system-db \
                   SS_LIB='-lss -lcurses' \
                   DB_HEADER=db3/db_185.h DB_LIB=-ldb-3.3
     </pre>

<p>In previous releases, <code>--with-</code> options were used to specify the
compiler and linker and their options.

</body></html>

