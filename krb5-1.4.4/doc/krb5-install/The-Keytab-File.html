<html lang="en">
<head>
<title>Kerberos V5 Installation Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Kerberos V5 Installation Guide">
<meta name="generator" content="makeinfo 4.5">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home">
</head>
<body>
<div class="node">
<p>
Node:<a name="The%20Keytab%20File">The Keytab File</a>,
Next:<a rel="next" accesskey="n" href="Some-Advice-about-Secure-Hosts.html#Some%20Advice%20about%20Secure%20Hosts">Some Advice about Secure Hosts</a>,
Previous:<a rel="previous" accesskey="p" href="Server-Configuration-Files.html#Server%20Configuration%20Files">Server Configuration Files</a>,
Up:<a rel="up" accesskey="u" href="UNIX-Application-Servers.html#UNIX%20Application%20Servers">UNIX Application Servers</a>
<hr><br>
</div>

<h4 class="subsection">The Keytab File</h4>

<p>All Kerberos server machines need a <dfn>keytab</dfn> file, called
<code>/etc/krb5.keytab</code>, to authenticate to the KDC.  The keytab file is
an encrypted, local, on-disk copy of the host's key.  The keytab file,
like the stash file (<a href="Create-the-Database.html#Create%20the%20Database">Create the Database</a>) is a potential
point-of-entry for a break-in, and if compromised, would allow
unrestricted access to its host.  The keytab file should be readable
only by root, and should exist only on the machine's local disk.  The
file should not be part of any backup of the machine, unless access to
the backup data is secured as tightly as access to the machine's root
password itself.

<p>In order to generate a keytab for a host, the host must have a principal
in the Kerberos database.  The procedure for adding hosts to the
database is described fully in the "Adding or Modifying Principals"
section of the <cite>Kerberos V5 System Administrator's Guide</cite>. 
See <a href="Create-Host-Keys-for-the-Slave-KDCs.html#Create%20Host%20Keys%20for%20the%20Slave%20KDCs">Create Host Keys for the Slave KDCs</a>. for a brief description.) 
The keytab is generated by running <code>kadmin</code> and issuing the
<code>ktadd</code> command.

<p>For example, to generate a keytab file to allow the host
trillium.mit.edu to authenticate for the services
<code>host</code>, <code>ftp</code>, and <code>pop</code>, the administrator
<code>joeadmin</code> would issue the command (on
trillium.mit.edu):

<pre class="smallexample">     <b>trillium%</b> /usr/local/sbin/kadmin
     <b>kadmin5:</b> ktadd host/trillium.mit.edu ftp/trillium.mit.edu
     =&gt; pop/trillium.mit.edu
     <b>kadmin: Entry for principal host/trillium.mit.edu@ATHENA.MIT.EDU with
     kvno 3, encryption type DES-CBC-CRC added to keytab
     WRFILE:/etc/krb5.keytab.
     kadmin: Entry for principal ftp/trillium.mit.edu@ATHENA.MIT.EDU with
     kvno 3, encryption type DES-CBC-CRC added to keytab
     WRFILE:/etc/krb5.keytab.
     kadmin: Entry for principal pop/trillium.mit.edu@ATHENA.MIT.EDU with
     kvno 3, encryption type DES-CBC-CRC added to keytab
     WRFILE:/etc/krb5.keytab.
     kadmin5:</b> quit
     <b>trillium%</b>
     </pre>

<p>If you generate the keytab file on another host, you need to get a copy
of the keytab file onto the destination host (<code>trillium</code>, in the
above example) without sending it unencrypted over the network.  If you
have installed the Kerberos V5 client programs, you can use
encrypted <code>rcp</code>.

</body></html>

