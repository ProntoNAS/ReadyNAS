<html lang="en">
<head>
<title>Kerberos V5 Installation Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Kerberos V5 Installation Guide">
<meta name="generator" content="makeinfo 4.5">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home">
</head>
<body>
<div class="node">
<p>
Node:<a name="Create%20a%20kadmind%20Keytab%20(optional)">Create a kadmind Keytab (optional)</a>,
Next:<a rel="next" accesskey="n" href="Start-the-Kerberos-Daemons.html#Start%20the%20Kerberos%20Daemons">Start the Kerberos Daemons</a>,
Previous:<a rel="previous" accesskey="p" href="Add-Administrators-to-the-Kerberos-Database.html#Add%20Administrators%20to%20the%20Kerberos%20Database">Add Administrators to the Kerberos Database</a>,
Up:<a rel="up" accesskey="u" href="Install-the-Master-KDC.html#Install%20the%20Master%20KDC">Install the Master KDC</a>
<hr><br>
</div>

<h5 class="subsubsection">Create a kadmind Keytab (optional)</h5>

<p>The kadmind keytab is the key that the legacy admininstration daemons
<code>kadmind4</code> and <code>v5passwdd</code> will use to decrypt
administrators' or clients' Kerberos tickets to determine whether or
not they should have access to the database.  You need to create the
kadmin keytab with entries for the principals <code>kadmin/admin</code> and
<code>kadmin/changepw</code>.  (These principals are placed in the Kerberos
database automatically when you create it.)  To create the kadmin
keytab, run <code>kadmin.local</code> and use the <code>ktadd</code> command, as
in the following example.  (The line beginning with =&gt; is a
continuation of the previous line.):

<pre class="smallexample">     <b>shell%</b> /usr/local/sbin/kadmin.local
     <b>kadmin.local:</b> ktadd -k /usr/local/var/krb5kdc/kadm5.keytab
     =&gt; kadmin/admin kadmin/changepw
     <b> Entry for principal kadmin/admin with kvno 5, encryption
     	type Triple DES cbc mode with HMAC/sha1 added to keytab
     	WRFILE:/usr/local/var/krb5kdc/kadm5.keytab.
     Entry for principal kadmin/admin with kvno 5, encryption type DES cbc mode
     	with CRC-32 added to keytab
     	WRFILE:/usr/local/var/krb5kdc/kadm5.keytab.
     Entry for principal kadmin/changepw with kvno 5, encryption
     	type Triple DES cbc mode with HMAC/sha1 added to keytab
     	WRFILE:/usr/local/var/krb5kdc/kadm5.keytab.
     Entry for principal kadmin/changepw with kvno 5,
     	encryption type DES cbc mode with CRC-32 added to keytab
     	WRFILE:/usr/local/var/krb5kdc/kadm5.keytab.
     kadmin.local:</b> quit
     <b>shell%</b>
     </pre>

<p>As specified in the <code>-k</code> argument, <code>ktadd</code> will save the
extracted keytab as <br> <code>/usr/local/var/krb5kdc/kadm5.keytab</code>. 
The filename you use must be the one specified in your <code>kdc.conf</code>
file.

</body></html>

