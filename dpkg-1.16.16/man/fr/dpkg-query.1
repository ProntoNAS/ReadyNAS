.\" dpkg manual page - dpkg-query(1)
.\"
.\" Copyright Â© 2001 Wichert Akkerman <wakkerma@debian.org>
.\" Copyright Â© 2006-2007 Frank Lichtenheld <djpig@debian.org>
.\" Copyright Â© 2006-2012 Guillem Jover <guillem@debian.org>
.\" Copyright Â© 2008-2011 RaphaÃ«l Hertzog <hertzog@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <http://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dpkg\-query 1 03\-04\-2012 "Projet Debian" "suite dpkg"
.SH NOM
dpkg\-query \- Un outil pour interroger la base de données de dpkg
.
.SH SYNOPSIS
\fBdpkg\-query\fP [\fIoption\fP...] \fIcommande\fP
.
.SH DESCRIPTION
\fBdpkg\-query\fP est un outil pour afficher des informations sur les paquets
connus par la base de données de \fBdpkg\fP.
.
.SH COMMANDES
.TP 
\fB\-l\fP, \fB\-\-list\fP [\fImotif\-de\-nom\-de\-paquet\fP...]
Affiche les paquets correspondant au motif donné. Si aucun
\fInom\-paquet\-motif\fP n'est indiqué, affiche tous les paquets de
\fI/var/lib/dpkg/status\fP, sauf ceux qui ne sont pas installés (c'est\-à\-dire
ceux qui ont été précédemment purgés). Les métacaractères ordinaires de
l'interpréteur de commandes sont autorisés dans \fInom\-paquet\-motif\fP. Il
faudra sans doute mettre \fInom\-paquet\-motif\fP entre apostrophes pour éviter
l'expansion des noms de fichier par l'interpréteur de commandes. Par
exemple, tous les paquets dont le nom commence par «\ libc6\ » seront affichés
par la commande\ :

.nf
\fBdpkg\-query \-l \(aqlibc6*\(aq\fP
.fi

Les trois premières colonnes affichées montrent dans l'ordre\ : l'action
souhaitée, l'état du paquet et les erreurs.

Action souhaitée\ :
.nf
  u = Inconnu (Unknown)
  i = Installer (Install)
  h = Garder (Hold)
  r = Supprimer (Remove)
  p = Purger (Purge)
.fi

État du paquet\ :
.nf
  n = Non installé (Not\-installed)
  c = Fichiers de configuration (Config\-files)
  H = Semi\-installé (Half\-installed)
  U = Décompressé (Unpacked)
  F = Semi\-configuré (Half\-configured)
  W = Attente de déclenchements (Triggers\-awaiting)
  t = Déclenchements en attente (Triggers\-pending)
  i = Installé (Installed)
.fi

Drapeaux d'erreur\ :
.nf
  <empty> = (none)
  R = Reinst\-required
.fi

Un état en majuscules ou une lettre d'erreur indiquent que le paquet peut
provoquer des problèmes graves. Veuillez consulter \fBdpkg\fP(1) à propos des
états et drapeaux ci\-dessus.

On ne peut pas configurer le format de sortie de cette option. Il s'adapte
automatiquement à la largeur du terminal. Ce format est destiné aux humains
et la machine le lit mal. Voyez \fB\-W\fP (\fB\-\-show\fP) et \fB\-\-showformat\fP pour
une possible configuration de ce format.
.TP 
\fB\-W\fP, \fB\-\-show\fP [\fImotif\-de\-nom\-de\-paquet\fP...]
Tout comme l'option \fB\-\-list\fP, cette option affiche la liste des paquets qui
correspondent au motif donné. La sortie peut cependant être formatée en
utilisant l'option \fB\-\-showformat\fP. Le format de sortie par défaut est le
suivant\ : une ligne pour chaque paquet, avec le nom (éventuellement complété
par l'identifiant d'architecture pour les paquets \fIMulti\-Arch\fP \fBsame\fP) et
la version installée, séparés par une tabulation.
.TP 
\fB\-s\fP, \fB\-\-status\fP \fInom\-paquet\fP ...
Donne l'état du paquet indiqué. C'est simplement l'affichage de l'entrée de
la base de données concernant les états des paquets installés. Lorsque des
\fInoms\-de\-paquets\fP multiples sont indiqués, les entrées d'état demandées
sont séparées par une ligne vide et sont dans l'ordre utilisé pour la liste
de paramètres.
.TP 
\fB\-L\fP, \fB\-\-listfiles\fP \fInom\-paquet\fP...
Affiche la liste des fichiers du \fInom\-paquet\fP installés sur le
système. Lorsque plusieurs \fInom\-paquet\fP sont indiqués, les différentes
listes de fichiers sont séparées par une ligne vide et elles sont fournies
dans l'ordre de la liste de paramètres. Il faut remarquer cependant que les
fichiers créés par les scripts d'installation propres aux paquets ne sont
pas affichés.
.TP 
\fB\-\-control\-list\fP \fInom\-de\-paquet\fP
Affiche les fichiers de contrôle installés sur le système à partir de
\fInom\-de\-paquet\fP. Ceux\-ci peuvent être utilisés en paramètres d'entrée de
\fB\-\-control\-show\fP.
.TP 
\fB\-\-control\-show\fP \fInom\-de\-paquet\fP \fIfichier\-de\-contrôle\fP
Affiche sur la sortie standard le \fIfichier\-de\-contrôle\fP installé sur le
système pour \fInom\-de\-paquet\fP.
.TP 
\fB\-c\fP, \fB\-\-control\-path\fP \fInom\-paquet\fP [\fIfichier\-contrôle\fP]
Affiche les chemins pour les fichiers de contrôle installés sur votre
système pour \fInom\-paquet\fP. Si \fIfichier\-contrôle\fP est indiqué, seul le
chemin pour ce fichier de contrôle sera affiché, s'il est
présent. \fBAttention\fP\ :\ cette commande est obsolète et il est conseillé
d'utiliser \fB\-\-control\-list\fP et \fB\-\-control\-show\fP à la place.
.TP 
\fB\-S\fP, \fB\-\-search\fP \fImotif\-de\-nom\-a\-rechercher\fP...
Recherche les paquets propriétaires de fichiers dont le nom correspond au
motif indiqué. On peut utiliser dans le motif tous les métacaractères de
l'interpréteur de commandes. Cette commande ne donne pas les fichiers
supplémentaires créés par les scripts du responsable de paquet, ni les
alternatives.
.TP 
\fB\-p\fP, \fB\-\-print\-avail\fP \fInom\-paquet\fP...
Affiche les détails relatifs à \fInom\-paquet\fP, tels que présents dans
\fI/var/lib/dpkg/available\fP. Si des \fInom\-paquet\fP multiples sont indiqués,
les entrées \fIavailable\fP correspondantes seront séparées par des lignes
vides et apparaîtront dans l'ordre de la liste de paramètres.

Les utilisateurs des outils basés sur APT devraient plutôt utiliser la
commande \fBapt\-cache show\fP \fInom\-paquet\fP car le fichier \fIavailable\fP n'est
tenu à jour que lorsque \fBdselect\fP est utilisé.
.TP 
\fB\-?\fP, \fB\-\-help\fP
Affiche un message d'aide puis quitte.
.TP 
\fB\-\-version\fP
Affiche le numéro de version puis quitte.
.
.SH OPTIONS
.TP 
\fB\-\-admindir\fP=\fIdir\fP
Change l'endroit où se trouve la base de données de \fBdpkg\fP. Par défaut,
c'est \fI/var/lib/dpkg\fP.
.TP 
\fB\-\-load\-avail\fP
Charge également le fichier available à l'utilisation des commandes
\fB\-\-show\fP et \fB\-\-list\fP, ce qui désormais revient à n'interroger que le
fichier status.
.TP 
\fB\-f\fP, \fB\-\-showformat=\fP\fIformat\fP
Cette option sert à spécifier le format de sortie de l'option \fB\-\-show\fP. Ce
format sera utilisé pour chaque paquet listé.

Dans la chaîne, \(lq\fB\e\fP\(rq déspécifie le caractère

.nf
    \fB\en\fP  nouvelle ligne
    \fB\er\fP  retour chariot
    \fB\et\fP  tabulation
.fi

\(lq\fB\e\fP\(rq avant un caractère supprime la signification du caractère qui
suit. C'est utile pour les caractères \(lq\fB\e\fP\(rq et \(lq\fB$\fP\(rq.

L'information relative à un paquet peut être indiquée en insérant des appels
de variables spécifiant des champs du paquet avec la syntaxe suivante\ :
\(lq\fB${\fP\fIfield\fP[\fB;\fP\fIwidth\fP]\fB}\fP\(rq. Les champs sont alignés à droite, à
moins que la largeur ne soit négative, auquel cas ils sont alignés à
gauche. Les champs suivants sont reconnus, mais pas nécessairement
disponibles dans le fichier d'état (seuls les champs internes ou les champs
conservés avec le paquet binaire le sont)\ :

.nf
    \fBArchitecture\fP
    \fBBugs\fP
    \fBConffiles\fP (interne)
    \fBConfig\-Version\fP (interne)
    \fBConflicts\fP
    \fBBreaks\fP
    \fBDepends\fP
    \fBDescription\fP
    \fBEnhances\fP
    \fBEssential\fP
    \fBFilename\fP (interne, lié au programme frontal)
    \fBHomepage\fP
    \fBInstalled\-Size\fP
    \fBMD5sum\fP (interne, lié au programme frontal)
    \fBMSDOS\-Filename\fP (interne, lié au programme frontal)
    \fBMaintainer\fP
    \fBOrigin\fP
    \fBPackage\fP
    \fBPre\-Depends\fP
    \fBPriority\fP
    \fBProvides\fP
    \fBRecommends\fP
    \fBReplaces\fP
    \fBRevision\fP (obsolète)
    \fBSection\fP
    \fBSize\fP (interne, lié au programme frontal)
    \fBSource\fP
    \fBStatus\fP (interne)
    \fBSuggests\fP
    \fBTag\fP (en général pas dans le .deb mais dans les fichiers Packages des dépôts)
    \fBTriggers\-Awaited\fP (interne)
    \fBTriggers\-Pending\fP (interne)
    \fBVersion\fP
.fi

Les champs suivants sont virtuels, créés par \fBdpkg\-query\fP à partir des
valeurs d'autres champs (veuillez noter qu'il utilisent des noms qui ne sont
pas valables comme noms de champs dans le fichiers de contrôle)\ :

.nf
    \fBbinary:Package\fP
    \fBbinary:Summary\fP
    \fBdb:Status\-Abbrev\fP
    \fBsource:Package\fP
    \fBsource:Version\fP
.fi

Le format par défaut est le suivant\ :
\(lq\fB${binary:Package}\et${Version}\en\fP\(rq. Tous les autres champs du
fichier status, par exemple des champs définis par l'utilisateur, peuvent
être demandés. Ils seront affichés mais sans aucune mise en forme et aucune
vérification n'est faite. \fBbinary:Package\fP est un champ spécial qui
affichera le nom du paquet couplé avec un identifiant d'architecture (par
exemple «\ libc6:amd64\ ») si le paquet comporte un champ \fIMulti\-Arch\fP avec
la valeur \fBsame\fP et peut donc avoir un nom ambigu. Pour obtenir le nom du
responsable de dpkg et la version installée, exécutez par exemple\ :

.nf
  \fBdpkg\-query \-W \-f=\(aq${binary:Package} ${Version}\et${Maintainer}\en\(aq dpkg\fP
.fi
.
.SH "CODE DE SORTIE"
.TP 
\fB0\fP
La requête demandée s'est correctement déroulée.
.TP 
\fB1\fP
Des problèmes sont survenus lors de l'analyse de la ligne de commande ou
bien pendant l'exécution de la requête. Cela peut être une absence de
fichier ou de paquet (sauf pour \-\-control\-path).
.
.SH ENVIRONNEMENT
.TP 
\fBDPKG_ADMINDIR\fP
Si cette variable est positionnée et que l'option \fB\-\-admindir\fP n'est pas
précisée, ce répertoire sera utilisé comme répertoire de données pour dpkg.
.TP 
\fBCOLUMNS\fP
Ce réglage influence la sortie de l'option \fB\-\-list\fP en modifiant la largeur
d'affichage.
.
.SH "VOIR AUSSI"
\fBdpkg\fP(1).

.SH TRADUCTION
Ariel VARDI <ariel.vardi@freesbee.fr>, 2002.
Philippe Batailler, 2006.
Nicolas François, 2006.
Veuillez signaler toute erreur à <debian\-l10n\-french@lists.debian.org>.
