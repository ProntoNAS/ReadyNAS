.\" dpkg manual page - dpkg-deb(1)
.\"
.\" Copyright 息 1995-1996 Ian Jackson <ian@chiark.chu.cam.ac.uk>
.\" Copyright 息 1999 Wichert Akkerman <wakkerma@debian.org>
.\" Copyright 息 2006 Frank Lichtenheld <djpig@debian.org>
.\" Copyright 息 2007-2012 Guillem Jover <guillem@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <http://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dpkg\-deb 1 2012\-05\-27 "Debian Project" "dpkg suite"
.SH 名前
dpkg\-deb \- Debian パッケージアーカイブ (.deb) 操作ツール
.
.SH 書式
\fBdpkg\-deb\fP [\fIoption\fP...] \fIcommand\fP
.
.SH 説明
\fBdpkg\-deb\fP は、Debian アーカイブの作成、展開、情報の表示を行う。
.PP
パッケージをシステムにインストールしたり削除したりするには \fBdpkg\fP を使うこと。
.PP
また、\fBdpkg\-deb\fP に引き渡したいオプションを指定して \fBdpkg\fP を実行することで、\fBdpkg\-deb\fP
を実行することもできる。\fBdpkg\fP は、\fBdpkg\-deb\fP 用のオプションであると判断すると、 \fBdpkg\-deb\fP を起動する。
.
.SH コマンド
.TP 
\fB\-b\fP, \fB\-\-build\fP \fIdirectory\fP [\fIarchive\fP|\fIdirectory\fP]
\fIdirectory\fP 以下のファイルシステムツリーから debian アーカイブを作成する。 \fIdirectory\fP には、control
ファイルなどの制御情報ファイルのある \fBDEBIAN\fP サブディレクトリが必ず存在しなければならない。 DEBIAN
ディレクトリはバイナリパッケージのファイルシステム・アーカイブには\fI含まれない\fP。代わりに DEBIAN
ディレクトリ以下にあったファイルはバイナリパッケージの制御情報エリアに置かれる。

\fB\-\-nocheck\fP を指定しないかぎり、 \fBdpkg\-deb\fP は \fBDEBIAN/control\fP を読み込んで解析する。
\fBdpkg\-deb\fP は、文法エラーなどの問題のチェックを行い、ビルド中のバイナリパッケージ名を表示する。 \fBdpkg\-deb\fP は、
\fBDEBIAN\fP 制御情報ディレクトリにある、メンテナスクリプトなどのファイルのパーミッションもチェックする。

\fIarchive\fP が指定されない場合、 \fBdpkg\-deb\fP はパッケージを \fIdirectory\fP\fB.deb\fP という名前で作成する。

作成するアーカイブが既に存在している場合は、上書きする。

2 番目の引数がディレクトリの場合、 \fBdpkg\-deb\fP は \fIpackage\fP\fB_\fP\fIversion\fP\fB_\fP\fIarch\fP\fB.deb\fP
または \fIpackage\fP\fB_\fP\fIversion\fP\fB.deb\fP (パッケージ制御ファイルに \fBArchitecture\fP
フィールドがない場合) というファイルを作成する。ファイル名の代わりにディレクトリを指定するときには、\fB\-\-nocheck\fP
オプションを使用してはいけない (\fBdpkg\-deb\fP
は、使用するファイル名を確認するために、パッケージ制御ファイルを読み込んで解析する必要があるため)。
.TP 
\fB\-I\fP, \fB\-\-info\fP \fIarchive\fP [\fIcontrol\-file\-name\fP...]
バイナリパッケージアーカイブの情報を表示する。

\fIcontrol\-file\-name\fP が指定されていない場合は、制御ファイルの一覧と、パッケージの概要を表示する。

\fIcontrol\-file\-name\fP が指定された場合、 \fBdpkg\-deb\fP
は指定された順でファイルの内容を表示する。指定したファイルの一部が存在しない場合、存在しないファイル各々について、標準エラー出力にエラーメッセージを表示し、そして終了ステータス
2 で終了する。
.TP 
\fB\-W\fP, \fB\-\-show\fP \fIarchive\fP
バイナリパッケージアーカイブの情報を \fB\-\-showformat\fP
引数で指定した形式で表示する。デフォルトの形式では、パッケージ名とバージョンがタブで区切られて 1 行に表示される。
.TP 
\fB\-f\fP, \fB\-\-field\fP \fIarchive\fP [\fIcontrol\-field\-name\fP...]
バイナリパッケージアーカイブから制御ファイル情報を取り出す。

\fBcontrol\-file\-field\fP が指定されていない場合、control ファイルのすべての内容が表示される。

\fBcontrol\-file\-field\fP が指定されている場合、\fBdpkg\-deb\fP
は指定されたフィールドの内容を制御ファイルに記載されている順に表示する。\fBcontrol\-file\-field\fP が複数指定された場合、
\fBdpkg\-deb\fP は、各々の前にフィールド名 (およびコロンとスペース) を表示する。

指定したフィールドがみつからない場合でもエラーにはならない。
.TP 
\fB\-c\fP, \fB\-\-contents\fP \fIarchive\fP
パッケージアーカイブに含まれるファイルシステムツリーの内容を表示する。現在は、\fBtar\fP の冗長表示 (\-v オプション) の形式で表示する。
.TP 
\fB\-x\fP, \fB\-\-extract\fP \fIarchive directory\fP
パッケージアーカイブから、ファイルシステムツリーを指定したディレクトリに展開する。

ルートディレクトリにパッケージを展開しても、正しいインストールには\fIならない\fPことに注意 ! パッケージのインストールには \fBdpkg\fP
を使うこと。

\fIdirectory\fP (親ディレクトリは含まない) は必要に応じて作成される。
.TP 
\fB\-X\fP, \fB\-\-vextract\fP \fIarchive directory\fP
\fB\-\-extract\fP (\fB\-x\fP) に \fB\-\-verbose\fP (\fB\-v\fP)
を付加したオプションと同様だが、実際にファイルを展開して一覧を表示する。
.TP 
\fB\-R\fP, \fB\-\-raw\-extract\fP \fIarchive directory\fP
パッケージアーカイブから、ファイルシステムツリーを指定したディレクトリに展開し、制御情報ファイルを、DEBIAN サブディレクトリに展開する。

指定したディレクトリ (親ディレクトリは含まない) は必要に応じて作成される。
.TP 
\fB\-\-fsys\-tarfile\fP \fIarchive\fP
バイナリパッケージからファイルシステムツリーを展開し、標準出力に \fBtar\fP 形式で出力する。 \fBtar\fP(1)
と組み合わせて使用することで、特定のファイルをパッケージアーカイブから取り出すことができる。入力のアーカイブは、常に 1 つずつ処理される。
.TP 
\fB\-e\fP, \fB\-\-control\fP \fIarchive\fP [\fIdirectory\fP]
パッケージアーカイブから制御情報ファイルを指定したディレクトリに展開する。

ディレクトリが指定されない場合、カレントディレクトリの \fBDEBIAN\fP サブディレクトリに展開する。

指定したディレクトリ (親ディレクトリは含まない) は必要に応じて作成される。
.TP 
\fB\-?\fP, \fB\-\-help\fP
利用方法を表示して終了する。
.TP 
\fB\-\-version\fP
バージョン情報を表示して終了する。
.
.SH オプション
.TP 
\fB\-\-showformat=\fP\fIformat\fP
このオプションは、\fB\-\-show\fP の出力の書式を指定するものである。書式は、一覧表示される各パッケージの出力を制御する文字列である。

文字列は "${\fIfield\-name\fP}" 形式であらゆる status
フィールドを参照することができる。有効なフィールドの一覧は、対象のパッケージに \fB\-I\fP
を使用することで簡単に確認できる。書式オプションの網羅的な解説 (エスケープシーケンスやフィールドでのタブの使い方を含む)
は、\fBdpkg\-query\fP(1)の \fB\-\-showformat\fP オプションの解説を参照のこと。

このフィールドのデフォルトの書式は "${Package}\et${Version}\en" である。
.TP 
\fB\-z\fP\fIcompress\-level\fP
パッケージのビルドの際に、圧縮を行うバックエンドのプログラムに引き渡す圧縮レベルを指定する (デフォルトは、gzip および bzip2 の場合
9、xz および lzma の場合 6)。指定可能な値は 0\-9 であり、gzip の場合 0 は非圧縮に対応するが、bzip2 の場合 0 は 1
とみなされる。dpkg 1.16.2 より前では、すべての圧縮プログラムにおいて、レベル 0 は非圧縮と等価となる。
.TP 
\fB\-S\fP\fIcompress\-strategy\fP
パッケージのビルドの際に、圧縮を行うバックエンドのプログラムに引き渡す圧縮ストラテジーを指定する (dpkg 1.16.2
以降)。指定可能な値は、\fInone\fP (dpkg 1.16.4 以降) と、xz 用の \fIextreme\fP である。
.TP 
\fB\-Z\fP\fIcompress\-type\fP
パッケージのビルドの際に使用する圧縮タイプを指定する。指定可能な値は \fIgzip\fP, \fIxz\fP, \fIbzip2\fP, \fIlzma\fP,
\fInone\fP (デフォルトは \fIgzip\fP) である。
.TP 
\fB\-\-new\fP
\fBdpkg\-deb\fP に `新しい' 形式のアーカイブを構築させる。これはデフォルトの動作である。
.TP 
\fB\-\-old\fP
\fBdpkg\-deb\fP に `古い' 形式のアーカイブを構築させる。この古いアーカイブ形式は、新しい形式よりも Debian
以外のツールで処理することが難しく、現在は廃止されている。このオプションは、i386 の a.out 形式のみを対象としてリリースされた、バージョン
0.93.76 (1995 年 9 月) 以前の dpkg で処理するためのパッケージをビルドする時のみ使用すること。
.TP 
\fB\-\-nocheck\fP
\fBdpkg\-deb \-\-build\fP
の際に通常実施される、アーカイブの内容のチェックを実施しない。これにより、アーカイブの内容に問題があっても、アーカイブをビルドすることができる。
.TP 
\fB\-v\fP, \fB\-\-verbose\fP
詳細な出力を有効にする。現在のところ、これは \fB\-\-extract\fP に \fB\-\-vextract\fP と同様の挙動をさせる場合のみ有効である。
.TP 
\fB\-D\fP, \fB\-\-debug\fP
デバッグ出力を有効にする。これはあまり面白いものではない。
.
.SH 環境変数
.TP 
\fBTMPDIR\fP
\fBTMPDIR\fP が設定されている場合、\fBdpkg\-deb\fP は、一時的なファイルやディレクトリを作成するディレクトリとして使用する。
.
.SH バグ
\fBdpkg\-deb \-I\fP \fIpackage1\fP\fB.deb\fP \fIpackage2\fP\fB.deb\fP は適切に動作しない。

\&\fB.deb\fP ファイルには認証という概念がなく、単純なチェックサムすらもない (APT
のような高レイヤのツールは、指定されたリポジトリから情報を収集することで \fB.deb\fP
パッケージの認証をサポートしている。また大半のパッケージは近年debian/rules によって生成される md5sum
制御ファイルを提供している。しかし、これらは低レイヤのツールが直接的にサポートしているものではない。

\fBdpkg\-deb\fP
でソフトウェアをインストールしようとしてはいけない!すべてのファイルの適切なパスへインストール、パッケージのスクリプトの実行、ステータスや内容の記録を確実に実行するために、必ず
\fBdpkg\fP を使うこと。
.
.SH 関連項目
\fBdeb\fP(5), \fBdeb\-control\fP(5), \fBdpkg\fP(1), \fBdselect\fP(1).
.SH 翻訳者
高橋 基信 <monyo@monyo.com>.
喜瀬 浩 <kise@fuyuneko.jp>.
関戸 幸一 <sekido@mbox.kyoto-inet.or.jp>.
鍋谷 栄展 <nabe@debian.or.jp>.
倉澤 望 <nabetaro@debian.or.jp>.
石川 睦 <ishikawa@linux.or.jp>.
鵜飼 文敏 <ukai@debian.or.jp>.
中野 武雄 <nakano@apm.seikei.ac.jp>.
.SH 翻訳校正
Debian JP Documentation ML <debian-doc@debian.or.jp>.
