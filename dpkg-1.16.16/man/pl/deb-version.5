.\" dpkg manual page - deb-version(5)
.\"
.\" Copyright Â© 1996-1998 Ian Jackson and Christian Schwarz
.\"   for parts of the text reused from the Debian Policy
.\" Copyright Â© 2007 Frank Lichtenheld <djpig@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <http://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH deb\-version 5 2011\-08\-14 "Projekt Debian" Debian
.SH NAZWA
deb\-version \- format numerów wersji pakietów Debiana
.
.SH SK£ADNIA
[\fIepoka\fP\fB:\fP]\fIwersja_macierzystaupstream\fP[\fB\-\fP\fIrewizja_debiana\fP]
.SH OPIS
Numery wersji u¿ywane do binarnych i ¼ród³owych pakietów Debiana sk³adaj±
siê z trzech czê¶ci. S± to:
.TP 
\fIepoka\fP
Jest to pojedyncza (typowo niewielka), liczba ca³kowita bez znaku. Mo¿e byæ
pominiêta, w takim przypadku jest przyjmowana jako zero. Je¶li jest
pominiêta, wtedy \fIwersja\-macierzysta\fP nie mo¿e zawieraæ ¿adnego dwukropka.
.IP
Jest u¿ywana aby mo¿na by³o pozbyæ siê pomy³ek w numerach wersji starszych
wersji pakietów, oraz poradziæ sobie ze zmian± poprzednich schematów
numerowania wersji.
.TP 
\fIwersja\-macierzysta\fP (wersja nadana przez autora)
G³ówna czê¶æ numeru wersji. Zwykle jest to numer wersji oryginalnego
("upstream") pakietu, na podstawie którego powsta³ plik \fI.deb\fP, o ile jest
to mo¿liwe. Typowo jest w tym samym formacie jaki zosta³ u¿yty przez
autora(ów) pakietu. Mo¿e jednak zostaæ przeformatowana aby lepiej pasowaæ do
formatu i schematu porównywania wersji u¿ywanego przez system zarz±dzania
pakietami.
.IP
Poni¿ej opisane jest zachowanie systemu zarz±dzania pakietami podczas
porównywania uwzglêdniaj±cego \fIwersjê\-macierzysta\fP. Czê¶æ
\fIwersja\-macierzysta\fP numeru wersji pakietu jest wymagana.
.IP
\fIWersja\-macierzysta\fP mo¿e zawieraæ jedynie znaki alfanumeryczne
("A\-Za\-z0\-9") oraz znaki \fB.\fP \fB+\fP \fB\-\fP \fB:\fP \fB~\fP (kropkê, plus, my¶lnik,
dwukropek, tyldê) i powinna zaczynaæ siê od cyfry. Je¶li nie jest u¿ywana
\fIrewizja\-debiana\fP, wtedy nie s± dozwolone my¶lniki; je¶li za¶ nie jest
u¿ywana \fIepoka\fP, wtedy nie s± dozwolone dwukropki.
.TP 
\fIrewizja\-debiana\fP
Ta czê¶æ numeru wersji okre¶la wersjê pakietu Debiana bazuj±cego na tej
samej wersji macierzystej. Mo¿e zawieraæ jedynie znaki alfanumeryczne oraz
znaki \fB+\fP \fB.\fP (plus, kropkê, tyldê) i jest porównywana w ten sam sposób co
\fIwersja\-upstream\fP.
.IP
Jest to czê¶æ opcjonalna. Je¶li nie jest u¿ywana, wtedy
\fIwersja\-macierzysta\fP nie mo¿e zawieraæ my¶lnika. Taki format odpowiada
przypadkowi, gdzie oprogramowanie by³o tworzone z my¶l± o zamianie go w
pakiet Debiana, wiêc jest tylko jedna jego "debianizacja" i dlatego
wskazywanie rewizji nie jest potrzebne.
.IP
Powszechnie przyjête jest rozpoczynanie \fIrewizji_debiana\fP od 1 za ka¿dym
razem, gdy \fIwersja\-macierzysta\fP siê zwiêksza.
.IP
Dpkg dzieli numer wersji na czê¶ci wzglêdem ostatniego my¶lnika w ³añcuchu
(je¶li taki jest), aby okre¶liæ \fIwersjê\-macierzyst±\fP oraz
\fIrewizjê\-debiana\fP. Przy porównywaniu, brakuj±ca \fIrewizja\-debiana\fP
poprzedza ka¿de jej wyst±pienie (jednak warto pamiêtaæ, ¿e jest to najmniej
znacz±ca czê¶æ numeru wersji).
.SS "Algorytm sortowania"
System zarz±dzania pakietami porównuje \fIwersjê\-macierzyst±\fP oraz
\fIrewizjê\-debiana\fP u¿ywaj±c tego samego algorytmu:
.PP
Napisy s± porównywane od lewej do prawej.
.PP
Najpierw okre¶lane s± pocz±tkowe czê¶ci ka¿dego napisu, sk³adaj±ce siê
wy³±cznie ze znaków nie bêd±cych cyframi. Te dwie czê¶ci (z których jedna
mo¿e byæ pusta) s± porównywane leksykalnie. Je¶li zostanie znaleziona
ró¿nica, jest ona zwracana. Porównanie leksykalne jest porównaniem warto¶ci
ASCII zmodyfikowanych tak, ¿e wszystkie litery poprzedzaj± wszystkie inne
znaki nie bêd±ce literami, a dodatkowo tylda poprzedza wszystko, nawet
koniec czê¶ci. W nastêpuj±cym przyk³adzie czê¶ci wystêpuj± w kolejno¶ci
posortowanej: "~~", "~~a", "~", czê¶æ pusta, "a".
.PP
Nastêpnie okre¶lane s± pocz±tki pozosta³ych czê¶ci z ka¿dego napisu,
sk³adaj±ce siê wy³±cznie z samych cyfr. Warto¶ci liczbowe tych dwóch czê¶ci
s± porównywane i je¶li zostanie znaleziona ró¿nica, jest ona zwracana jako
wynik porównania. Pusty ci±g znaków (który mo¿e siê pojawiæ jedynie na koñcu
jednego lub obu porównywanych napisów) jest przy tym liczony jako zero.
.PP
Te dwa kroki (porównywanie i usuwanie pocz±tkowych napisów bez cyfr oraz
pocz±tkowych napisów z samymi cyframi) s± powtarzane, a¿ zostanie znaleziona
ró¿nica lub oba ci±gi zostan± wyczerpane.
.PP
Nale¿y zauwa¿yæ, ¿e celem epok jest umo¿liwienie pozbycia siê pomy³ek w
numerach wersji pakietów, jak równie¿ poradzenie sobie ze zmian± schematu
numerowania wersji. \fBNie\fP s± one natomiast przeznaczone do radzenia sobie z
numerami wersji zawieraj±cych ci±gi znaków, których system zarz±dzania
pakietami nie mo¿e zinterpretowaæ (jak np. "ALPHA" lub "pre\-"), czy z inn±
dziwn± kolejno¶ci±.
.SH OSTRZE¯ENIA
Znak tyldy oraz jego specyficzny sposób sortowania zosta³y wprowadzone w
wersji 1.10 dpkg, za¶ niektóre inne elementy dpkg\-dev uzyska³y odpowiednie
wsparcie dopiero pó¼niej w serii 1.10.x.
.SH "ZOBACZ TAK¯E"
\fBdeb\-control\fP(5), \fBdeb\fP(5), \fBdpkg\fP(1)
.SH "T£UMACZE"
Piotr Roszatycki <dexter@debian.org>, 1999
.br
Bartosz Feñski <fenio@debian.org>, 2004-2005
.br
Robert Luberda <robert@debian.org>, 2006-2008
.br
Wiktor Wandachowicz <siryes@gmail.com>, 2008
.br
Micha³ Ku³ach <michal.kulach@gmail.com>, 2012
