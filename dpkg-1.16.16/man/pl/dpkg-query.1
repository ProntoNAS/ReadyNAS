.\" dpkg manual page - dpkg-query(1)
.\"
.\" Copyright Â© 2001 Wichert Akkerman <wakkerma@debian.org>
.\" Copyright Â© 2006-2007 Frank Lichtenheld <djpig@debian.org>
.\" Copyright Â© 2006-2012 Guillem Jover <guillem@debian.org>
.\" Copyright Â© 2008-2011 RaphaÃ«l Hertzog <hertzog@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <http://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dpkg\-query 1 2012\-04\-03 "Projekt Debian" "u¿ytki dpkg"
.SH NAZWA
dpkg\-query \- narzêdzie przepytywania bazy danych dpkg
.
.SH SK£ADNIA
\fBdpkg\-query\fP [\fIopcja\fP...] \fIpolecenie\fP
.
.SH OPIS
\fBdpkg\-query\fP jest narzêdziem s³u¿±cym do pokazywania informacji o pakietach
wymienionych w bazie danych \fBdpkg\fP.
.
.SH POLECENIA
.TP 
\fB\-l\fP, \fB\-\-list\fP [\fIwzorzec\-nazwy\-pakietu\fP...]
Wypisuje listê pakietów odpowiadaj±cych podanemu wzorcu nazwy. Je¶li nie
podano \fIwzorca\-nazwy\-pakietu\fP, wypisuje listê wszystkich pakietów z pliku
\fI/var/lib/dpkg/status\fP, pomijaj±c jednak te, które s± oznaczone jako
niezainstalowane (czyli takie, które zosta³y uprzednio wyczyszczone z plików
konfiguracyjnych \- purge). Do \fIwzorca\-nazwy\-pakietu\fP mo¿na wpisaæ znaki
specjalne pow³oki (wildcards). Prawdopodobnie potrzebne bêdzie zacytowanie
\fIwzorca\-nazwy\-pakietu\fP, aby pow³oka nie rozwinê³a tego wzorca. Na przyk³ad,
poni¿sze polecenie wypisze nazwy wszystkich pakietów zaczynaj±cych siê od
"libc6":

.nf
  \fBdpkg\-query \-l \(aqlibc6*\(aq\fP
.fi

Pierwsze trzy kolumny wyniku pokazuj± ¿±dane dzia³anie, stan pakietu i
b³êdy, w tej kolejno¶ci.

¯±dane dzia³anie:
.nf
  u = Unknown (nieznane)
  i = Install (instalacja)
  h = Hold    (zatrzymanie)
  r = Remove  (usuniêcie)
  p = Purge   (wyczyszczenie)
.fi

Stan pakietu:
.nf
  n = Not\-installed     (niezainstalowany)
  c = Config\-files      (pliki konfiguracyjne)
  H = Half\-installed    (czê¶ciowo zainstalowany)
  U = Unpacked          (rozpakowany)
  F = Half\-configured   (czê¶ciowo skonfigurowany)
  W = Triggers\-awaiting (oczekuje na wyzwalacze)
  t = Triggers\-pending  (przetwarzane wyzwalacze)
  i = Installed         (zainstalowany)
.fi

Oznaczenia b³êdów:
.nf
  <puste>             (brak)
  R = Reinst\-required (wymagana ponowna instalacja)
.fi

Wielka litera stanu lub b³êdu oznacza, ¿e pakiet mo¿e powodowaæ wiele
problemów. Podrêcznik \fBdpkg\fP(1) zawiera informacje na temat powy¿szych
stanów i oznaczeñ.

Format wyj¶cia tej opcji nie jest konfigurowalny, ale automatycznie siê
zmienia, dostosowuj±c siê do szeroko¶ci terminalu. Jest to przeznaczone dla
ludzi i nie musi byæ ³atwo parsowalne przez maszynê. Patrz opcje \fB\-W\fP
(\fB\-\-show\fP) and \fB\-\-showformat\fP, aby dowiedzieæ siê, jak skonfigurowaæ
format wyj¶cia.
.TP 
\fB\-W\fP, \fB\-\-show\fP [\fIwzorzec\-nazwy\-pakietu\fP...]
Zupe³nie tak jak opcja \fB\-\-list\fP, ta opcja wy¶wietli wszystkie pakiety
pasuj±ce do danego wzorca. Jednak¿e u¿ytkownik mo¿e dostosowaæ format
wyj¶cia do swoich potrzeb za pomoc± opcji \fB\-\-showformat\fP. W domy¶lnym
formacie dla ka¿dego pasuj±cego pakietu wy¶wietlana jest pojedyncza linia
zawieraj±ca jego nazwê (poszerzon± o oznaczenie architektury w przypadku
pakietów \fIMulti\-arch\fP \fBsame\fP) oraz \- po znaku tabulacji \- zainstalowan±
wersjê.
.TP 
\fB\-s\fP, \fB\-\-status\fP \fInazwa\-pakietu\fP...
Podanie stanu pakietu o podanej nazwie. Polecenie po prostu wy¶wietli
informacje, które znajduj± siê w bazie danych pakietów. Gdy wypisane jest
wiele \fInazw\-pakietu\fP, to ¿±dane wpisy stanu s± oddzielone pustym wierszem,
z t± sam± kolejno¶ci± jak podano w li¶cie argumentów.
.TP 
\fB\-L\fP, \fB\-\-listfiles\fP \fInazwa\-pakietu\fP...
Podanie listy plików zainstalowanych z \fInazwy\-pakietu\fP. Gdy zainstalowanych
jest wiele \fInazw\-pakietu\fP, to ¿±dane listy plików s± oddzielone pustym
wierszem, z t± sam± kolejno¶ci± jak ¿±dana lista argumentów. Jednak¿e pliki,
które zosta³y utworzone przez skrypty instalacyjne pakietu, nie bêd± podane.
.TP 
\fB\-\-control\-list\fP \fInazwa\-pakietu\fP
Wypisuje pliki kontrolne zainstalowane w systemie z \fInazwy\-pakietu\fP. Mog±
byæ one u¿yte jako argumenty wej¶ciowe do \fB\-\-control\-show\fP.
.TP 
\fB\-\-control\-show\fP \fInazwa\-pakietu\fP \fIplik\-kontrolny\fP
Wypisuje \fIplik\-kontrolny\fP zainstalowany w systemie z \fInazwy\-pakietu\fP na
standardowe wyj¶cie.
.TP 
\fB\-c\fP, \fB\-\-control\-path\fP \fInazwa\-pakietu\fP [\fIplik\-kontrolny\fP]
Wy¶wietla listê ¶cie¿ek dla plików kontrolnych instalowanych w systemie
przez pakiet o podanej \fInazwie\-pakietu\fP. Je¶li podany jest
\fIplik\-kontrolny\fP, wy¶wietlana jest jedynie ¶cie¿ka dla tego pliku
kontrolnego, o ile tylko istnieje. \fBUwaga\fP: to polecenie jest przestarza³e,
proszê u¿ywaæ w zamian \fB\-\-control\-list\fP i \fB\-\-control\-show\fP.
.TP 
\fB\-S\fP, \fB\-\-search\fP \fIwzorzec\-wyszukiwania\-nazwy\-pliku\fP...
Szukanie pliku, którego w³asno¶ci± s± pliki odnosz±ce siê do podanego
wzorca. Wzorzec mo¿e zawieraæ zwyk³e operatory powtórzenia. Polecenie to nie
wyszuka dodatkowych plików tworzonych przez skrypty instalacyjne pakietów
oraz nie wy¶wietli alternatyw.
.TP 
\fB\-p\fP, \fB\-\-print\-avail\fP \fInazwa\-pakietu\fP...
Wy¶wietla szczegó³owe informacje na temat pakietu \fInazwa\-pakietu\fP,
pochodz±ce z pliku \fI/var/lib/dpkg/available\fP. Gdy wypisane jest wiele
\fInazw\-pakietu\fP, ¿±dane wpisy \fIavailable\fP s± oddzielone pustym wierszem, z
t± sam± kolejno¶ci± jak podano w li¶cie argumentów.

U¿ytkownicy nak³adek opartych o APT powinni u¿ywaæ \fBapt\-cache show\fP
\fIpackage\-name\fP zamiast tej opcji, poniewa¿ plik \fIavailable\fP jest
utrzymywany w aktualno¶ci jedynie przy u¿yciu \fBdselect\fP.
.TP 
\fB\-?\fP, \fB\-\-help\fP
Wy¶wietla informacjê o u¿ytkowaniu i koñczy dzia³anie.
.TP 
\fB\-\-version\fP
Wy¶wietla informacjê o wersji i pomy¶lnie koñczy dzia³anie.
.
.SH OPCJE
.TP 
\fB\-\-admindir=\fP\fIkatalog\fP
Zmienia po³o¿enie bazy danych \fBdpkg\fP. Domy¶lnie jest to \fI/var/lib/dpkg\fP.
.TP 
\fB\-\-load\-avail\fP
£aduje równie¿ dostêpne pliki podczas u¿ywania poleceñ \fB\-\-show\fP i
\fB\-\-list\fP, które obecnie domy¶lnie jedynie odpytuj± pliki stanu.
.TP 
\fB\-f\fP, \fB\-\-showformat=\fP\fIformat\fP
Opcja jest u¿ywana do podania formatu wyj¶cia produkowanego przez
\fB\-\-show\fP. Format jest ³añcuchem znaków, który bêdzie wy¶wietlony dla
ka¿dego wypisanego pakietu.

W ³añcuchu formatu, \(lq\fB\e\fP\(rq jest znakiem cytowania:

.nf
    \fB\en\fP  nowa linia
    \fB\er\fP  powrót karetki
    \fB\et\fP  tabulacja
.fi

\(lq\fB\e\fP\(rq poprzedzaj±cy jakikolwiek inny znak znosi specjalne znaczenie
nastêpuj±cego po nim znaku, co mo¿e byæ przydatne dla \(lq\fB\e\fP\(rq oraz
\(lq\fB$\fP\(rq.

Informacje o pakiecie mo¿na wy¶wietlaæ, dodaj±c odwo³ania do pól pakietu z
u¿yciem sk³adni "\fB${\fP\fIpole\fP[\fB;\fP\fIszeroko¶æ\fP]\fB}\fP". Pola s± wyrównywane do
prawej strony, chyba ¿e \fIszeroko¶æ\fP jest liczb± ujemn±, w którym to wypadku
bêdzie u¿yte wyrównanie do lewej strony. Rozpoznawane s± nastêpuj±ce
\fIpola\fP, ale niekoniecznie s± one w³±czane w pliku statusu (trafiaj± tam
tylko pola wewnêtrzne lub pola zawarte w binarnym pakiecie):

.nf
    \fBArchitecture\fP
    \fBBugs\fP
    \fBConffiles\fP (wewnêtrzne)
    \fBConfig\-Version\fP (wewnêtrzne)
    \fBConflicts\fP
    \fBBreaks\fP
    \fBDepends\fP
    \fBDescription\fP
    \fBEnhances\fP
    \fBEssential\fP
    \fBFilename\fP (wewnêtrzne, zwi±zane z interfejsem)
    \fBHomepage\fP
    \fBInstalled\-Size\fP
    \fBMD5sum\fP (wewnêtrzne, zwi±zane z interfejsem)
    \fBMSDOS\-Filename\fP (wewnêtrzne, zwi±zane z interfejsem)
    \fBMaintainer\fP
    \fBOrigin\fP
    \fBPackage\fP
    \fBPre\-Depends\fP
    \fBPriority\fP
    \fBProvides\fP
    \fBRecommends\fP
    \fBReplaces\fP
    \fBRevision\fP (przestarza³e)
    \fBSection\fP
    \fBSize\fP (wewnêtrzne, zwi±zane z interfejsem)
    \fBSource\fP
    \fBStatus\fP (wewnêtrzne)
    \fBSuggests\fP
    \fBTag\fP (zwykle nie w .deb, ale w plikach Packages repozytorium)
    \fBTriggers\-Awaited\fP (wewnêtrzne)
    \fBTriggers\-Pending\fP (wewnêtrzne)
    \fBVersion\fP
.fi

Poni¿sze pola s± wirtualne i s± tworzone przez \fBdpkg\-query\fP z warto¶ci
pobranych z innych pól (proszê zauwa¿yæ, ¿e nie u¿ywaj± one prawid³owych
nazw pól w plikach kontrolnych):

.nf
    \fBbinary:Package\fP
    \fBbinary:Summary\fP
    \fBdb:Status\-Abbrev\fP
    \fBsource:Package\fP
    \fBsource:Version\fP
.fi

Domy¶lnym formatem jest \(lq\fB${binary:Package}\et${Version}\en\fP\(rq. Mo¿na
równie¿ za¿±daæ wszystkich pozosta³ych pól z pliku status (tj. pól
zdefiniowanych przez u¿ytkownika). Zostan± one wypisane w takiej postaci, w
jakiej znajduj± siê w pliku status, nie bêdzie wiêc dokonywana ¿adna
konwersja czy sprawdzanie b³êdów. \fBbinary:Package\fP jest specjalnym polem,
które wy¶wietla nazwê pakietu z oznaczeniem architektury (takim jak
"libc6:amd64"), je¶li pakiet posiada pole \fIMulti\-Arch\fP z warto¶ci± \fBsame\fP
i w zwi±zku z tym jego nazwa mog³aby byæ niejednoznaczna. Aby wy¶wietliæ
nazwê opiekuna pakietu dpkg i zainstalowan± wersjê tego pakietu, mo¿na
uruchomiæ:

.nf
  \fBdpkg\-query \-W \-f=\(aq${binary:Package} ${Version}\et${Maintainer}\en\(aq dpkg\fP
.fi
.
.SH "KOD WYJ¦CIA"
.TP 
\fB0\fP
¯±dane zapytanie zakoñczy³o siê powodzeniem.
.TP 
\fB1\fP
Wyst±pi³y problemy podczas przetwarzania linii poleceñ lub wykonywania
odpytywania, w tym nie znaleziono pliku lub pakietu (z wyj±tkiem dla
\-\-control\-path).
.
.SH ¦RODOWISKO
.TP 
\fBDPKG_ADMINDIR\fP
Je¶li jest ustawiona i nie u¿yto opcji \fB\-\-admindir\fP, bêdzie u¿ywana jako
katalog danych dpkg.
.TP 
\fBCOLUMNS\fP
Zmienna ta wp³ywa na wyj¶cie polecenia \fB\-\-list\fP, zmieniaj±c jego szeroko¶æ.
.
.SH "ZOBACZ TAK¯E"
\fBdpkg\fP(1).

.SH "T£UMACZE"
Piotr Roszatycki <dexter@debian.org>, 1999
.br
Bartosz Feñski <fenio@debian.org>, 2004-2005
.br
Robert Luberda <robert@debian.org>, 2006-2008
.br
Wiktor Wandachowicz <siryes@gmail.com>, 2008
.br
Micha³ Ku³ach <michal.kulach@gmail.com>, 2012
