.\" dpkg manual page - dpkg-buildpackage(1)
.\"
.\" Copyright Â© 1995-1996 Ian Jackson
.\" Copyright Â© 2000 Wichert Akkerman <wakkerma@debian.org>
.\" Copyright Â© 2007-2008 Frank Lichtenheld <djpig@debian.org>
.\" Copyright Â© 2008-2011 Guillem Jover <guillem@debian.org>
.\" Copyright Â© 2008-2012 RaphaÃ«l Hertzog <hertzog@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <http://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dpkg\-buildpackage 1 "4 de mayo del 2012" "Proyecto Debian" "Herramientas de dpkg"
.SH NOMBRE
dpkg\-buildpackage \- Construcción de paquetes binarios o fuente a partir de
las fuentes
.
.SH SINOPSIS
\fBdpkg\-buildpackage\fP [\fIopción\fP...]
.
.SH DESCRIPCIÓN
\fBdpkg\-buildpackage\fP es un programa que automatiza el proceso de
construcción de un paquete de Debian. Éste consiste de los siguientes pasos:
.IP \fB1.\fP 3
Preparación del entorno de construcción, definiendo varias variables de
entorno (consulte \fBVARIABLES DE ENTORNO\fP) para ejecutar \fBdpkg\-source
\-\-before\-build\fP (a menos que se defina \fB\-T\fP o \fB\-\-target\fP.
.IP \fB2.\fP 3
Verificar que las dependencias y conflictos de construcción
(«build\-dependencies» y «build\-conflicts», respectivamente) estén
satisfechas (a menos que especifique \fB\-d\fP).
.IP \fB3.\fP 3
Si se selecciona un objetivo específico con \fB\-T\fP o \fB\-\-target\fP, ejecutar
ese objetivo y se detiene. De no ser así, ejecuta \fBfakeroot debian/rules
clean\fP para limpiar el árbol de construcción (a menos que especifique
\fB\-nc\fP).
.IP \fB4.\fP 3
Ejecución de \fBdpkg\-source \-b\fP para generar el paquete fuente (a menos que
se requiera sólo la construcción del paquete binario con \fB\-b\fP, \fB\-B\fP o
\fB\-A\fP).
.IP \fB5.\fP 3
Ejecución de \fBdebian/rules\fP \fIbuild\-target\fP seguido de \fBfakeroot
debian/rules\fP \fIbinary\-target\fP (a menos que sólo se solicite la construcción
de las fuentes mediante \fB\-S\fP). Tenga en cuenta que y \fBbuild\-target\fP y
\fIbinary\-target\fP son \fBbuild\fP o \fBbinary\fP (por omisión, o si se define
\fB\-b\fP), o \fBbuild\-arch\fP y \fBbinary\-arch\fP (si se define \fB\-B\fP), o
\fBbuild\-indep\fP y \fBbinary\-indep\fP (si se define \fB\-A\fP).
.IP \fB6.\fP 3
Ejecución de \fBgpg\fP para firmar el fichero \fB.dsc\fP (de existir, a menos que
se especifique \fB\-us\fP).
.IP \fB7.\fP 3
Ejecución de \fBdpkg\-genchanges\fP para generar el fichero \fB.changes\fP. Muchas
de las opciones de \fBdpkg\-buildpackage\fP se introducen a \fBdpkg\-genchanges\fP.
.IP \fB8.\fP 3
Ejecución de \fBgpg\fP para firmar el fichero \fB.changes\fP (a menos que se
especifique \fB\-us\fP).
.IP \fB9.\fP 3
Si se especifica \fB\-tc\fP, se ejecutará nuevamente \fBfakeroot debian/rules
clean\fP. Por último, ejecuta \fBdpkg\-source \-\-after\-build\fP.
.
.SH OPCIONES
.TP 
\fB\-b\fP
Especifica una construcción sólo binaria, no se construirán ficheros de
fuentes y/o distribuidas. Se introduce a \fBdpkg\-genchanges\fP.
.TP 
\fB\-B\fP
Especifica una construcción sólo binaria, limitada a paquetes dependientes
de arquitectura. Se introduce a \fBdpkg\-genchanges\fP.
.TP 
\fB\-A\fP
Especifica una construcción sólo binaria, limitada a paquetes independientes
de la arquitectura. Se introduce a \fBdpkg\-genchanges\fP.
.TP 
\fB\-S\fP
Especifica una construcción sólo de las fuentes, no se construirá ningún
paquete binario. Se introduce a \fBdpkg\-genchanges\fP.
.TP 
\fB\-F\fP
Define una construcción completa normal, se construyen los paquetes binarios
y de fuente. Es idéntica al comportamiento predefinido cuando no se define
ninguna opción de construcción.
.P
\fB\-\-target=\fP\fItarget\fP
.br
\fB\-\-target \fP\fItarget\fP
.br
\fB\-T\fP\fItarget\fP
.RS
Ejecuta \fBdebian/rules\fP \fItarget\fP después de definir el entorno de
construcción, deteniendo en este punto el proceso de construcción del
paquete. Si se introduce \fB\-\-as\-root\fP, la orden se ejecutará como el usuario
«root» (véase \fB\-r\fP). Tenga en cuenta que los objetivos oficiales que
precisan ejecutarse como administrador según las directrices de Debian no
necesitan esta opción.
.RE
.TP 
\fB\-\-as\-root\fP
Su uso sólo tiene sentido con \fB\-\-target\fP. Requiere que se ejecute el
objetivo con permisos del usuario «root».
.P
\fB\-si\fP
.br
\fB\-sa\fP
.br
\fB\-sd\fP
.br
\fB\-v\fP\fIversión\fP
.br
\fB\-C\fP\fIdescripción\-de\-cambios\fP
.br
\fB\-m\fP\fIdirección\-mantenedor\fP
.br
\fB\-e\fP\fIdirección\-mantenedor\fP
.RS
Se introduce sin cambios a \fBdpkg\-genchanges\fP. Consulte la página de manual.
.RE
.TP 
\fB\-a\fP\fIarquitectura\fP
Especifica la arquitectura de Debian para la cual se construye el
paquete. La arquitectura de la máquina en la que se construye el paquete se
detecta automáticamente, y es también la arquitectura de destino por omisión
para la máquina anfitrión.
.TP 
\fB\-t\fP\fItipo\-sistema\-gnu\fP
Define el tipo de sistema GNU para el cual se construye el paquete. Se puede
utilizar en lugar de «\-a», o como un complemento para invalidar el tipo de
sistema GNU predefinido de la arquitectura Debian de destino.
.TP 
\fB\-j\fP\fItareas\fP
El número máximo de tareas («jobs») ejecutándose simultáneamente,
equivalente a la opción de \fBmake\fP(1) del mismo nombre. Se añadirá a la
variable de entorno «MAKEFLAGS», que causa que todas las ejecuciones
posteriores a «make» hereden esta opción. También añade
\fBparallel=\fP\fItareas\fP a la variable de entorno «DEB_BUILD_OPTIONS», que
permite que los ficheros «debian/rules» usen esta información para sus
propios propósitos. \fBparallel=\fP\fItareas\fP en la variable de entorno
«DEB_BUILD_OPTIONS» invalida el valor \fB\-j\fP en caso de introducir esta
opción.
.TP 
\fB\-D\fP
Verifica las dependencias y los conflictos de construcción, interrumpiendo
el proceso si alguna no está satisfecha. Este es el comportamiento por
omisión.
.TP 
\fB\-d\fP
No revisa dependencias ni conflictos de construcción.
.TP 
\fB\-nc\fP
No limpia el árbol de fuentes (implica \fB\-b\fP si no se introdujo \fB\-B\fP, \fB\-A\fP
o \fB\-S\fP).
.TP 
\fB\-tc\fP
Limpia el árbol de fuentes (usando \fIorden\-para\-obtener\-root\fP \fBdebian/rules
clean\fP) después de la creación del paquete.
.TP 
\fB\-r\fP\fIorden\-para\-obtener\-root\fP
Cuando \fBdpkg\-buildpackage\fP necesite ejecutar parte del proceso de
construcción como «root», añade el prefijo \fIorden\-para\-obtener\-root\fP a la
orden a ejecutar en caso de haberse especificado. La
\fIorden\-para\-obtener\-root\fP debe ser el nombre de un programa que esté dentro
del \fBPATH\fP, y tomará como argumentos el nombre del proceso a ejecutar, así
como los argumentos que éste toma. La \fIorden\-para\-obtener\-root\fP puede
incluir parámetros, pero no caracteres especiales del intérprete de
órdenes. La \fIorden\-para\-obtener\-root\fP puede ser \fBfakeroot\fP, \fBsudo\fP,
\fBsuper\fP o \fBreally\fP. \fBsu\fP no es adecuado ya que sólo puede iniciar el
intérprete de órdenes del usuario con \fB\-c\fP, en lugar de introducir los
argumentos individualmente a la orden a ejecutar.
.TP 
\fB\-R\fP\fIfichero\-reglas\fP
Habitualmente, construir un paquete de Debian incluye ejecutar
\fBdebian/rules\fP como una orden con varios parámetros estándar. Esta opción
posibilita ejecutar otro programa para construir el paquete (puede incluir
parámetros separados por espacios). Por otra parte, se puede utilizar para
ejecutar el fichero de reglas («rules») estándar con otro programa de make
(por ejemplo, usando \fB/usr/local/bin/make \-f debian/rules\fP como
\fIfichero\-reglas\fP.
.TP 
\fB\-p\fP\fIorden\-para\-firmar\fP
Cuando \fBdpkg\-buildpackage\fP necesita ejecutar GPG para firmar el fichero
fuente de control (\fB.dsc\fP) o un fichero \fB.changes\fP, ejecutará
\fIorden\-para\-firmar\fP (buscando en \fBPATH\fP si es necesario) en lugar de
\fBgpg\fP. \fIorden\-para\-firmar\fP recibirá todos los argumentos que obtendría
\fBgpg\fP. La \fIorden\-para\-firmar\fP no debe contener espacios ni tampoco
metacaracteres del intérprete de órdenes.
.TP 
\fB\-k\fP\fIllave\-id\fP
Especifica una llave de identificación a utilizar para firmar los paquetes.
.TP 
\fB\-us\fP
No firma el paquete fuente.
.TP 
\fB\-uc\fP
No firma el fichero \fB.changes\fP.
.P
\fB\-i\fP[\fIexp\-reg\fP]
.br
\fB\-I\fP\fI[patrón]\fP
.br
\fB\-s\fP[\fBnsAkurKUR\fP]
.br
\fB\-z\fP, \fB\-Z\fP
.br
.RS
Se introduce sin cambios a \fBdpkg\-source\fP. Consulte la página de manual.
.RE
.TP 
\fB\-\-source\-option=\fP\fIopción\fP
Introduce la opción \fIopción\fP a \fBdpkg\-source\fP.
.TP 
\fB\-\-changes\-option=\fP\fIopción\fP
Introduce la opción \fIopción\fP a \fBdpkg\-genchanges\fP.
.P
\fB\-\-admindir=\fP\fIdirectorio\fP
.br
\fB\-\-admindir\fP \fIdirectorio\fP
.RS
Cambia el directorio con la base de datos de \fBdpkg\fP. Por omisión es
\fI/var/lib/dpkg\fP.
.RE
.TP 
\fB\-?\fP, \fB\-\-help\fP
Muestra el modo de uso y termina.
.TP 
\fB\-\-version\fP
Muestra la versión y termina.
.
.SH ENTORNO
Aún en el caso de que \fBdpkg\-buildpackage\fP exporte algunas variables,
\fBdebian/rules\fP no debería depender de su presencia, sino que debería
utilizar la interfaz adecuada para obtener los valores necesarios.
.SS "Variables definidas por dpkg\-architecture"
\fBdpkg\-architecture\fP se ejecuta con los parámetros \fB\-a\fP y \fB\-t\fP. Toda
variable que ofrece una salida mediante su opción \fB\-s\fP se integra en el
entorno de construcción.
.SS "Las opciones de compilación ya no se exportan."
Con las versiones comprendidas entre 1.14.17 y 1.16.1, \fBdpkg\-buildpackage\fP
exporta las opciones de compilación (\fBCFLAGS\fP, \fBCXXFLAGS\fP, \fBFFLAGS\fP,
\fBCPPFLAGS\fP y \fBLDFLAGS\fP) con los valores devueltos por
\fBdpkg\-buildflags\fP. Este comportamiento se ha eliminado.
.
.SH "COMPATIBILIDAD CON VERSIONES ANTERIORES"
A partir de la versión 1.16.2, \fBdpkg\-buildpackage\fP utiliza los objetivos
\fBbuild\-arch\fP y \fBbuild\-indep\fP. Estos objetivos son obligatorios. Para
evitar conflictos con paquetes existentes, y facilitar la transición,
utiliza el objetivo \fBbuild\fP de forma predefinida si \fBmake \-f debian/rules
\-qn\fP \fIbuild\-target\fP devuelve un valor de salida 2.
.SH FALLOS
Debería ser posible especificar espacios y caracteres especiales del
intérprete de órdenes en los argumentos iniciales de la
\fIorden\-para\-obtener\-root\fP y la \fIorden\-para\-firmar\fP.
.
.SH "VÉASE TAMBIÉN"
\fBdpkg\-source\fP(1), \fBdpkg\-architecture\fP(1), \fBdpkg\-buildflags\fP(1),
\fBdpkg\-genchanges\fP(1), \fBfakeroot\fP(1), \fBgpg\fP(1).
.SH "TRADUCTOR"
Rudy Godoy <rudy@kernel\-panik.org>,
Rubén Porras <nahoo@inicia.es>,
Bruno Barrera C. <bruno.barrera@igloo.cl>,
Carlos Izquierdo <gheesh@ertis.net>,
Esteban Manchado y
NOK.
Debian L10n Spanish <debian\-l10n\-spanish@lists.debian.org>.
.br
Revisiones por Santiago Vila <sanvila@unex.es>,
Javier Fernández\-Sanguino, Rubén Porras,
Luis Uribe y Omar Campagne.
