.\" dpkg manual page - dpkg-query(1)
.\"
.\" Copyright Â© 2001 Wichert Akkerman <wakkerma@debian.org>
.\" Copyright Â© 2006-2007 Frank Lichtenheld <djpig@debian.org>
.\" Copyright Â© 2006-2012 Guillem Jover <guillem@debian.org>
.\" Copyright Â© 2008-2011 RaphaÃ«l Hertzog <hertzog@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <http://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dpkg\-query 1 2012\-04\-03 Debianprojektet Dpkg\-sviten
.SH NAMN
dpkg\-query \- ett verktyg för att fråga dpkg\-databasen
.
.SH SYNOPS
\fBdpkg\-query\fP [\fIflaggor\fP...] \fIåtgärd\fP
.
.SH BESKRIVNING
\fBdpkg\-query\fP är ett verktyg för att visa information om paket i
\fBdpkg\fP\-databasen.
.
.SH KOMMANDON
.TP 
\fB\-l\fP, \fB\-\-list\fP [\fIpaketnamnsmönster\fP ...]
Lista paket som matchar det givna mönstret. Om inget \fIpaketnamnsmönster\fP
anges listas alla paket i \fI/var/lib/dpkg/status\fP, förutom de paket som
markerats som ej installerade (dvs. de som tidigare har helt tagits
bort). Skalets normala jokertecken tillåts i \fIpaketnamnsmönster\fP. Observera
att du sannolikt måste skriva \fIpaketnamnsmönster\fP inom citationstecken för
att förhindra att skalet expanderar filnamnet. Till exempel kommer följande
lista alla paket vars namn börjar på "libc6":

.nf
  \fBdpkg\-query \-l \(aqlibc6*\(aq\fP
.fi

De första tre kolumnerna i utdata visar önskad åtgärd, paketstatus och fel,
i den ordningen.

Önskad åtgärd
.nf
  u = Okänd
  i = Installera
  h = Håll
  r = Ta bort
  p = Rensa
.fi

Paketstatus:
.nf
  n = Ej installerat
  c = Konfigurationsfiler
  H = Halvinstallerat
  U = Uppackat
  F = Halvkonfigurerat
  W = Utlösare väntad
  t = Utlösare förestående
  i = Installerad
.fi

Felflaggor:
.nf
  <tom> = (ingen)
  R = Ominstallation krävs
.fi

En versal status\- eller felbokstav anger att paketet troligen kommer orsaka
allvarliga problem. Se \fBdpkg\fP(1) för information om status och flaggor
ovan.

Utdataformatet för den här flaggan kan inte justeras, men varieras
automatiskt för att passa terminalbredden. Det är avsett för mänskliga
läsare, och är inte enkelt maskinläsbart. Se \fB\-W\fP (\fB\-\-show\fP) och
\fB\-\-showformat\fP för hur du konfigurerar utdataformatet.
.TP 
\fB\-W\fP, \fB\-\-show\fP [\fIpaketnamnsmönster\fP ...]
Precis som flaggan \fB\-\-list\fP kommer att paket som matchar det givna mönstret
att visas. Utdatat kan dock skräddarsys med flaggan
\fB\-\-showformat\fP. Standardutdataformatet är en rad per paket som träffas, där
varje rad innehåller namn (utökat med arkitektursbeskrivning för
\fIMutli\-Arch\fP \fBsame\fP\-paket) och installerad version av paketet, avdelat med
ett tabulatortecken.
.TP 
\fB\-s\fP, \fB\-\-status\fP \fIpaketnamn\fP ...
Rapportera status om det angivna paketet.  Detta alternativ visar helt
enkelt posten i statusdatabasen för installerade paket. Om flera
\fIpaketnamn\fP anges avdelas de efterfrågade statusposterna med en tomrad, i
samma ordningsföljd som i parameterlistan.
.TP 
\fB\-L\fP, \fB\-\-listfiles\fP \fIpaketnamn\fP ...
Listar filer som installerats på ditt system från \fIpaketnamn\fP. Om flera
\fIpaketnamn\fP anges avdelas den efterfrågade fillistan med en tomrad, i samma
ordningsföljd som anges i parameterlistan. Observera att filer som skapats
av paketspecifika installationsskript inte visas.
.TP 
\fB\-\-control\-list\fP \fIpaketnamn\fP
Lista kontrollfiler installerade på ditt system från \fIpaketnamn\fP. Dessa kan
användas som inargument till \fB\-\-control\-show\fP.
.TP 
\fB\-\-control\-show\fP \fIpaketnamn\fP \fIkontrollfil\fP
Visar den \fIkontrollfil\fP som installerats på ditt system från \fIpaketnamn\fP
på standard ut.
.TP 
\fB\-c\fP, \fB\-\-control\-path\fP \fIpaketnamn\fP [\fIcontrol\-filnamn\fP]
Visar sökvägarna till kontrollfilerna som installerats på ditt system för
\fIpaketnamn\fP. Om \fIkontrollfil\fP anges visas endast sökvägen för den
kontrollfilen, om den finns. \fBVarning\fP: kommandot är föråldrat, vi ber dig
gå över till att istället använda \fB\-\-control\-list\fP och \fB\-\-control\-show\fP.
.TP 
\fB\-S\fP, \fB\-\-search\fP \fIfilnamnssökmönster\fP ...
Sök efter paket som äger filer som motsvarar det angivna mönstret. Alla
skalets vanliga jokertecken kan användas i mönstret. Kommandot kommer inte
att visa extrafiler som skapas av paketskript, ej heller kommer det att visa
alternativ.
.TP 
\fB\-p\fP, \fB\-\-print\-avail\fP \fIpaketnamn\fP
Visar information om \fIpaketnamn\fP, enligt vad som finns i
\fI/var/lib/dpkg/available\fP. Om flera \fIpaketnamn\fP anges avdelas de
efterfrågade posterna ur \fIavailable\fP\-filen med en tomrad, med samma
ordningsföljd som anges i parameterlistan.

Använder du ett APT\-baserat skal bör du istället använda \fBapt\-cache show\fP
\fIpaketnamn\fP, då \fIavailable\fP\-filen endast àjourförs om \fBdselect\fP används.
.TP 
\fB\-?\fP, \fB\-\-help\fP
Visar hjälpskärm och avslutar.
.TP 
\fB\-\-version\fP
Visar version och avslutar.
.
.SH FLAGGOR
.TP 
\fB\-\-admindir=\fP\fIkat\fP
Ändra platsen för \fBdpkg\fP\-databasen. Förval är \fI/var/lib/dpkg\fP.
.TP 
\fB\-\-load\-avail\fP
Läs även in available\-filen när kommandona \fB\-\-show\fP och \fB\-\-list\fP används,
vilka numera som standard endast läser statusfilen.
.TP 
\fB\-f\fP, \fB\-\-showformat=\fP\fIformat\fP
Flaggan används för att ange formatet på utdata som skapas av
\fB\-\-show\fP. Formatet är en sträng som matas ut för varje paket i listan.

I formatsträngen inleds följande styrsekvenser med \(lq\fB\e\fP\(rq:

.nf
    \fB\en\fP  radmatning
    \fB\er\fP  vagnretur
    \fB\et\fP  tabulator
.fi

\(lq\fB\e\fP\(rq före ett annat tecken undertrycken en speciell betydelse för
det efterföljande tecknet, vilket är kan användas för \(lq\fB\e\fP\(rq och
\(lq\fB$\fP\(rq.

Paketinformation kan läggas in genom att sätta in variabelreferenser till
paketfält, på syntaxen \(lq\fB${\fP\fIfield\fP[\fB;\fP\fIwidth\fP]\fB}\fP\(rq. Fält skrivs
högerjusterade såvida inte bredden är negativ i vilket fall vänsterjustering
kommer att användas. Följande \fIfält\fP stöds, men de är inte nödvändigtvis
tillgängliga i statusfilen (endast interna fält och fält som finns i
binärpaketet hamnar där):

.nf
    \fBArchitecture\fP
    \fBBugs\fP
    \fBConffiles\fP (internt)
    \fBConfig\-Version\fP (internt)
    \fBConflicts\fP
    \fBBreaks\fP
    \fBDepends\fP
    \fBDescription\fP
    \fBEnhances\fP
    \fBEssential\fP
    \fBFilename\fP (internt, skalrelaterat)
    \fBHomepage\fP
    \fBInstalled\-Size\fP
    \fBMD5sum\fP (internt, skalrelaterat)
    \fBMSDOS\-Filename\fP (internt, skalrelaterat)
    \fBMaintainer\fP
    \fBOrigin\fP
    \fBPackage\fP
    \fBPre\-Depends\fP
    \fBPriority\fP
    \fBProvides\fP
    \fBRecommends\fP
    \fBReplaces\fP
    \fBRevision\fP (föråldrat)
    \fBSection\fP
    \fBSize\fP  (internt, skalrelaterat)
    \fBSource\fP
    \fBStatus\fP (internt)
    \fBSuggests\fP
    \fBTag\fP (normalt inte i .deb, utan i arkivets Packages\-filer)
    \fBTriggers\-Awaited\fP (internt)    \fBTriggers\-Pending\fP (internt)    \fBVersion\fP
.fi

Följande är virtuella fält, genererade av \fBdpkg\-query\fP från värden från
adnra fält (observera att dessa inte är giltiga namn för fält i
kontrollfiler):

.nf
    \fBbinary:Package\fP
    \fBbinary:Summary\fP
    \fBdb:Status\-Abbrev\fP
    \fBsource:Package\fP
    \fBsource:Version\fP
.fi

Standardformatet är \(lq\fB${binary:Package}\et${Version}\en\fP\(rq. Alla andra
fält som finns i statusfilen (även användardefinierade fält) kan faktiskt
också hämtas. De visas dock som de är, ingen konvertering eller
felkorrigering görs på dem. \fBbinary:Package\fP är ett specialfält som skriver
ut paketnamnet med en arkitektursbeskrivning (som "libc6:amd64") om paketet
har ett \fIMulti\-Arch\fP\-fält med värdet \fBsame\fP och dess namn som sådant kunde
vara tvetydigt. För att hämta namnet på paketansvarig och installerad
version av dpkg och kan du köra:

.nf
  \fBdpkg\-query \-W \-f=\(aq${binary:Package} ${Version}\et${Maintainer}\en\(aq dpkg\fP
.fi
.
.SH RETURVÄRDE
.TP 
\fB0\fP
Den önskade frågan utfördes utan fel.
.TP 
\fB1\fP
Problem uppstod vid tolkning av kommandoraden eller när frågan skulle
utföras, till exempel att ingen fil eller paket hittades (förutom för
\-\-control\-path).
.
.SH MILJÖVARIABLER
.TP 
\fBDPKG_ADMINDIR\fP
Om satt, och flaggan \fB\-\-admindir\fP inte har angivits, används värdet som
datakatalog för dpkg.
.TP 
\fBCOLUMNS\fP
Inställningen påverkar utdata från kommandot \fB\-\-list\fP genom att ändra
bredden på dess utdata.
.
.SH "SE ÄVEN"
\fBdpkg\fP(1).

.SH "ÖVERSÄTTNING"
Peter Krefting och Daniel Nylander.
