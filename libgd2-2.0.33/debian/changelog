libgd2 (2.0.33-1.1sarge1) stable-security; urgency=high

  * Apply patch to fix infinite loop in GIF code. Closes: bug#372912
    (thanks to Alec Berryman <alec@thened.net> for reporting, and to
    Martin Pitt <martin.pitt@ubuntu.com> for providing a patch).
    Reported as CVE-2006-2906.
  * Include this and the earlier security fix as isolated patches in
    the source:
    + 1001_CAN-2004-0941.patch
    + 1002_CVE-2006-2906.patch

 -- Jonas Smedegaard <dr@jones.dk>  Mon, 17 Jul 2006 01:06:53 +0200

libgd2 (2.0.33-1.1) unstable; urgency=high

  * Non-maintainer upload with permission from Jonas
  * Apply patch to close security hole CAN-2004-0941

 -- Steve Kemp <skx@debian.org>  Thur, 3 Dec 2004 19:09:54 +0000

libgd2 (2.0.33-1) unstable; urgency=low

  * New upstream release.
    + Improved font handling. Closes: Bug#281349 (thanks to Alexander
    Schories <alexander@schories.com>).
  * Improve build rules to support kfreebsd-gnu. Closes: Bug#268280
    (thanks to Robert Millan <rmh@debian.org>), and probably also
    bug#276441 (but leaving open until confirmed).
    + Patch autoconf.ac to work around broken detection of pthreads.
    + Run "libtoolize -c -f; aclocal-1.9; autoconf" once.
    + Include the above patch with source, for use with newer upstream
      releases.
    + Update config.guess and config.sub at build time.
    + Build-depend on autotools-dev for the above.
    + Update config.rpath from http://savannah.gnu.org/projects/gnulib
      (grabbed from CVS).
  * Build -noxpm variant without fontconfig support as well (and add
    TODO note about possibly renaming to -nobloat in the future).
  * Mention fontconfig support (or lack thereof) to long descriptions.
    Closes: bug#280369 (thanks to Josip Rodin <joy@srce.hr> and Julian
    Mehnle <julian@mehnle.net>).
  * Drop obsolete and unused debian/rocks file.
  * Update TODO: rrdtool now properly acknowledges -noxpm (at last!).

 -- Jonas Smedegaard <dr@jones.dk>  Sun,  7 Nov 2004 14:08:29 +0100

libgd2 (2.0.30-1) unstable; urgency=high

  * New upstream release:
    + Security fix: potential buffer overflow (CAN-2004-0990). Closes:
      bug#278625 (thanks to Martin Pitt <mpitt@debian.org>).
  * Tightened d-devlibdeps build-dependency (local hack is adopted now).
  * New fontconfig support enabled.
  * Include "hall of shame" to TODO.
  * Set urgency=high as this closes a security-related bug in sarge.

 -- Jonas Smedegaard <dr@jones.dk>  Sat, 30 Oct 2004 22:22:10 +0200

libgd2 (2.0.28-3) unstable; urgency=high

  * Acknowledge NMU (thanks to Simon Richter <sjr@debian.org> for
    noticing and Steve Langasek <vorlon@debian.org> for providing the
    fix). The bugreport contains other less urgent parts not fixed by
    this package, so will be split/closed manually.
  * Temporarily use local hacked d-devlibdeps that correctly (more or
    less, but at least better than before) resolve the recent X11
    package split (bugreport filed against devlibs).
  * Clean out test gif's on clean target (in addition to png's).
  * Keep urgency=high for the RC bugfix to reach sarge, and because all
    the changes affects no binaries, only packaging hints.

 -- Jonas Smedegaard <dr@jones.dk>  Mon, 13 Sep 2004 18:29:45 +0200

libgd2 (2.0.28-2.1) unstable; urgency=high

  * Non-maintainer upload.
  * High-urgency upload for sarge-targetted RC fix.
  * Add build-dependency on libxt-dev to ensure that libgd2-xpm really
    does support XPMs (closes: #270655).

 -- Steve Langasek <vorlon@debian.org>  Wed, 22 Sep 2004 04:32:23 -0700

libgd2 (2.0.28-2) unstable; urgency=low

  * Build-depend on libx11-dev (in addition to libxpm-dev) to actually
    include XPM support in the -xpm packages (broken on all but powerpc
    since 2.0.23-1), and configure explicitly using --with-xpm
    to hopfully fail less silently in the future. Thanks to Matt
    Zimmerman <mdz@debian.org> for spotting the bug.

 -- Jonas Smedegaard <dr@jones.dk>  Wed, 28 Jul 2004 11:17:10 +0200

libgd2 (2.0.28-1) unstable; urgency=low

  * New upstream release. Closes:Bug#260793 (thanks to Adam Conrad
    <adconrad@0c3.net>).
  * Drop TODO about dropping noxpm packages: Even with the new fine-
    grained packaging of X11 libraries XPM support still pulls in
    several megabytes irrelevant for most web server applications (the
    most popular usage of GD).
  * Minor corrections to gdlib-config man page.

 -- Jonas Smedegaard <dr@jones.dk>  Thu, 22 Jul 2004 14:18:45 +0200

libgd2 (2.0.27-1) unstable; urgency=low

  * New upstream release. Closes: Bug# 254569 (except request for LZW
    support - I rely on the good judgement of upstream. Thanks anyway
    to Domenico Andreoli <cavok@debian.org> for the suggestion).
  * Cleaned up debian/copyright:
    + Replace info contained in changelog with note on "GNU systems".
    + Declare each topic more strictly.
    + Mention "licensing info" together with copyright.
  * Improved long descriptions:
    + General introduction to GD in all (non-transitional) packages
    + Website URL added

 -- Jonas Smedegaard <dr@jones.dk>  Sat, 17 Jul 2004 15:03:27 +0200

libgd2 (2.0.23-2) unstable; urgency=low

  * Rebuild to override secret NMU (HEY!!! when did we change rules to
    not need to warn before doing an NMU?!?). Still closes: Bug#243500,
    #238890.

 -- Jonas Smedegaard <dr@jones.dk>  Thu, 22 Apr 2004 00:36:44 +0200

libgd2 (2.0.23-1) unstable; urgency=low

  * New upstream release. Closes: Bug#243500 (thanks to Jan-Ã…ke Larsson
    <jalar@mai.liu.se>).
  * Acknowledge NMU. Closes: Bug#238890 (thanks to Domenico Andreoli
    <cavok@debian.org>).
  * Build-depend on libxpm-dev, with only a fallback to older xlibs-dev.
  * Use (and build-depend on) dh_buildinfo.
  * Add debian/TODO to source package, with notes on noxpm branch and
    interest in switching to cdbs (bzzzt, this changelog entry should
    *not* count in the "taking over the world" statistics of cdbs ;-) ).

 -- Jonas Smedegaard <dr@jones.dk>  Wed, 21 Apr 2004 23:36:28 +0200

libgd2 (2.0.22-0.1) unstable; urgency=low

  * New upstream release. Closes: Bug#238890.
  * This is a NMU.

 -- Domenico Andreoli <cavok@debian.org>  Fri, 19 Mar 2004 18:09:11 +0100

libgd2 (2.0.20-1) unstable; urgency=low

  * New upstream release. Closes: Bug#226179.

 -- Jonas Smedegaard <dr@jones.dk>  Fri,  9 Jan 2004 03:58:46 +0100

libgd2 (2.0.16-1) unstable; urgency=low

  * New upstream release.
  * FreeType headers are now properly handled. Closes: Bug#224789.
  * Bump up (and correct syntax of) standards-version to 3.6.1 (no
    changes needed). Closes: Bug#210415.

 -- Jonas Smedegaard <dr@jones.dk>  Thu, 25 Dec 2003 00:35:51 +0100

libgd2 (2.0.15-1) unstable; urgency=low

  * New upstream release.
  * Standards version 3.6 (no changes needed).

 -- Jonas Smedegaard <dr@jones.dk>  Tue, 22 Jul 2003 11:54:41 +0200

libgd2 (2.0.12-2) unstable; urgency=low

  * Have development packages conflict with libgd-gif1-dev. This relates
    to Bug#191039 (thanks to Martin Schulze <joey@infodrom.org>).
  * This package complies with Debian Policy 3.5.10.

 -- Jonas Smedegaard <dr@jones.dk>  Fri, 16 May 2003 17:56:22 +0200

libgd2 (2.0.12-1) unstable; urgency=low

  * New upstream release.
  * Correct paths to shared libraries for generating -dev dependencies.
  * Switch debhelper hint from DH_COMPAT to debian/compat.
  * Claim compliance with Policy 3.5.9 (no changes needed).
  * Change section devel to libdevel.
  * Run configure using --disable-rpath (although it is still ignored).

 -- Jonas Smedegaard <dr@jones.dk>  Sun, 13 Apr 2003 22:39:43 +0200

libgd2 (2.0.11-3) unstable; urgency=low

  * Update doc_cleaner.pl to make html file completely weblint-clean
    (required for woody, so closes: Bug#185492).

 -- Jonas Smedegaard <dr@jones.dk>  Wed, 19 Mar 2003 23:38:54 +0100

libgd2 (2.0.11-2) unstable; urgency=low

  * Simplify debian/rules a bit: Remove the INSTALL* definitions that
    may have stripped the binaries (not sure if it is honoured by the
    automade Makefile, but better safe than sorry).

 -- Jonas Smedegaard <dr@jones.dk>  Fri,  7 Mar 2003 01:29:49 +0100

libgd2 (2.0.11-1) unstable; urgency=low

  * New upstream release (closes: Bug#170353).
  * Adapt debian/rules to the new proper configure script.
  * Drop DBS and use plain debhelper instead. Adapt build-depends.
  * Use homebrewn debian/doc_cleaner.pl to clean the html doc instead of
    a patch (more sustainable if upstream chooses to not fix the
    horrible html with next release).
  * Mention new binary annotate in libgd-tools.1 manpage and add a
    symlink.
  * Remove obsolete dh_undocumented from debian/rules.
  * Add a minimal manpage for the new helper script gdlib-config.

 -- Jonas Smedegaard <dr@jones.dk>  Sun, 16 Feb 2003 02:00:42 +0100

libgd2 (2.0.4-11) unstable; urgency=low

  * Relax dependency for transitional packages of their real
    counterparts.

 -- Jonas Smedegaard <dr@jones.dk>  Mon, 16 Dec 2002 02:02:35 +0100

libgd2 (2.0.4-10) unstable; urgency=low

  * Use d-shlibdeps package again, and build-depend on corrected
    versions of the package.
  * Declare compliance with Policy version 3.5.8.0 (no changed needed).
  * Remove full stop in description to please lintian.

 -- Jonas Smedegaard <dr@jones.dk>  Mon, 16 Dec 2002 01:50:10 +0100

libgd2 (2.0.4-9) unstable; urgency=medium

  * The "Will we ever make it in time...?" release.
  * Use a local hacked d-devlibdeps (to properly handle libXpm
    dependency), and remove build-depend on d-shlibs.
  * Use html2text instead of w3m (as w3m doesn't build on all
    platforms). Thanks to Adam Conrad <adconrad@0c3.net> for pointing it
    out. Hack the html to be weblint-clean for html2text to accept it.
  * Set urgency=medium - same argument as below.

 -- Jonas Smedegaard <dr@jones.dk>  Sun, 24 Nov 2002 21:01:27 +0100

libgd2 (2.0.4-8) unstable; urgency=high

  * Have libgd2-(no)xpm replace libgd2 older than 2.0.4-2 (when it
    became a transitional package, instead of a virtual on (which is
    ignored by Replaces:), and instead of the old plain package).
  * Set urgency=high, as only change is with this extra hint, and we
    really want this in testing soon - even with the current
    (unreported) bug it does more good than harm to let it in.

 -- Jonas Smedegaard <dr@jones.dk>  Thu, 21 Nov 2002 06:36:41 +0100

libgd2 (2.0.4-7) unstable; urgency=low

  * Conflict with old virtual libgd2(-dev) packages (closes: Bug#16881).

 -- Jonas Smedegaard <dr@jones.dk>  Wed, 13 Nov 2002 00:16:26 +0100

libgd2 (2.0.4-6) unstable; urgency=low

  * Preload libgd.so when running tests. Allows building without libgd2
    already installed, and closes Bug#167976.

 -- Jonas Smedegaard <dr@jones.dk>  Wed,  6 Nov 2002 06:03:09 +0100

libgd2 (2.0.4-5) unstable; urgency=low

  * Have -dev packages conflict on libgd-(no)xpm-dev.
  * Have only transitional packages provide and conflict libgd1g,
    libgd1-altdev and old -tools packages.
  * Change build-depends to only the virtual libz-dev and libpng12-dev
    (not their real counterparts as well).
  * Add watch file.

 -- Jonas Smedegaard <dr@jones.dk>  Wed,  6 Nov 2002 05:25:56 +0100

libgd2 (2.0.4-4) unstable; urgency=low

  * Use (and build-depend on) d-shlibs to make proper depends for -dev
    packages.
  * Tidy debian/ by generating debhelper files in configure target and
    remove it on clean.

 -- Jonas Smedegaard <dr@jones.dk>  Mon,  4 Nov 2002 19:00:36 +0100

libgd2 (2.0.4-3) unstable; urgency=low

  * Correct dependencies for transitional packages.

 -- Jonas Smedegaard <dr@jones.dk>  Mon,  4 Nov 2002 17:33:31 +0100

libgd2 (2.0.4-2) unstable; urgency=low

  * Provide transitional packages (a virtual package cannot satisfy a
    versioned dependency).
  * Tighten libgd2-xpm-dev to only same lib (noxpm binaries work well
    with xpm lib, but not the other way around).
  * Generate shlibs files without debhelper (to correctly do the
    above).
  * Simplify dh_shlibdeps invocation (it is really only used for
    libgd-tools anyway) and avoid using -L flag (to allow rebuild on
    woody with debhelper << 4.1.1 where the flag first appeared).
  * Enable tests (gddemo and gdtest).
  * Include test images as examples in -dev packages.
  * Remove TODO.Debian (the item - warnings possibly caused by
    signedness problems - have been dealt with upstream).

 -- Jonas Smedegaard <dr@jones.dk>  Mon,  4 Nov 2002 15:30:29 +0100

libgd2 (2.0.4-1) unstable; urgency=low

  * New upstream release.
  * Update gdft patch 02add_gdImageStringFTEx.
  * Update configure patch 01makefile_generic_install.
  * Make sure not to compile libgd.a with -fPIC.
  * Corrections to debian/rules to adapt to new configure.

 -- Jonas Smedegaard <dr@jones.dk>  Mon, 28 Oct 2002 02:40:39 +0100

libgd2 (2.0.2-2) unstable; urgency=low

  * Add unofficial function gdImageStringFTEx to not break binary
    compatibility with 2.0.1 (thanks to Nils Rennebarth
    <nils.rennebarth@packetalarm.com> for complaining and providing the
    patch.
  * Fix building without libgd2-dev already installed.
  * Fix linking libgd-tools against libgd2-noxpm (not static built).
  * Suggest noxpm in favor of xpm for packages built against noxpm.
  * Build-depend on new libpng12-0-dev and on zlib1g-dev, with fallback
    to their virtual packages.

 -- Jonas Smedegaard <dr@jones.dk>  Sat, 26 Oct 2002 10:32:56 +0200

libgd2 (2.0.2-1) unstable; urgency=low

  * New upstream version.
    + Antialiased freetype text output now works properly in both
      truecolor and non-truecolor contexts!
    + By default, alpha blending is now done within the library. Also,
      by default, alpha channel is not saved with PNG images.
  * Repackage using dbs (with no patches applied for now).
  * Readme only html now, so build a text version (and build-depend on
    w3m).
  * Update debian/copyright (years added, and contact address changed).
  * Correct libgd-tools dependency on libgd2-(no)xpm.
  * Build and run tests.

 -- Jonas Smedegaard <dr@jones.dk>  Tue, 22 Oct 2002 01:46:22 +0200

libgd2 (2.0.1-19) unstable; urgency=low

  * Conflict with libgd2 (and closes: #158639, #157920).

 -- Jonas Smedegaard <dr@jones.dk>  Thu, 29 Aug 2002 03:50:26 +0200

libgd2 (2.0.1-18) unstable; urgency=low

  * Build against libpng3 (thanks to Junichi Uekawa for cleaning up the
    mess finally!).

 -- Jonas Smedegaard <dr@jones.dk>  Sun, 18 Aug 2002 18:30:28 +0200

libgd2 (2.0.1-17) unstable; urgency=low

  * Install libgd-tools.1 (closes: #130499).

 -- Jonas Smedegaard <dr@jones.dk>  Sun, 11 Aug 2002 02:41:02 +0200

libgd2 (2.0.1-16) unstable; urgency=low

  * Correct shlibs dependency on libgd2-xpm (not the virtual libgd2).
    Thanks to Chris Halls <chris.halls@gmx.de> for spotting the error,
    which closes: #155498.

 -- Jonas Smedegaard <dr@jones.dk>  Mon,  5 Aug 2002 16:58:06 +0200

libgd2 (2.0.1-15) unstable; urgency=low

  * Patch gdft.c for truecolor antialiasing. Patch found at
    http://www.coupin.net/gd-freetype/ thanks to Michael Ganss
    <michael.ganss@oo-services.com>, and closes: #154112.

 -- Jonas Smedegaard <dr@jones.dk>  Mon, 29 Jul 2002 04:04:52 +0200

libgd2 (2.0.1-14) unstable; urgency=low

  * Correct bug related to color resolving, thanks to Egon Eckert
    <egon@heaven.industries.cz>.

 -- Jonas Smedegaard <dr@jones.dk>  Sun, 28 Jul 2002 10:28:30 +0200

libgd2 (2.0.1-13) unstable; urgency=low

  * libgd2-xpm-dev should depend on libgd2-xpm, not libgd2.

 -- Jonas Smedegaard <dr@jones.dk>  Sat, 13 Jul 2002 17:33:04 +0200

libgd2 (2.0.1-12) unstable; urgency=low

  * Include docs in all packages.

 -- Jonas Smedegaard <dr@jones.dk>  Sat, 13 Jul 2002 17:21:20 +0200

libgd2 (2.0.1-11) unstable; urgency=low

  * The "No more potatoes" release.
  * Major rewrite of debian/* to use debhelper V4.
  * Remove libgd.a from libgd-tools.
  * Rename libgd2 to libgd2-xpm and use libgd2 as a virtual package.
  * Add new package libgd2-noxpm-dev and do the same rename as above
    with -dev.
  * Include all header files (some where left out) in -dev packages.
  * Tighten shlib dependency to at least this build to avoid the old
    mess...
  * Add all demos from libgd-tools as example source in -dev. Remove
    compiled demos from -tools.
  * Add debug and nostrip support to debian/rules.
  * Add contact address gd@boutell.com to debian/copyright.
  * Remove libgd-tools Conflicts on libgd2-noxpm - they should work fine
    together (none of the tools use xpm).
  * Move libgd-tools Conflicts and Replaces on older libgd-tools to
    libgd2-xpm and -noxpm to make lintian happier. Suggest -tools as
    well.
  * Include/improve comment about XPM for long descriptions.
  * Set sane access rights on whole source as part of clean target.
  * Write a manpage for the libgd-tools applications to please lintian
    (and the rest of the world). This closes: Bug#130499.

 -- Jonas Smedegaard <dr@jones.dk>  Sat, 13 Jul 2002 16:20:27 +0200

libgd2 (2.0.1-10) unstable; urgency=low

  * Correct a typo (my fault!) whith the patch. This closes: bug#142946.

 -- Jonas Smedegaard <dr@jones.dk>  Mon, 15 Apr 2002 11:22:32 +0200

libgd2 (2.0.1-9) unstable; urgency=low

  * Change ligd-tools priority from extra to optional.
  * Include patch from Stephen <stephen@tha.net> to handle antialiasing
    (let's hope we make it for Woody).

 -- Jonas Smedegaard <dr@jones.dk>  Wed, 10 Apr 2002 12:48:11 +0200

libgd2 (2.0.1-8) unstable; urgency=low

  * Add both xpm and non-xpm to substvars files, thanks to Joey Hess.
  * Now that we are at it: Loosen up shlibs dependencies.

 -- Jonas Smedegaard <dr@jones.dk>  Mon, 25 Mar 2002 22:46:10 +0100

libgd2 (2.0.1-7) unstable; urgency=low

  * Oops - now _really_ loosen up libpng2-dev dependency...

 -- Jonas Smedegaard <dr@jones.dk>  Fri, 22 Feb 2002 04:43:53 +0100

libgd2 (2.0.1-6) unstable; urgency=low

  * Reflect changes in (NMU of) libpng3 and only Build-conflicts: the
    badly hinted one, to loosen up libpng2 dependency to all _real_
    releases available (and possibly libpng3 if indeed it is/becomes as
    compatible as claimed!).
  * Change libgd-tools priority and libgd2-dev section to make Debian
    Installer happy.

 -- Jonas Smedegaard <dr@jones.dk>  Fri, 22 Feb 2002 02:10:37 +0100

libgd2 (2.0.1-5) unstable; urgency=low

  * Build a -noxpm variant.

 -- Jonas Smedegaard <dr@jones.dk>  Fri,  1 Feb 2002 02:49:59 +0100

libgd2 (2.0.1-4) unstable; urgency=low

  * Another workaround to the libpng{2,3} mess: build-depend on specific
    version to avoid illegal versioned build-conflict on (sometimes!)
    virtual package. This will probably cause problems on autobuilders
    as well (if they still see replacing libpng-dev with libpng2-dev as
    a downgrade), but should at least be legal.
  * Add readme.* to libgd2-dev.

 -- Jonas Smedegaard <dr@jones.dk>  Sun, 20 Jan 2002 15:08:43 +0100

libgd2 (2.0.1-3) unstable; urgency=low

  * Put back conflicts/replaces on libgd-tools (<<2.0.0). They where
    needed after all (even though lintian complains).

 -- Jonas Smedegaard <dr@jones.dk>  Sun, 13 Jan 2002 16:19:51 +0100

libgd2 (2.0.1-2) unstable; urgency=low

  * New maintainer (thanks, Ivo :-). Updating maintainer field.
  * Strip non-libgd2 part of changelog (go read the one from libgd
    package if interested in older changes).
  * Updating copyright file (Closes: #119288).
  * Cleanup old freetype2 (FreeType1) mess.
  * Use debhelper V3, tighten Build-Dependency on debhelper accordingly
    and remove postinst to have debhelper handle ldconfig correctly.
  * Build-Conflicts: libpng-dev (>= 1.2) (stuff like libgd-perl needs to
    know wether png2 or png3 is used - let's be conservative for a
    start).
  * Remove duplicate dependencies and strange conflicts/replaces
    (probably wrongly converted from those against libgd1g in libgd) in
    debian/control.

 -- Jonas Smedegaard <dr@jones.dk>  Sun, 13 Jan 2002 15:50:02 +0100

libgd2 (2.0.1-1) unstable; urgency=low

  * Initial package, based upon libgd1. (Closes: #102179, #102494)

 -- Ivo Timmermans <ivo@debian.org>  Sat, 18 Aug 2001 19:55:14 +0200
