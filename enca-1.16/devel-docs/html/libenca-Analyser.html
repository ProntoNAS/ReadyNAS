<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Analyser</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="Enca Library Reference Manual">
<link rel="up" href="ch01.html" title="Enca Library API">
<link rel="prev" href="ch01.html" title="Enca Library API">
<link rel="next" href="libenca-Typedefs-and-Constants.html" title="Typedefs and Constants">
<meta name="generator" content="GTK-Doc V1.15 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="ch01.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch01.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Enca Library Reference Manual</th>
<td><a accesskey="n" href="libenca-Typedefs-and-Constants.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#libenca-Analyser.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#libenca-Analyser.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry" title="Analyser">
<a name="libenca-Analyser"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="libenca-Analyser.top_of_page"></a>Analyser</span></h2>
<p>Analyser</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="libenca-Analyser.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis"><span class="returnvalue">EncaAnalyser</span>        <a class="link" href="libenca-Analyser.html#enca-analyser-alloc" title="enca_analyser_alloc ()">enca_analyser_alloc</a>                 (<em class="parameter"><code>const <span class="type">char</span> *langname</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="libenca-Analyser.html#enca-analyser-free" title="enca_analyser_free ()">enca_analyser_free</a>                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);
<a class="link" href="libenca-Typedefs-and-Constants.html#EncaEncoding" title="EncaEncoding"><span class="returnvalue">EncaEncoding</span></a>        <a class="link" href="libenca-Analyser.html#enca-analyse" title="enca_analyse ()">enca_analyse</a>                        (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code>unsigned <span class="type">char</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> size</code></em>);
<a class="link" href="libenca-Typedefs-and-Constants.html#EncaEncoding" title="EncaEncoding"><span class="returnvalue">EncaEncoding</span></a>        <a class="link" href="libenca-Analyser.html#enca-analyse-const" title="enca_analyse_const ()">enca_analyse_const</a>                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code>unsigned <span class="type">char</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> size</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libenca-Analyser.html#enca-errno" title="enca_errno ()">enca_errno</a>                          (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);
const <span class="returnvalue">char</span>*         <a class="link" href="libenca-Analyser.html#enca-strerror" title="enca_strerror ()">enca_strerror</a>                       (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> errnum</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libenca-Analyser.html#enca-double-utf8-check" title="enca_double_utf8_check ()">enca_double_utf8_check</a>              (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code>unsigned <span class="type">char</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> size</code></em>);
<span class="returnvalue">int</span>*                <a class="link" href="libenca-Analyser.html#enca-double-utf8-get-candidates" title="enca_double_utf8_get_candidates ()">enca_double_utf8_get_candidates</a>     (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="libenca-Analyser.html#enca-set-multibyte" title="enca_set_multibyte ()">enca_set_multibyte</a>                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> multibyte</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libenca-Analyser.html#enca-get-multibyte" title="enca_get_multibyte ()">enca_get_multibyte</a>                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="libenca-Analyser.html#enca-set-interpreted-surfaces" title="enca_set_interpreted_surfaces ()">enca_set_interpreted_surfaces</a>       (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> interpreted_surfaces</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libenca-Analyser.html#enca-get-interpreted-surfaces" title="enca_get_interpreted_surfaces ()">enca_get_interpreted_surfaces</a>       (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="libenca-Analyser.html#enca-set-ambiguity" title="enca_set_ambiguity ()">enca_set_ambiguity</a>                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> ambiguity</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libenca-Analyser.html#enca-get-ambiguity" title="enca_get_ambiguity ()">enca_get_ambiguity</a>                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="libenca-Analyser.html#enca-set-filtering" title="enca_set_filtering ()">enca_set_filtering</a>                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> filtering</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libenca-Analyser.html#enca-get-filtering" title="enca_get_filtering ()">enca_get_filtering</a>                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="libenca-Analyser.html#enca-set-garbage-test" title="enca_set_garbage_test ()">enca_set_garbage_test</a>               (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> garabage_test</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libenca-Analyser.html#enca-get-garbage-test" title="enca_get_garbage_test ()">enca_get_garbage_test</a>               (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="libenca-Analyser.html#enca-set-termination-strictness" title="enca_set_termination_strictness ()">enca_set_termination_strictness</a>     (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> termination_strictness</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libenca-Analyser.html#enca-get-termination-strictness" title="enca_get_termination_strictness ()">enca_get_termination_strictness</a>     (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libenca-Analyser.html#enca-set-significant" title="enca_set_significant ()">enca_set_significant</a>                (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> significant</code></em>);
<span class="returnvalue">size_t</span>              <a class="link" href="libenca-Analyser.html#enca-get-significant" title="enca_get_significant ()">enca_get_significant</a>                (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);
<span class="returnvalue">int</span>                 <a class="link" href="libenca-Analyser.html#enca-set-threshold" title="enca_set_threshold ()">enca_set_threshold</a>                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">double</span> threshold</code></em>);
<span class="returnvalue">double</span>              <a class="link" href="libenca-Analyser.html#enca-get-threshold" title="enca_get_threshold ()">enca_get_threshold</a>                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);
</pre>
</div>
<div class="refsect1" title="Description">
<a name="libenca-Analyser.description"></a><h2>Description</h2>
<p>
</p>
</div>
<div class="refsect1" title="Details">
<a name="libenca-Analyser.details"></a><h2>Details</h2>
<div class="refsect2" title="enca_analyser_alloc ()">
<a name="enca-analyser-alloc"></a><h3>enca_analyser_alloc ()</h3>
<pre class="programlisting"><span class="returnvalue">EncaAnalyser</span>        enca_analyser_alloc                 (<em class="parameter"><code>const <span class="type">char</span> *langname</code></em>);</pre>
<p>
Allocates an analyser and initializes it for language <em class="parameter"><code>language</code></em>.
</p>
<p>
The analyser, once crerated, can be used only for language for which it
was initialized.  If you need to detect encodings of texts in more than one
language, you must allocate an analyser for each one.  Note however, an
analyser may occupy a considerable amount of memory (a few hundreds of kB),
so it's generally not a good idea to have several hundreds of them floating
around.
</p>
<p>
<em class="parameter"><code>langname</code></em> is two-letter ISO 639:1989 language code.  Locale names in form
language_territory and ISO-639 English language names also may be accepted
in the future. To be on the safe side, use only names returned by
<a class="link" href="libenca-Auxiliary-Functions.html#enca-get-languages" title="enca_get_languages ()"><code class="function">enca_get_languages()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>langname</code></em> :</span></p></td>
<td>Language for which the analyser should be initialized.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> The newly created <span class="type">EncaAnalyser</span> on success, <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><span class="type">NULL</span></a> on failure
         (namely when <em class="parameter"><code>langname</code></em> is unknown or otherwise invalid).
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_analyser_free ()">
<a name="enca-analyser-free"></a><h3>enca_analyser_free ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                enca_analyser_free                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);</pre>
<p>
Frees memory used by <span class="type">EncaAnalyser</span> <em class="parameter"><code>analyser</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser to be destroyed.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_analyse ()">
<a name="enca-analyse"></a><h3>enca_analyse ()</h3>
<pre class="programlisting"><a class="link" href="libenca-Typedefs-and-Constants.html#EncaEncoding" title="EncaEncoding"><span class="returnvalue">EncaEncoding</span></a>        enca_analyse                        (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code>unsigned <span class="type">char</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> size</code></em>);</pre>
<p>
Analyses <em class="parameter"><code>buffer</code></em> and finds its encoding.
</p>
<p>
The <em class="parameter"><code>buffer</code></em> is checked for 8bit encodings of language for which <em class="parameter"><code>analyser</code></em>
was initialized and for multibyte encodings, mostly independent on language
(unless disabled with <a class="link" href="libenca-Analyser.html#enca-set-multibyte" title="enca_set_multibyte ()"><code class="function">enca_set_multibyte()</code></a>).
</p>
<p>
The contents of <em class="parameter"><code>buffer</code></em> may be (and probably will be) modified during the
analyse.  Use <a class="link" href="libenca-Analyser.html#enca-analyse-const" title="enca_analyse_const ()"><code class="function">enca_analyse_const()</code></a> instead if this discomforts you.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser initialized for some language.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>Buffer to be analysed.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>size</code></em> :</span></p></td>
<td>Size of <em class="parameter"><code>buffer</code></em>.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Encoding of <em class="parameter"><code>buffer</code></em>.  When charset part of return value is
         <a class="link" href="libenca-Typedefs-and-Constants.html#ENCA-CS-UNKNOWN:CAPS" title="ENCA_CS_UNKNOWN"><span class="type">ENCA_CS_UNKNOWN</span></a>, encoding was not determined.  Check
         <a class="link" href="libenca-Analyser.html#enca-errno" title="enca_errno ()"><code class="function">enca_errno()</code></a> for reason.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_analyse_const ()">
<a name="enca-analyse-const"></a><h3>enca_analyse_const ()</h3>
<pre class="programlisting"><a class="link" href="libenca-Typedefs-and-Constants.html#EncaEncoding" title="EncaEncoding"><span class="returnvalue">EncaEncoding</span></a>        enca_analyse_const                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code>unsigned <span class="type">char</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> size</code></em>);</pre>
<p>
Analyses <em class="parameter"><code>buffer</code></em> and finds its encoding.
</p>
<p>
The <em class="parameter"><code>buffer</code></em> is checked for 8bit encodings of language for which <em class="parameter"><code>analyser</code></em>
was initialized and for multibyte encodings, mostly independent on language
(unless disabled with <a class="link" href="libenca-Analyser.html#enca-set-multibyte" title="enca_set_multibyte ()"><code class="function">enca_set_multibyte()</code></a>).
</p>
<p>
This function never modifies <em class="parameter"><code>buffer</code></em> (can be even used with string literal
<em class="parameter"><code>buffer</code></em>) at the expense it's generally slower than <a class="link" href="libenca-Analyser.html#enca-analyse" title="enca_analyse ()"><code class="function">enca_analyse()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser initialized for some language.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>Buffer to be analysed.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>size</code></em> :</span></p></td>
<td>Size of <em class="parameter"><code>buffer</code></em>.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Encoding of <em class="parameter"><code>buffer</code></em>.  When charset part of return value is
         <a class="link" href="libenca-Typedefs-and-Constants.html#ENCA-CS-UNKNOWN:CAPS" title="ENCA_CS_UNKNOWN"><span class="type">ENCA_CS_UNKNOWN</span></a>, encoding was not determined.  Check
         <a class="link" href="libenca-Analyser.html#enca-errno" title="enca_errno ()"><code class="function">enca_errno()</code></a> for reason.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_errno ()">
<a name="enca-errno"></a><h3>enca_errno ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 enca_errno                          (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);</pre>
<p>
Returns analyser error code.
</p>
<p>
The error code is not modified.  However, any other analyser call i.e.
call to a function taking <em class="parameter"><code>analyser</code></em> as parameter can change the error code.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Error code of reason why last analyser call failed.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_strerror ()">
<a name="enca-strerror"></a><h3>enca_strerror ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span>*         enca_strerror                       (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> errnum</code></em>);</pre>
<p>
Returns string describing the error code.
</p>
<p>
The returned string must be considered constant and must NOT be freed.
It is however gauranteed not to be modified on invalidated by subsequent
calls to any libenca functions, including <a class="link" href="libenca-Analyser.html#enca-strerror" title="enca_strerror ()"><code class="function">enca_strerror()</code></a>.
</p>
<p>
The analyser error code is not changed for a successful call, and it set
to <a class="link" href="libenca-Typedefs-and-Constants.html#ENCA-EINVALUE:CAPS"><span class="type">ENCA_EINVALUE</span></a> upon error.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>errnum</code></em> :</span></p></td>
<td>An analyser error code.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> String describing the error code.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_double_utf8_check ()">
<a name="enca-double-utf8-check"></a><h3>enca_double_utf8_check ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 enca_double_utf8_check              (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code>unsigned <span class="type">char</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> size</code></em>);</pre>
<p>
Checks buffer for double-UTF-8 encoding.
</p>
<p>
Double-UTF-8 encoding is the result of [errorneous] conversion of UTF-8 text
to UTF-8 again, as if it was in some 8bit charset.  This is quite hard to
recover from.
</p>
<p>
The analayser mostly only determines what language will be assumed,
the rest of this test is independent on the main guessing routines.
When <em class="parameter"><code>buffer</code></em> doesn't containing UTF-8 text, the result is undefined
(namely, false positives are possible).
</p>
<p>
Calling this function when language is `none' has currently no effect.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>Analyzer state determinig the language for double-UTF-8 check.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>The buffer to be checked [<em class="parameter"><code>size</code></em>].
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>size</code></em> :</span></p></td>
<td>The size of <em class="parameter"><code>buffer</code></em>.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Nonzero, when <em class="parameter"><code>buffer</code></em> probably contains doubly-UTF-8 encoded text.
         More precisely, it returns the number of charsets which are
         possible candidates for source charset.  You can then use
         <a class="link" href="libenca-Analyser.html#enca-double-utf8-get-candidates" title="enca_double_utf8_get_candidates ()"><code class="function">enca_double_utf8_get_candidates()</code></a> to retrieve the charsets.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_double_utf8_get_candidates ()">
<a name="enca-double-utf8-get-candidates"></a><h3>enca_double_utf8_get_candidates ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>*                enca_double_utf8_get_candidates     (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);</pre>
<p>
Returns array of double-UTF-8 source charset candidates from the last check.
</p>
<p>
The returned array should be freed by caller then no longer needed. Its
is the return value of the preceding <a class="link" href="libenca-Analyser.html#enca-double-utf8-check" title="enca_double_utf8_check ()"><code class="function">enca_double_utf8_check()</code></a> call.
</p>
<p>
When called before any double-UTF-8 test has been performed yet or after
and unsuccessfull double-UTF-8 test, it returns NULL, but the result after
an unsuccessfull check should be considered undefined.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>Analyzer state for which double-UTF-8 candidates are to be
           returned.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> An array containing charset id's of possible source charsets from
         which the sample was doubly-UTF-8 encoded.  The array may contain
         only one value, but usually enca is not able to decide between
         e.g. ISO-8859-2 and Win1250, thus more candidates are returned.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_set_multibyte ()">
<a name="enca-set-multibyte"></a><h3>enca_set_multibyte ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                enca_set_multibyte                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> multibyte</code></em>);</pre>
<p>
Enables or disables multibyte encoding tests for <em class="parameter"><code>analyser</code></em>.
</p>
<p>
This option is enabled by default.
</p>
<p>
When multibyte encodings are disabled, only 8bit charsets are checked.
Disabling them for language with no 8bit charsets leaves only one thing
<a class="link" href="libenca-Analyser.html#enca-analyse" title="enca_analyse ()"><code class="function">enca_analyse()</code></a> could test: whether the sample is purely 7bit ASCII or not
(the latter leading to analyser failure, of course).
</p>
<p>
Multibyte encoding detection is also affected by
<a class="link" href="libenca-Analyser.html#enca-set-termination-strictness" title="enca_set_termination_strictness ()"><code class="function">enca_set_termination_strictness()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>multibyte</code></em> :</span></p></td>
<td>Whether multibyte encoding tests should be enabled (nonzero to
            enable, zero to disable).
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_get_multibyte ()">
<a name="enca-get-multibyte"></a><h3>enca_get_multibyte ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 enca_get_multibyte                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);</pre>
<p>
Returns whether <em class="parameter"><code>analyser</code></em> can return multibyte encodings.
</p>
<p>
See <a class="link" href="libenca-Analyser.html#enca-set-multibyte" title="enca_set_multibyte ()"><code class="function">enca_set_multibyte()</code></a> for more detailed description of multibyte
encoding checking.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Nonzero when multibyte encoding are possible, zero otherwise.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.3.</p>
</div>
<hr>
<div class="refsect2" title="enca_set_interpreted_surfaces ()">
<a name="enca-set-interpreted-surfaces"></a><h3>enca_set_interpreted_surfaces ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                enca_set_interpreted_surfaces       (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> interpreted_surfaces</code></em>);</pre>
<p>
Enables or disables interpeted surfaces tests for <em class="parameter"><code>analyser</code></em>.
</p>
<p>
This option is enabled by default.
</p>
<p>
To allow simple applications which care about charset only and don't want
to wrestle with surfaces, neglecting surface information should not have
serious consequences.  While ignoring EOL type surface is feasible, and
ignoring UCS byteorders may be acceptable in endian-homogenous environment;
ignoring the fact file is Quoted-Printable encoded can have disasterous
consequences.  By disabling this option you can disable surfaces requiring
fundamental reinterpretation of the content, namely <a class="link" href="libenca-Typedefs-and-Constants.html#ENCA-SURFACE-QP:CAPS"><code class="literal">ENCA_SURFACE_QP</code></a>
and <a class="link" href="libenca-Typedefs-and-Constants.html#ENCA-SURFACE-EOL-BIN:CAPS"><code class="literal">ENCA_SURFACE_EOL_BIN</code></a> (thus probably making <a class="link" href="libenca-Analyser.html#enca-analyse" title="enca_analyse ()"><code class="function">enca_analyse()</code></a> to fail on
such samples).
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>interpreted_surfaces</code></em> :</span></p></td>
<td>Whether interpreted surfaces tests should be enabled
                       (nonzero to allow, zero to disallow).
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_get_interpreted_surfaces ()">
<a name="enca-get-interpreted-surfaces"></a><h3>enca_get_interpreted_surfaces ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 enca_get_interpreted_surfaces       (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);</pre>
<p>
Returns whether <em class="parameter"><code>analyser</code></em> allows interpreted surfaces.
</p>
<p>
See <a class="link" href="libenca-Analyser.html#enca-set-interpreted-surfaces" title="enca_set_interpreted_surfaces ()"><code class="function">enca_set_interpreted_surfaces()</code></a> for more detailed description of
interpreted surfaces.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Nonzero when interpreted surfaces are possible, zero otherwise.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.3.</p>
</div>
<hr>
<div class="refsect2" title="enca_set_ambiguity ()">
<a name="enca-set-ambiguity"></a><h3>enca_set_ambiguity ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                enca_set_ambiguity                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> ambiguity</code></em>);</pre>
<p>
Enables or disables ambiguous mode for <em class="parameter"><code>analyser</code></em>.
</p>
<p>
This option is disabled by default.
</p>
<p>
In ambiguous mode some result is returned even when the charset cannot be
determined uniquely, provided that sample contains only characters which
have the same meaning in all charsets under consideration.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>ambiguity</code></em> :</span></p></td>
<td>Whether result can be ambiguous (nonzero to allow, zero to
            disallow).
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_get_ambiguity ()">
<a name="enca-get-ambiguity"></a><h3>enca_get_ambiguity ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 enca_get_ambiguity                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);</pre>
<p>
Returns whether <em class="parameter"><code>analyser</code></em> can return ambiguous results.
</p>
<p>
See <a class="link" href="libenca-Analyser.html#enca-set-ambiguity" title="enca_set_ambiguity ()"><code class="function">enca_set_ambiguity()</code></a> for more detailed description of ambiguous results.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Nonzero when ambiguous results are allowed, zero otherwise.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.3.</p>
</div>
<hr>
<div class="refsect2" title="enca_set_filtering ()">
<a name="enca-set-filtering"></a><h3>enca_set_filtering ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                enca_set_filtering                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> filtering</code></em>);</pre>
<p>
Enables or disables filters for <em class="parameter"><code>analyser</code></em>.
</p>
<p>
This option is enabled by default.
</p>
<p>
Various filters are used to filter out block of binary noise and box-drawing
characters that could otherwise confuse enca.  In cases this is unwanted,
you can disable them by setting this option to zero.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>filtering</code></em> :</span></p></td>
<td>Whether filters should be enabled (nonzero to enable, zero to
            disable).
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_get_filtering ()">
<a name="enca-get-filtering"></a><h3>enca_get_filtering ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 enca_get_filtering                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);</pre>
<p>
Returns whether <em class="parameter"><code>analyser</code></em> has filtering enabled.
</p>
<p>
See <a class="link" href="libenca-Analyser.html#enca-set-filtering" title="enca_set_filtering ()"><code class="function">enca_set_filtering()</code></a> for more detailed description of filtering.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Nonzero when filtering is enabled, zero otherwise.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.3.</p>
</div>
<hr>
<div class="refsect2" title="enca_set_garbage_test ()">
<a name="enca-set-garbage-test"></a><h3>enca_set_garbage_test ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                enca_set_garbage_test               (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> garabage_test</code></em>);</pre>
<p>
Enables or disables garbage test for <em class="parameter"><code>analyser</code></em>.
</p>
<p>
This option is enabled by default.
</p>
<p>
To prevent white noise (and almost-white noise) from being accidentally
detected as some charset, a garbage test is used.  In cases this is
unwanted, you can disable is by setting this option to zero.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>garabage_test</code></em> :</span></p></td>
<td>Whether garbage test should be allowed (nonzero to enable,
                nzero to disable).
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_get_garbage_test ()">
<a name="enca-get-garbage-test"></a><h3>enca_get_garbage_test ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 enca_get_garbage_test               (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);</pre>
<p>
Returns whether <em class="parameter"><code>analyser</code></em> has garbage test enabled.
</p>
<p>
See <a class="link" href="libenca-Analyser.html#enca-set-garbage-test" title="enca_set_garbage_test ()"><code class="function">enca_set_garbage_test()</code></a> for more detailed description of garbage test.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Nonzero when garbage test is enabled, zero otherwise.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.3.</p>
</div>
<hr>
<div class="refsect2" title="enca_set_termination_strictness ()">
<a name="enca-set-termination-strictness"></a><h3>enca_set_termination_strictness ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                enca_set_termination_strictness     (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">int</span> termination_strictness</code></em>);</pre>
<p>
Enables or disables requiring multibyte sequences to be terminated correctly
at the end of sample.
</p>
<p>
This option is enabled by default.
</p>
<p>
The sample given to <a class="link" href="libenca-Analyser.html#enca-analyse" title="enca_analyse ()"><code class="function">enca_analyse()</code></a> generally may not be a complete text
(e.g. for efficiency reasons).  As a result, it may end in the middle of a
multibyte sequence.  In this case, you should disable this option to
prevent rejecting some charset just because the sample don't terminate
correctly.  On the other hand, when given sample contains whole text, you
should always enable this option to assure correctness of the result.
</p>
<p>
Note this option does NOT affect fixed character size encodings, like UCS-2
and UCS-4; sample is never assumed to contain UCS-2 text when its size is
not even (and similarly for UCS-4).
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>termination_strictness</code></em> :</span></p></td>
<td>Whether multibyte sequences are required to be
                         terminated correctly at the end of sample
                         (nonzero to require, zero to relax).
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_get_termination_strictness ()">
<a name="enca-get-termination-strictness"></a><h3>enca_get_termination_strictness ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 enca_get_termination_strictness     (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);</pre>
<p>
Returns whether <em class="parameter"><code>analyser</code></em> requires strict termination.
</p>
<p>
See <a class="link" href="libenca-Analyser.html#enca-set-termination-strictness" title="enca_set_termination_strictness ()"><code class="function">enca_set_termination_strictness()</code></a> for more detailed description of
termination strictness.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Nonzero when strict termination is required, zero otherwise.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.3.</p>
</div>
<hr>
<div class="refsect2" title="enca_set_significant ()">
<a name="enca-set-significant"></a><h3>enca_set_significant ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 enca_set_significant                (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> significant</code></em>);</pre>
<p>
Sets the minimal number of required significant characters.
</p>
<p>
The default value of this option is 10.
</p>
<p>
<a class="link" href="libenca-Analyser.html#enca-analyse" title="enca_analyse ()"><code class="function">enca_analyse()</code></a> refuses to make a decision unles at least this number
of significant characters is found in sample.  You may want to lower this
number for very short texts.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>significant</code></em> :</span></p></td>
<td>Minimal number of required significant characters.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Zero on success, nonzero on failure, i.e. when you passed zero
         as <em class="parameter"><code>significant</code></em>.  It sets analyser errno to ENCA_EINVALUE on
         failure.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_get_significant ()">
<a name="enca-get-significant"></a><h3>enca_get_significant ()</h3>
<pre class="programlisting"><span class="returnvalue">size_t</span>              enca_get_significant                (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);</pre>
<p>
Returns the minimum number of significant characters required by <em class="parameter"><code>analyser</code></em>.
</p>
<p>
See <a class="link" href="libenca-Analyser.html#enca-set-significant" title="enca_set_significant ()"><code class="function">enca_set_significant()</code></a> for more detailed description of required
significant characters.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> The minimum number of significant characters.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.3.</p>
</div>
<hr>
<div class="refsect2" title="enca_set_threshold ()">
<a name="enca-set-threshold"></a><h3>enca_set_threshold ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>                 enca_set_threshold                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>,
                                                         <em class="parameter"><code><span class="type">double</span> threshold</code></em>);</pre>
<p>
Sets the minimal ratio between the most probable and the second most
probable charsets.
</p>
<p>
The default value of this option is 1.4142.
</p>
<p>
<a class="link" href="libenca-Analyser.html#enca-analyse" title="enca_analyse ()"><code class="function">enca_analyse()</code></a> consideres the result known only when there's a clear gap
between the most probable and the second most probable charset
proababilities.  Lower <em class="parameter"><code>threshold</code></em> values mean larger probability of a
mistake and smaller probability of not recognizing a charset; higher
<em class="parameter"><code>threshold</code></em> values the contrary.  Threshold value of 2 is almost infinity.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>threshold</code></em> :</span></p></td>
<td>Minimal ratio between winner and second best guess.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Zero on success, nonzero on failure, i.e. when you passed value
         smaller than 1.0 as <em class="parameter"><code>threshold</code></em>.  It sets analyser errno to
         ENCA_EINVALUE on failure.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enca_get_threshold ()">
<a name="enca-get-threshold"></a><h3>enca_get_threshold ()</h3>
<pre class="programlisting"><span class="returnvalue">double</span>              enca_get_threshold                  (<em class="parameter"><code><span class="type">EncaAnalyser</span> analyser</code></em>);</pre>
<p>
Returns the threshold value used by <em class="parameter"><code>analyser</code></em>.
</p>
<p>
See <a class="link" href="libenca-Analyser.html#enca-set-threshold" title="enca_set_threshold ()"><code class="function">enca_set_threshold()</code></a> for more detailed threshold description.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>analyser</code></em> :</span></p></td>
<td>An analyser.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> The threshold value.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.3.</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.15</div>
</body>
</html>