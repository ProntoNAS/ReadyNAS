diff -urN shadow-20000902/src/login.c shadow-20000902.new/src/login.c
--- shadow-20000902/src/login.c	Mon Jul 30 17:28:50 2001
+++ shadow-20000902.new/src/login.c	Mon Jul 30 17:28:24 2001
@@ -843,6 +843,7 @@
 		}
 
 		/* We don't get here unless they were authenticated above */
+		alarm(0);
 		retcode = pam_acct_mgmt(pamh, 0);
 
 		if(retcode == PAM_NEW_AUTHTOK_REQD) {
