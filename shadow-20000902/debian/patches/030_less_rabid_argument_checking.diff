diff -urN shadow-20000902/src/login.c shadow-20000902.new/src/login.c
--- shadow-20000902/src/login.c	Mon Oct 22 10:59:43 2001
+++ shadow-20000902.new/src/login.c	Mon Oct 22 10:59:05 2001
@@ -305,6 +305,8 @@
 	for (arg = 1; arg < argc; arg++) {
 		if (argv[arg][0] == '-' && strlen(argv[arg]) > 2)
 			usage();
+		if (!strcmp(argv[arg], "--"))
+			break; /* stop checking on a "--" */
 	}
 }
 
