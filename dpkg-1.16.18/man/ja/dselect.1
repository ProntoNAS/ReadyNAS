.\" dselect manual page - dselect(1)
.\"
.\" Copyright 息 1995 Juho Vuori <javuori@cc.helsinki.fi>
.\" Copyright 息 2000 Josip Rodin
.\" Copyright 息 2001 Joost Kooij
.\" Copyright 息 2001 Wichert Akkerman <wakkerma@debian.org>
.\" Copyright 息 2010-2011 Guillem Jover <guillem@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <http://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dselect 1 2012\-04\-07 "Debian Project" Debian
.SH 名前
dselect \- Debian パッケージ管理フロントエンド
.
.SH 書式
\fBdselect\fP [\fIoption\fP...] [\fIaction\fP]
.
.SH 説明
\fBdselect\fP は、Debian システムにおけるパッケージ管理用ユーザインタフェースとして主要なものの一つである。システム管理者は、\fBdselect\fP のメインメニューから以下の操作を行える。
 \- 取得可能パッケージのバージョンリストの更新
 \- インストール済、利用可能パッケージ状況の参照
 \- パッケージ選択の変更や依存関係の管理
 \- 新規パッケージのインストールや新バージョンへのアップグレード
.PP
\fBdselect\fP は、下位に位置する Debian パッケージ管理ツールである \fBdpkg\fP(1)
のフロントエンドとして動作する。これは、フルスクリーンのパッケージ選択管理ツールであり、パッケージの依存関係や競合の解決を行なうことができる点が特徴である。管理者権限で起動することで、パッケージのインストール、更新、削除を行うことができるとともに、様々な方式により、パッケージリポジトリから利用可能パッケージのバージョン情報や、インストール可能パッケージの情報を取得するための設定を行うことができる。使用するアクセス方式に応じて、リポジトリをインターネット上の公開サーバ、ローカルサーバ、CD\-ROM
に設定することができる。推奨するアクセス方式は、\fBapt\fP パッケージで提供される \fIapt\fP である。
.PP
通常 \fBdselect\fP
は引数なしで起動される。これにより、対話的メニューが表示され、ユーザ対してアクションのリストが提供される。一方、引数でアクションを与えられた場合は、そのアクションが直ちに実行される。コマンドライン引数により、\fBdselect\fP
の動作を変更したり、プログラムに関する補足情報を表示させたりすることができる。
.
.SH オプション
オプションはすべて、コマンドラインと \fBdselect\fP の設定ファイル \fI/etc/dpkg/dselect.cfg\fP もしくは設定ディレクトリ
\fI/etc/dpkg/dselect.cfg.d/\fP の両方で指定できる。設定ファイル中の各行には、オプション
(正確にはコマンドラインオプションから先頭のダッシュを除いたもの) か、コメント (行が \fB#\fP で始まる場合) を記述する。
.br
.TP 
\fB\-\-admindir\fP\fI directory\fP
dpkg が使用する `\fIstatus\fP' ファイルや `\fIavailable\fP' ファイルなどを置くディレクトリを変更する。デフォルトは
\fI/var/lib/dpkg\fP で、通常変更する必要はない。
.TP 
\fB\-\-debug\fP\fI file \fP|\fI \fP\fB\-D\fP\fIfile\fP
デバッグを有効にする。デバッグ情報は \fIfile\fP に送られる。
.TP 
\fB\-\-expert\fP
エキスパートモードを有効にする。つまり、煩雑なヘルプを表示しない。
.TP 
\fB\-\-colour\fP|\fB\-\-color\fP \fIscreenpart:\fP[\fIforeground\fP],[\fIbackground\fP][\fI:attr\fP[\fI+attr+...\fP]]
表示色を設定する。ディスプレイがカラー表示をサポートしている場合に有効である。このオプションは、複数回指定できる ( \fIdselect.cfg\fP
での使用が推奨されている)。各設定ごとに、画面のある部位の色 (や他の属性) が変更される。画面の部位の名称は (上から順に) 次のとおり:
.RS
.TP 
\fBtitle\fP
画面タイトル
.TP 
\fBlisthead\fP
パッケージリストの上部にあるヘッダライン
.TP 
\fBlist\fP
パッケージリストのスクロール領域 (ヘルプも表示される)
.TP 
\fBlistsel\fP
リスト内の選択行
.TP 
\fBpkgstate\fP
パッケージリスト内で、各パッケージの状況を示すテキスト
.TP 
\fBpkgstatesel\fP
パッケージリスト内で、選択したパッケージの状況を示すテキスト
.TP 
\fBinfohead\fP
現在選択しているパッケージの状況を表示するヘッダ行
.TP 
\fBinfodesc\fP
パッケージの短い説明文
.TP 
\fBinfo\fP
パッケージの説明などパッケージの情報を表示するために用いられる
.TP 
\fBinfofoot\fP
パッケージ選択時の画面最下行
.TP 
\fBquery\fP
クエリ行を表示するために用いられる
.TP 
\fBhelpscreen\fP
ヘルプ画面の色
.RE
.P
画面の部位を示すキーワードの後に、コロンに続き色設定を記述する。前景色、背景色、あるいは両方を指定でき、コンパイル時に指定した色設定に優先する。標準の
curses 色名称を使用すること。
.P
色設定の後に、コロンに続き、オプションで属性を設定してもよい。これはプラス("+")文字によって区切られた、1
つ以上の属性のリストである。利用可能な属性を以下に示す(すべての属性がすべての端末で有効とは限らない): normal, standout,
underline, reverse, blink, bright, dim, bold
.TP 
\fB\-\-help\fP
簡単なヘルプを表示し、正常終了する。
.TP 
\fB\-\-version\fP
バージョン情報を表示し、正常終了する。
.
.SH アクション
\fBdselect\fP
を起動すると、次のようなアクションを実行することができる。これは、コマンドラインで直接指定してもよいし、対話的に実行されている場合は、利用可能なアクションの一覧メニューから、ユーザに選択させる形式でもよい。
.SS "アクセス (access)"
パッケージリポジトリにアクセスするアクセス方式を選択、設定する。
.sp
デフォルトで、 \fBdselect\fP は \fIcdrom\fP, \fImulti_cd\fP, \fInfs\fP, \fImulti_nfs\fP,
\fIharddisk\fP, \fImounted\fP, \fImulti_mount\fP, \fIfloppy\fP, \fIftp\fP
といった、いくつかの方式を提供する。しかし、他のパッケージが追加アクセス方式を提供することもある。例えば、\fIapt\fP アクセス方式は \fBapt\fP
パッケージで提供される。
.sp
\fIapt\fP アクセス方式の使用を、強く推奨する。
.sp
.SS "更新 (update)"
取得可能パッケージのデータベースを更新する。
.sp
取得可能パッケージのバージョンリストを、現在設定しているアクセス方式でパッケージリポジトリから取得し、dpkg
データベースを更新する。パッケージ一覧は、一般的には \fIPackages\fP や \fIPackages.gz\fP
という名前で、リポジトリから提供されている。リポジトリ管理者は、\fBdpkg\-scanpackages\fP(1)
というプログラムを使用して、このファイルを生成することができる。
.sp
更新アクションの詳細は、アクセス方式の実装に依存する。通常、この処理は単純で、ユーザの入力を必要としない。
.sp
.SS "選択 (select)"
パッケージの選択や依存関係の表示、管理を行う。
.sp
これは \fBdselect\fP
の主たる機能である。この画面で取得可能なパッケージやインストール済パッケージリストを確認できる。管理者権限で実行すると、対話的にパッケージの選択状況を変更することもできる。
\fBdselect\fP は、変更に伴って発生する依存、競合パッケージについても検出する。
.sp
競合や解決できない依存関係を検出すると、依存関係解決サブ画面をユーザに提示する。この画面では、競合パッケージや依存パッケージのリストが、その理由とともに表示される。ユーザは、\fBdselect\fP
が提案した変更案を適用してもよいし、その案を修正してもよい。また、解決できない依存関係や競合を発生させた変更を含む、すべての変更を元に戻すこともできる。
.sp
対話的なパッケージ選択管理画面の詳細な使い方については後述する。
.sp
.SS "導入 (install)"
選択したパッケージをインストールする。
.sp
新規インストール、更新が可能なパッケージを、設定したアクセス方式で適切なリポジトリより取得し、 \fBdpkg\fP
を用いてインストールを行う。インストール前にパッケージをすべて取得するか、必要な時に取得するかは、アクセス方式の実装によって異なる。アクセス方式によって、削除マークをつけたパッケージの削除を行う場合もある。
.sp
インストール中にエラーが発生した場合は、通常インストールを再度行うことを推奨する。大半の場合、問題は再発しないか解決されるが、問題が解決しなかったりインストールが適切に行われていなかったりする場合は、原因や環境を調べて、Debian
バグ追跡システムへバグ報告をしていただきたい。バグ報告の方法は、http://bugs.debian.org/ や、\fBbug\fP(1) や
\fBreportbug\fP(1) がインストールされていれば、それらの文書を参照のこと。
.sp
導入アクションの詳細はアクセス方式の実装に依存する。パッケージのインストール、設定、削除中に、ユーザに対する確認が発生したり、入力が要求されたりする場合もある。これはパッケージのメンテナスクリプトに依存する。パッケージによっては、\fBdebconf\fP(1)
ライブラリを用いており、より柔軟で自動化されたインストールセットアップが可能である。
.sp
.SS "設定 (config)"
すでにインストール済みだが、設定が完了していないパッケージの設定を行う。
.sp
.SS "削除 (remove)"
削除マークをつけたインストール済パッケージの削除や完全削除を行う。
.sp
.SS "終了 (quit)"
\fBdselect\fP を終了する。
.sp
エラーコード 0 (成功) でプログラムを終了する。
.sp
.
.SH パッケージ選択管理
.sp
.SS 概要
.sp
\fBdselect\fP により、管理者は大量の相互依存関係を持つパッケージ群を管理する複雑さの一端に直面することになる。Debian
パッケージ管理システムの概念や、その方法に慣れていないユーザにとって、これは圧倒的ですらある。 \fBdselect\fP
は、パッケージ管理と管理作業の負担緩和を目指しているが、あくまで負担緩和に役立つだけで、管理者としての技術や知識の代用にはならない。管理者には、Debian
パッケージングシステムについての基礎概念に精通することが要求される。不明点があれば、\fBdpkg\fP(1)
のマニュアルや、\fBdebian\-policy\fP パッケージに含まれている Debian ポリシーマニュアルを参照してほしい。
.sp
\fBdselect\fP
がエキスパートモードや直接モードで起動されない場合、メニューからアクションを選ぶ際には、まずヘルプ画面が表示される。オンラインヘルプ画面がポップアップした際には、示された内容にすべて目を通すように
\fI強く\fP推奨する。オンラインヘルプ画面は、いつでも \fB'？'\fP キーで表示できる。
.sp
.SS 画面レイアウト
.sp
選択画面は、デフォルトで上下 2 分割されている。上半分はパッケージのリストを表示している。カーソルバーで個々のパッケージを選択したり、グループヘッダ
(存在していれば)
を選択して、パッケージグループを選択したりできる。画面の下半分は、画面の上半分で現在選択しているパッケージの詳細が表示される。表示される詳細の形式は変更できる。
.sp
 \fB'I'\fP キーを押すごとに、パッケージリストの全画面表示、パッケージ詳細の拡大、画面の均等分割が切り替えられる。
.sp
.SS パッケージ詳細表示
.sp
デフォルトのパッケージ詳細表示部は、パッケージ状況リスト内で現在選択されているパッケージの詳細なパッケージ説明文を表示する。詳細の形式は \fB'i'\fP キーを押すごとに以下が切り替わる。
 \- 詳細な説明文
 \- インストール済バージョンの制御情報
 \- 取得可能バージョンの制御情報
.sp
依存関係解決画面で、特定のパッケージに関連する未解決な依存関係、競合関係が、その原因とともに表示される場合もある。
.sp
.SS パッケージ状況リスト
.sp
主たる選択画面には、Debian
パッケージ管理システムが認識しているすべてのパッケージがリストされる。これには、システムにインストール済のパッケージと、取得可能パッケージのデータベースが認識しているパッケージが含まれる。
.sp
リストにはパッケージごとに、パッケージの状況、優先度、セクション、インストール済、取得可能バージョン、パッケージ名、短い説明文が 1 行で表示される。
\&\fB'V'\fP キーを押すと、インストール済バージョンと取得可能バージョンの表示、非表示を切り替える。 \fB'v'\fP
キーを押すと、パッケージ状況の詳細表示と簡略表示を切り替える。簡略表示がデフォルトである。
.sp
簡略表示における状況は、エラーフラグ (通常クリアされている)、現在の状況、現在の選択状況、新規の選択状況の 4 パートからなる。始めの 2
つはパッケージの現在の状況を表し、後の 2 つはユーザが設定した選択状況を示している。
.sp
簡略表示におけるパッケージ状況の略号には以下の意味がある。
 エラーフラグ:
  \fI空\fP      エラーなし
  \fBR\fP       深刻なエラー (要再インストール)
 インストール状況:
  \fI空\fP      未インストール
  \fB*\fP       インストール済で設定済
  \fB\-\fP       未インストールだが設定ファイルが残っている
  \fBU\fP       展開済だが未設定
  \fBC\fP       半設定状況 (エラー発生)
  \fBI\fP       半インストール状況 (エラー発生)
 現在の選択状況、新規の選択状況:
  \fB*\fP       インストールもしくは更新マーク
  \fB\-\fP       削除マーク (設定ファイルは残す)
  \fB=\fP       保留 (パッケージに対する処理は行われない)
  \fB_\fP       完全削除マーク (設定ファイルも削除する)
  \fBn\fP       新規パッケージでまだマークが付けられていない
.sp
.SS カーソルおよび画面移動
.sp
パッケージ選択リストや依存、競合関係解決画面では、以下のキーに割当てられた移動コマンドで操作することができる。
.br
  \fBp, Up, k\fP           カーソルバーを上に移動
  \fBn, Down, j\fP         カーソルバーを下に移動
  \fBP, Pgup, Backspace\fP リストを 1 ページ上にスクロール
  \fBN, Pgdn, Space\fP     リストを 1 ページ下にスクロール
  \fB^p\fP                 リストを 1 行上にスクロール
  \fB^n\fP                 リストを 1 行下にスクロール
  \fBt, Home\fP            リストの先頭にジャンプ
  \fBe, End\fP             リストの最後にジャンプ
  \fBu\fP                  情報を 1 ページ上にスクロール
  \fBd\fP                  情報を 1 ページ下にスクロール
  \fB^u\fP                 情報を 1 行上にスクロール
  \fB^d\fP                 情報を 1 行下にスクロール
  \fBB, Left\-arrow\fP      表示を 1/3 画面左にスクロール
  \fBF, Right\-arrow\fP     表示を 1/3 画面右にスクロール
  \fB^b\fP                 表示を 1 文字左にスクロール
  \fB^f\fP                 表示を 1 文字右にスクロール
.sp
.SS 検索とソート
.sp
パッケージリストはパッケージ名で検索することができる。これは、パッケージリストで  \fB'/'\fP
を押してから、単純な検索文字列を入力することで行える。この文字列は、正規表現 \fBregex\fP(7) で解析される。検索文字列に続けて \fB'/d'\fP
を加えると、説明文からも検索する。 \fB'/i'\fP を加えた場合は、大文字小文字の区別をしない。この 2 つの添字を \fB'/id'\fP
のように合わせることもできる。検索結果に対して \fB'n'\fP ないし \fB'\e'\fP
キーを何度か押すと、目的のパッケージが得られるまで検索を繰り返せる。検索がリストの最後まで達すると、先頭に戻る。
.sp
リストのソート順は、\fB'o'\fP と \fB'O'\fP キーを何度か押して変更する。
以下の 9 通りのソート順を選べる。
 アルファベット     取得可能             状況
 優先度+セクション  取得可能+優先度      状況+優先度
 セクション+優先度  取得可能+セクション  状況+セクション
.br
上記リストには明記されていないが、最終的にアルファベット順でのソートが行われる。
.sp
.SS 選択の変更
.sp
各パッケージの新規選択状況は、以下のコマンドで変更できる。
  \fB+, Insert\fP    インストール、更新する
  \fB=, H\fP         現在の状況、バージョンで保留する
  \fB:, G\fP         保留解除 (更新ないし未インストールのままとする)
  \fB\-, Delete\fP    削除、設定は残す
  \fB_\fP            完全削除、設定も消す
.sp
変更の結果、依存関係を充足できなかったり競合したりした場合、 \fBdselect\fP は依存関係解決画面を表示する。これは後ほど説明する。
.sp
グループヘッダ上にカーソルバーを移動して、パッケージ選択のグループにコマンドを適用することもできる。現在のリストのソート順設定によっては、パッケージのグループ化が適切に行われない場合がある。
.sp
大規模なグループの選択状況を変更する場合は、大量の未解決な依存、競合関係が一度に発生するため、十分注意すべきである。 これらは 1
つの依存関係解決画面にリストされることとなるため、これを操作するのは非常に難しい。グループに対する変更が実用的なのは、保留や保留解除の時ぐらいである。
.sp
.SS 依存・競合関係の解決
.sp
選択状況の変更により未解決の依存・競合関係が発生した場合、 \fBdselect\fP は依存関係解決画面を表示する。なお、表示の前にヘルプ画面が表示される。
.sp
この画面の上半分には、選択された変更の結果として発生した未解決の依存、競合関係があるパッケージに加え、インストールすることで依存関係を解決するパッケージ、削除することで競合を解決するパッケージがすべて表示される。下半分には、現在選択されているパッケージが原因となっている依存や競合関係がデフォルトで表示される。
.sp
パッケージのサブリストの初期表示の時点で、\fBdselect\fP
は、依存関係解決画面の表示を引き起こしている依存や競合関係を解決するよう、リストしたパッケージの選択状況の一部をあらかじめ変更している場合がある。通常、\fBdselect\fP
による提案を採用するのが最良である。
.sp
\&\fB'R'\fP キーを押すことで、パッケージリストの選択状況を未解決の依存、競合関係が生成される前の状態に戻すことができる。\fB'D'\fP
キーを押すことで、自動的に生成された推奨の設定は解除されるが、依存関係解決画面が表示される原因となった変更は、その状態のまま保持される。\fB'U'\fP
を押すことで、自動的に生成された推奨の設定が再設定される。
.sp
.SS 選択された変更の確定
.sp
\fBenter\fP を押すことで、現在表示されている選択を確定する。選択された変更に起因する未解決の依存関係が検出されない限り、\fBdselect\fP
は新しい選択を設定する。未解決の依存関係が存在する場合、 \fBdselect\fP は依存関係解決画面を改めて表示する。
.sp
未解決の依存関係、競合が生成された状態の選択で、\fBdselect\fP に確定を強制させるには、\fB'Q'\fP
キーを押す。これはユーザが指定した選択を無条件に設定する。一般的に、何が行われるかの詳細を把握していない限り、これを行わないこと。
.sp
反対に、選択を取り消して選択リストを元に戻す場合は、 \fB'X'\fP キーや \fBescape\fP
キーを押すこと。キーを何回か押すことで、問題の発生する可能性のある、パッケージ選択の変更を取り消し、最後に確定した選択に戻すことができる。
.sp
誤って選択を確定させてしまったが、現在システムにインストールされている選択に完全に戻したいという場合は、\fB'C'\fP
キーを押すこと。これはすべてのパッケージに対して保留解除を行ってしまった場合と同様であるが、ユーザが事故で \fBenter\fP
を押してしまった場合についての明確なパニックボタンを提供するものである。
.sp
.
.SH 環境変数
.TP 
\fBHOME\fP
設定されていると、\fBdselect\fP はその値をユーザ固有の設定ファイルを読み込むディレクトリとして使用する。
.
.SH バグ
始めて \fBdselect\fP
を使うユーザの中には、このパッケージ選択インタフェースに混乱する者もいる。聞くところによると、経験を積んだカーネル開発者ですら、これに悩まされている。
.sp
ドキュメントが不足している。
.sp
メインメニューにヘルプオプションがない。
.sp
取得可能パッケージのリスト表示を減らせない。
.sp
内部実装されているアクセス方式では、もはや現在の品質基準を満たせない。apt
が提供するアクセス方式を利用すれば、問題を発生させないだけでなく、内部実装されているアクセス方式より遙かに柔軟である。
.
.SH 関連項目
\fBdpkg\fP(1), \fBapt\-get\fP(8), \fBsources.list\fP(5), \fBdeb\fP(5).
.SH 翻訳者
高橋 基信 <monyo@monyo.com>.
喜瀬 浩 <kise@fuyuneko.jp>.
関戸 幸一 <sekido@mbox.kyoto-inet.or.jp>.
鍋谷 栄展 <nabe@debian.or.jp>.
倉澤 望 <nabetaro@debian.or.jp>.
石川 睦 <ishikawa@linux.or.jp>.
鵜飼 文敏 <ukai@debian.or.jp>.
中野 武雄 <nakano@apm.seikei.ac.jp>.
.SH 翻訳校正
Debian JP Documentation ML <debian-doc@debian.or.jp>.
