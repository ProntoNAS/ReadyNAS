.\" dpkg manual page - deb-control(5)
.\"
.\" Copyright 息 1995 Raul Miller, Ian Jackson, Ian Murdock
.\" Copyright 息 1999 Ben Collins <bcollins@debian.org>
.\" Copyright 息 2000 Wichert Akkerman <wakkerma@debian.org>
.\" Copyright 息 2007-2011 Guillem Jover <guillem@debian.org>
.\" Copyright 息 2008-2012 Rapha谷l Hertzog <hertzog@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <http://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH deb\-control 5 2011\-08\-14 "Debian Project" Debian
.SH 名前
deb\-control \- Debian パッケージのマスタ制御ファイルの形式
.
.SH 書式
control
.
.SH 説明
各 Debian パッケージには、マスタとなる `control' ファイルがある。ファイルはフィールド行や \fB'#'\fP
で始まるコメント行からなる。各フィールド行は \fBPackage\fP や \fBVersion\fP (大文字小文字の区別なし)
といったフィールドタグで始まり、コロンの後にフィールド本体 (値)
が続く。フィールドがフィールドタグ以外で区切られることはない。言い換えると、フィールド本体のテキストは複数行にまたがっても構わない。ただし、インストールを行うツールは通常フィールド本体を処理する際にそれらを
1 行にまとめてしまう (以下で説明する \fBDescription\fP フィールドを除く)。
.
.SH 必須フィールド
.TP 
\fBPackage:\fP\fI パッケージ名\fP
このフィールドの値によってパッケージ名が決まる。またインストールを行うツールの大半によって、ファイル名を生成するために使用される。
.TP 
\fBVersion:\fP\fIバージョン文字列\fP
通常、このフィールドの値はプログラムの作者が使用する形式で付けられた、パッケージ本来のバージョン番号であるが、(Debian
固有のパッケージでない場合は) Debian
リビジョン番号が付加されることもある。この形式とソートアルゴリズムの詳細は、\fBdeb\-version\fP(5) で説明されている。
.TP 
\fBMaintainer:\fP\fI fullname\-email\fP
`Joe Bloggs <jbloggs@foo.com>'
形式で設定すること。パッケージ化されたソフトウェアの開発者ではなく、パッケージ作成者の情報を設定する。
.TP 
\fBDescription:\fP\fI 短い説明\fP
\fB \fP\fI長い説明\fP
.br
パッケージ説明の形式は、先頭行 ("Description" フィールドの後)
に短い説明、それ以降の行に詳細な長い説明というものである。長い説明の各行は、スペースから始まる必要がある。空行は、行頭のスペースに続けて '.' を 1
つだけ記述する必要がある。
.
.SH オプションフィールド
.TP 
\fBSection:\fP\fI セクション\fP
パッケージによりインストールされるソフトウェアがどのセクションの分類に属するかを示すフィールドである。一般的なセクションには `utils',
`net', `mail', `text', `x11' などがある。
.TP 
\fBPriority:\fP\fI priority\fP
システム全体からみたこのパッケージの重要度を示す。一般的に使われる priority には
`required'、`standard'、`optional'、`extra' などがある。
.LP
Debian では、\fBSection\fP と \fBPriority\fP フィールドで使える値がポリシーマニュアルで定められている。最新の
\fBdebian\-policy\fP パッケージから一覧を取得できる。
.TP 
\fBEssential:\fP \fByes\fP|\fBno\fP
このフィールドは通常 \fByes\fP に設定する場合だけ必要とされ、パッケージがシステムを適切に稼働させる上で必須であることを示す。dpkg
を含むインストールを行うツールは、(少なくとも強制オプションのいずれかを用いない限り) \fBEssential\fP パッケージの削除を許可しない。
.TP 
\fBArchitecture:\fP \fIアーキテクチャ\fP|\fBall\fP
アーキテクチャは、パッケージがコンパイルされた際の対象ハードウェアを示す。一般的なアーキテクチャには `i386', `m68k', `sparc',
`alpha', `powerpc' などがある。\fBall\fP オプションは、パッケージが architecture
非依存であることを意味する。これには、シェルスクリプト、Perl スクリプト、ドキュメントなどが該当する。
.TP 
\fBOrigin:\fP\fI ディストリビューション名\fP
パッケージの起源となったディストリビューション名。
.TP 
\fBBugs:\fP\fI url\fP
パッケージのバグトラッキングシステムの \fIurl\fP。現在使われている形式は、\fBdebbugs://bugs.debian.org\fP のような
\fIbts\-type\fP\fB://\fP\fIbts_address\fP 形式である。
.TP 
\fBHomepage:\fP\fI url\fP
アップストリームのプロジェクトのホームページ \fIurl\fP。
.TP 
\fBTag:\fP\fI タグのリスト\fP
パッケージの品質を示すタグのリスト。サポートされているタグの一覧と説明は、\fBdebtags\fP パッケージを参照のこと。
.TP 
\fBMulti\-Arch:\fP \fBsame\fP|\fBforeign\fP|\fBallowed\fP
このフィールドは、multiarch インストールの際のパッケージの動作を定義するために使用される。\fBsame\fP は、パッケージが多重インストール
(co\-install) 可能である (訳注: あるパッケージに対して、別アーキテクチャの同一パッケージをインストールできる)
一方、別アーキテクチャのいかなるパッケージとの依存関係を満たすためにも使用してはいけないことを意味する。\fBforeign\fP
は、パッケージを多重インストールできないが、別アーキテクチャのパッケージの依存関係を満たすことが可能であることを意味する。 \fBallowed\fP
は、別アーキテクチャのパッケージを許容するような逆の依存関係を Depends フィールドに指定可能であることを示すだけで、それ以上の意味はない。
.TP 
\fBSource:\fP\fI ソースパッケージ名\fP
このバイナリパッケージを作るために使われたソースパッケージ名である。バイナリパッケージの名前とソースパッケージの名前が違う時に使われる。

.TP 
.PD 0
\fBSubarchitecture:\fP\fI value\fP
.TP 
.PD 0
\fBKernel\-Version:\fP\fI value\fP
.TP 
.PD
\fBInstaller\-Menu\-Item:\fP\fI value\fP
これらのフィールドは、debian\-installer
によって用いられるもので、通常は不要である。詳細については、\fBdebian\-installer\fP
パッケージに含まれている/usr/share/doc/debian\-installer/devel/modules.txt を参照のこと

.TP 
\fBDepends:\fP\fI パッケージのリスト\fP
このパッケージが提供する大半の機能にとって必要となるパッケージのリスト。パッケージ管理ソフトウェアは、インストールするパッケージの \fBDepends\fP
フィールドに列挙されているパッケージがインストールされていない場合、(少なくとも強制オプションを指定しない限りは)、そのパッケージのインストールを許可しない。インストールの際は、Depends:
フィールドに列挙されているパッケージの postinst
スクリプトが、依存しているパッケージのスクリプトより先に実行される。反対に削除の際には、削除しようとしているパッケージの prerm スクリプトが
Depends: フィールドに列挙されているパッケージのスクリプトより先に実行される。
.TP 
\fBPre\-Depends:\fP\fI パッケージのリスト\fP
パッケージのインストール前にインストールされ、\fBかつ\fP設定済でなければならないパッケージのリスト。このフィールドは、通常あるパッケージが他のパッケージをpreinst
スクリプトで必要とする際に用いられる。
.TP 
\fBRecommends:\fP\fI パッケージのリスト\fP
例外的な場合を除き、このパッケージと共にインストールした方がよいパッケージのリスト。\fBRecommends\fP
フィールドに列挙されているパッケージ抜きでパッケージをインストールしようとすると、パッケージ管理ソフトウェアは警告を発する。
.TP 
\fBSuggests:\fP\fI パッケージのリスト\fP
このパッケージと関係があり、利便性を向上させることができるが、インストールしなくても構わないパッケージのリスト。
.LP
\fBDepends\fP, \fBPre\-Depends\fP, \fBRecommends\fP, \fBSuggests\fP
フィールドは、代替パッケージグループのリストである。各代替パッケージグループは、パッケージを縦棒(`パイプ')記号 `|'
で区切ったリストで表現する。代替パッケージグループ間はコンマで区切る。コンマは `AND'、パイプは `OR'
で、パイプの優先度が高いという理解でよい。各パッケージ名の後に、括弧で囲んでバージョン番号の指定を行うこともできる。
.LP
バージョン番号が `>>' で始まる場合は、それより新しいバージョンすべてにマッチする。バージョン番号には、(ハイフンに続けて)
Debian パッケージリビジョンを指定することもできるが、省略しても構わない。「より新しい」を意味する
">>"、「より古い」を意味する "<<"、「同じか新しい」を意味する ">="、「同じか古い」を意味する
"<="、「同じ」を意味する "=" を使用できる。
.TP 
\fBBreaks:\fP\fI パッケージのリスト\fP
パッケージが依存している機能のバグを顕在化させてしまうなどで、パッケージを機能不全に陥れてしまうパッケージのリスト。パッケージ管理ソフトウェアは、こうしたパッケージを設定できないようにしている。一般的には、\fBBreaks\fP
フィールドに設定されているパッケージのアップグレードが解決策となる。
.TP 
\fBConflicts:\fP\fI パッケージのリスト\fP
同じ名前のファイルが存在しているなどで、このパッケージと競合するパッケージのリスト。パッケージ管理ソフトウェアは、競合しているパッケージを同時にインストールできないようにしている。競合しているパッケージ同士は、互いに相手を
\fBConflicts\fP 行に設定しておくべきである。
.TP 
\fBReplaces:\fP\fI パッケージのリスト\fP
このパッケージによって置き換えられるファイルを含むパッケージのリスト。このパッケージと競合するパッケージに同じ名前のファイルが含まれている際に、他のパッケージのファイルを上書きできるようにするために用いられる。通常、他のパッケージを強制的に削除するため
\fBConflicts\fP フィールドも併せて設定される。
.TP 
\fBProvides:\fP\fI パッケージのリスト\fP
このパッケージが提供する仮想パッケージのリスト。通常、仮想パッケージは複数パッケージが同一のサービスを提供している場合に用いられる。例えば、sendmail
と exim は共にメールサーバの機能を提供しているので、共通のパッケージ (`mail\-transport\-agent')
を提供した上で、他のパッケージがこれに依存するように設定する。これにより、sendmail でも exim
でも依存関係を満たすような設定が可能となり、メールサーバに依存するパッケージが、メールサーバとして機能するパッケージをすべて把握した上で、`|'
を用いて列挙するといった必要がなくなる。
.LP
\fBBreaks\fP, \fBConflicts\fP, \fBReplaces\fP, \fBProvides\fP は、コンマで区切られた (空白文字があってもよい)
パッケージ名のリストである。 \fBBreaks\fP および \fBConflicts\fP フィールドにおけるコンマは `OR'
と解釈できる。\fBBreaks\fP, \fBConflicts\fP, \fBReplaces\fP
フィールドでは、前述した記法で、バージョンを指定することもできる。
.
.TP 
\fBBuilt\-Using:\fP\fI パッケージのリスト\fP
このフィールドには、このバイナリパッケージのビルドに用いられる別のソースパッケージを列挙する。これは、このバイナリパッケージをメンテナンスし続ける限り、別のソースパッケージも維持しなければならないことをアーカイブメンテナンスソフトウェアに通知するために用いられる。このフィールドには、(=
を用いて)
バージョン番号を明示したソースパッケージ名を列挙しなければならない。アーカイブメンテナンスソフトウェアは、アーカイブ内で解決できないような依存関係が
\fBBuilt\-Using\fP で指定された場合に、アップロードを拒否する可能性があるという点に留意すること。
.
.SH 例
.\" .RS
.nf
# Comment
Package: grep
Essential: yes
Priority: required
Section: base
Maintainer: Wichert Akkerman <wakkerma@debian.org>
Architecture: sparc
Version: 2.4\-1
Pre\-Depends: libc6 (>= 2.0.105)
Provides: rgrep
Conflicts: rgrep
Description: GNU grep, egrep and fgrep.
 The GNU family of grep utilities may be the "fastest grep in the west".
 GNU grep is based on a fast lazy\-state deterministic matcher (about
 twice as fast as stock Unix egrep) hybridized with a Boyer\-Moore\-Gosper
 search for a fixed string that eliminates impossible text from being
 considered by the full regexp matcher without necessarily having to
 look at every character. The result is typically many times faster
 than Unix grep or egrep. (Regular expressions containing backreferencing
 will run more slowly, however).
.fi
.\" .RE
.
.SH 関連項目
\fBdeb\fP(5), \fBdeb\-version\fP(5), \fBdebtags\fP(1), \fBdpkg\fP(1), \fBdpkg\-deb\fP(1).
.SH 翻訳者
高橋 基信 <monyo@monyo.com>.
喜瀬 浩 <kise@fuyuneko.jp>.
関戸 幸一 <sekido@mbox.kyoto-inet.or.jp>.
鍋谷 栄展 <nabe@debian.or.jp>.
倉澤 望 <nabetaro@debian.or.jp>.
石川 睦 <ishikawa@linux.or.jp>.
鵜飼 文敏 <ukai@debian.or.jp>.
中野 武雄 <nakano@apm.seikei.ac.jp>.
.SH 翻訳校正
Debian JP Documentation ML <debian-doc@debian.or.jp>.
