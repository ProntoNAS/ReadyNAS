.\" dpkg manual page - dpkg-divert(8)
.\"
.\" Copyright Â© 1995 Ian Jackson <ian@chiark.chu.cam.ac.uk>
.\" Copyright Â© 1999 Wichert Akkerman <wakkerma@debian.org>
.\" Copyright Â© 2004 Scott James Remnant <keybuk@debian.org>
.\" Copyright Â© 2007-2011 Guillem Jover <guillem@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <http://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dpkg\-divert 8 2011\-08\-14 Debianprojektet dpkg\-verktygen
.SH NAMN
dpkg\-divert \- överstyr ett pakets version av en fil
.
.SH SYNOPS
\fBdpkg\-divert\fP [\fIflagga\fP...] \fIåtgärd\fP
.
.SH BESKRIVNING
\fBdpkg\-divert\fP är verktyget som används för att ställa in och uppdatera
listan över omdirigeringar.
.PP
Filen \fIdiversions\fP är ett sätt att tvinga \fBdpkg\fP(1) att inte installera en
fil på sin plats, utan på en \fIomdirigerad\fP plats. Omdirigeringar kan
användas i skript i Debianpaket för att flytta bort en fil när den orsakar
en konflikt. Systemadministratörer kan också använda det för att överstyra
några pakets konfigurationsfiler, eller när några filer (som inte markerats
som konfigurationsfiler) måste bibehållas av dpkg när en nyare version av
ett paket som innehåller de filerna installeras.
.sp
.SH KOMMANDON
.TP 
[\fB\-\-add\fP] \fIfil\fP
Lägg till en omdirigering för \fIfil\fP.
.TP 
\fB\-\-remove\fP\fI fil\fP
Ta bort en omdirigering för \fIfil\fP.
.TP 
\fB\-\-list\fP\fI filnamnsmönster\fP
Visa omdirigeringar som matchar \fIsökmönster\fP.
.TP 
\fB\-\-listpackage\fP\fI fil\fP
Visa namnet på paketet som omdirigerar \fIfil\fP. Svarar LOCAL om \fIfil\fP har
omdirigerats lokalt och ingenting om \fIfil\fP inte är omdirigerad.
.TP 
\fB\-\-truename\fP\fI fil\fP
Visa det riktiga namnet på en omdirigerad fil.
.
.SH FLAGGOR
.TP 
\fB\-\-admindir\fP\fI katalog\fP
Ställ dpkg:s datakatalog till \fIkatalog\fP (standard: \fI/var/lib/dpkg\fP).
.TP 
\fB\-\-divert\fP\fI omdirigera\-till\fP
\fIomdirigera\-till\fP är platsen där de versioner av \fIfil\fP som tillhandahålls
av andra paket kommer omdirigeras till.
.TP 
\fB\-\-local\fP
Anger att alla pakets versioner av denna fil skall omdirigeras. Det innebär
att det inte finns några undantag, och att oavsett vilket paket som
installeras så omdirigeras filen. Detta kan användas av en administratör för
att installera en lokalt modifierad version.
.TP 
\fB\-\-package\fP\fI paket\fP
\fIpaket\fP är namnet på ett paket vars kopia av \fIfil\fP inte kommer att
omdirigeras, dvs. \fIfil\fP kommer omdirigeras för alla paket förutom \fIpaket\fP.
.TP 
\fB\-\-quiet\fP
Tyst läge, dvs. ingen pratsam utdata.
.TP 
\fB\-\-rename\fP
Flytta faktiskt filen åt sidan (eller tillbaka). \fBdpkg\-divert\fP kommer att
avbryta körningen om destinationsfilen redan existerar.
.TP 
\fB\-\-test\fP
Testläge, dvs. utför inga faktiska ändringar, bara visa vad som skulle
hända.
.TP 
\fB\-?\fP, \fB\-\-help\fP
Visar hjälpskärm och avslutar.
.TP 
\fB\-\-version\fP
Visar version och avslutar.
.
.SH ANTECKNINGAR
Vid tillägg är standard \fB\-\-local\fP och \fB\-\-divert\fP
\fIoriginal\fP\fB.distrib\fP. Vid borttagning måste \fB\-\-package\fP eller \fB\-\-local\fP
och \fB\-\-divert\fP matcha om de anges.

Kataloger kan inte omdirigeras med \fBdpkg\-divert\fP.

Se upp när du omdirigerar delade bibliotek. \fBldconfig\fP(8) skapar en
symbolisk länk baserad på DT_SONAME\-fältet som är inbyggt i
biblioteket. Eftersom ldconfig inte följer omdirigeringar (bara dpkg gör
det) kan den symboliska länken komma att peka på det omdirigerade
biblioteket om ett omdirigerat bibliotek har samma SONAMN som det ej
omdirigerade.
.
.SH EXEMPEL
För att omdirigera alla exemplar av en \fI/usr/bin/exempel\fP till
\fI/usr/bin/exempel.foo\fP, dvs. omdirigera samtliga paket som tillhandahåller
\fI/usr/bin/exempel\fP så att de installerar den som \fI/usr/bin/exempel.foo\fP,
och utför namnbytet om det behövs:
.HP
dpkg\-divert \-\-divert /usr/bin/exempel.foo \-\-rename /usr/bin/exempel
.PP
För att ta bort omdirigeringen:
.HP
dpkg\-divert \-\-rename \-\-remove /usr/bin/exempel

.PP
För att omdirigera samtliga paket som försöker installera
\fI/usr/bin/exempel\fP till \fI/usr/bin/exempel.foo\fP, förutom i det egna paketet
\fIwibble\fP:
.HP
dpkg\-divert \-\-package wibble \-\-divert /usr/bin/exempel.foo \-\-rename
/usr/bin/exempel
.PP
För att ta bort omdirigeringen:
.HP
dpkg\-divert \-\-package wibble \-\-rename \-\-remove /usr/bin/exempel
.
.SH MILJÖVARIABLER
.TP 
\fBDPKG_ADMINDIR\fP
Om satt, och flaggan \fB\-\-admindir\fP inte har angivits, används värdet som
datakatalog för dpkg.
.TP 
\fBDPKG_MAINTSCRIPT_PACKAGE\fP
Om satt, och flaggorna \fB\-\-local\fP och \fB\-\-package\fP inte har angivits, kommer
\fBdpkg\-divert\fP använda det som paketnamn.
.
.SH FILER
.TP 
\fI/var/lib/dpkg/diversions\fP
Filen som innehåller den aktuella listan med systemets omdirigeringar. Den
är placerad i dpkg:s administrativa katalog, tillsammans med andra filer som
är viktiga för dpkg, till exempel \fIstatus\fP och \fIavailable\fP.
.br
Observera: \fBdpkg\-divert\fP behåller den gamla versionen av filen, med
filtillägget \fIold\fP, innan den ersätter den med den nya.
.
.SH "SE ÄVEN"
\fBdpkg\fP(1).
.SH "ÖVERSÄTTNING"
Peter Krefting och Daniel Nylander.
