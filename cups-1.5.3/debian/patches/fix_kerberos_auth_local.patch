Description: Don't use Kerberos over the local domain socket
Author: Michael Sweet <michael.sweet@apple.com>
Bug-Upstream: http://www.cups.org/str.php?L4140
Bug-Debian: http://bugs.debian.org/640939
Last-Update: 2013-01-14

--- a/scheduler/client.c
+++ b/scheduler/client.c
@@ -2588,14 +2588,7 @@
 	       con->http.hostname);
 #ifdef HAVE_GSSAPI
     else if (auth_type == CUPSD_AUTH_NEGOTIATE)
-    {
-#  ifdef AF_LOCAL
-      if (_httpAddrFamily(con->http.hostaddr) == AF_LOCAL)
-        strlcpy(auth_str, "Basic realm=\"CUPS\"", sizeof(auth_str));
-      else
-#  endif /* AF_LOCAL */
       strlcpy(auth_str, "Negotiate", sizeof(auth_str));
-    }
 #endif /* HAVE_GSSAPI */
 
     if (con->best && auth_type != CUPSD_AUTH_NEGOTIATE &&
