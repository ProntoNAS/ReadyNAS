From d0aae208b7be55b110d837106db6c7bdbb4d1738 Mon Sep 17 00:00:00 2001
From: Anand Jain <Anand.Jain@oracle.com>
Date: Tue, 8 Jul 2014 02:41:28 +0800
Subject: [PATCH 083/165] btrfs: syslog when quota is enabled

must syslog when btrfs working config changes so is to support
offline investigation of the issues.
Signed-off-by: David Sterba <dsterba@suse.cz>
---
 fs/btrfs/ioctl.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/fs/btrfs/ioctl.c b/fs/btrfs/ioctl.c
index 3dc808e..52fa907 100644
--- a/fs/btrfs/ioctl.c
+++ b/fs/btrfs/ioctl.c
@@ -4913,6 +4913,8 @@ static long btrfs_ioctl_quota_ctl(struct file *file, void __user *arg)
 	switch (sa->cmd) {
 	case BTRFS_QUOTA_CTL_ENABLE:
 		ret = btrfs_quota_enable(trans, root->fs_info);
+		if (!ret)
+			btrfs_info(root->fs_info, "quota is enabled");
 		break;
 	case BTRFS_QUOTA_CTL_DISABLE:
 		ret = btrfs_quota_disable(trans, root->fs_info);
-- 
1.9.1

