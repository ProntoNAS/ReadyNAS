#!/bin/sh
#
# source:
#   /var/cvs/projects/debian/cracklib/debian/dpkg.src/cracklib2.prerm.in,v
#
# revision:
#   @(#) cracklib2.prerm.in,v 1.4 1999/03/29 15:30:22 jplejacq Exp
#
# copyright:
#   Copyright (C) 1998, 1999 Jean Pierre LeJacq <jplejacq@quoininc.com>
#
#   Distributed under the GNU GENERAL PUBLIC LICENSE.
#
# synopsis:
#   prerm remove
#   prerm upgrade <new-version>
#   prerm failed-upgrade <old-version>
#   prerm remove in-favour <package> <new-version>
#   prerm deconfigure in-favour <package-being-installed>
#     <version> removing <conflicting-package> <version>
#
# description:
#   Debian pre removal script.
#
# bugs:
#   Doesn't handle fail-upgrade argument.


# main:
  set -e


  if [ "remove" = "${1}" -o "upgrade" = "${1}" -o "deconfigure" = "${1}" ]
  then
    if [ -x "/usr/sbin/install-docs"  -a  -r "@@f_pkglib_docbase@@" ]
    then
      /usr/sbin/install-docs -r @@pkglib@@
    fi

    if [ \( "$1" = "upgrade" -o "$1" = "remove" \) -a -L /usr/doc/@@pkglib@@ ]
    then
      rm -f /usr/doc/@@pkglib@@
    fi

    rm -f @@d_pkglib_doc@@/.dhelp
  fi


  exit 0
