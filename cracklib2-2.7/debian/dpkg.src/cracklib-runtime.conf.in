# source:
#   /var/cvs/projects/debian/cracklib/debian/dpkg.src/cracklib-runtime.conf.in,v
#
# revision:
#   @(#) cracklib-runtime.conf.in,v 1.6 1999/04/02 14:50:43 jplejacq Exp
#
# copyright:
#   Copyright (C) 1998, 1999 Jean Pierre LeJacq <jplejacq@quoininc.com>
#
#   Distributed under the GNU GENERAL PUBLIC LICENSE.
#
# description:
#   Host configuration of cracklib.
#
#   Defines location of database used by cracklib as well as files
#   used to create this database.  The database location,
#   cracklib_dictpath, is compiled into the utility programs that are
#   part of the cracklib-runtime package and should not be modified.
#   But you should definitely add additional entries to
#   cracklib_dictpath_src.  The entries are separated by spaces and
#   should be the fully qualified path to a file of words that
#   passwords should not match.  The files may optionally be compressed
#   with gzip.
#
#   The current configuration supports both the fsstnd 1.2 and fhs 2.0 
#   standard location for dictionaries.
#
# format:
#   posix shell syntax.
#
# reference:
#   1. http://www.pathname.com/fhs/2.0/fhs-toc.html
#   2. http://www.pathname.com/fhs/1.2/fsstnd-toc.html


# database (do not modify):
  readonly cracklib_dictpath="@@d_pkgruntime_cache@@/@@f_pkgruntime_dict_db_prefix@@"


# database sources:
  cracklib_dictpath_src=""


  if [ -r "@@f_host_dict_cracklib@@" ]
  then
    cracklib_dictpath_src="${cracklib_dictpath_src} @@f_host_dict_cracklib@@"
  fi

  if [ -d "@@d_host_dict@@" ]
  then
    for file in $(find @@d_host_dict@@ -type f -print)
    do
      if $(file -z -b ${file} | grep -q "text")
      then
        cracklib_dictpath_src="${cracklib_dictpath_src} ${file}"
      fi
    done
  fi

  if [ -d "/usr/dict" ]
  then
    for file in $(find /usr/dict -type f -print)
    do
      if $(file -z -b ${file} | grep -q "text")
      then
        cracklib_dictpath_src="${cracklib_dictpath_src} ${file}"
      fi
    done
  fi
