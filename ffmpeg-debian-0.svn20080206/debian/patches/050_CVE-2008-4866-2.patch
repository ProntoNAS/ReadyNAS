From: bcoudurier <bcoudurier@9553f0bf-9b14-0410-a0b8-cfaf0461ba5b>
Date: Tue, 12 Aug 2008 17:28:00 +0000 (+0000)
Subject: increase MAX_REORDER_DELAY and pts_buffer size to 16, max for h264 atm
X-Git-Url: http://git.mplayerhq.hu/?p=ffmpeg;a=commitdiff_plain;h=6d72f36df6550aaefa047ad466fca9979b770ab2

increase MAX_REORDER_DELAY and pts_buffer size to 16, max for h264 atm

git-svn-id: file:///var/local/repositories/ffmpeg/trunk@14715 9553f0bf-9b14-0410-a0b8-cfaf0461ba5b

adapted by siretart to actually apply
---

--- a/libavformat/avformat.h
+++ b/libavformat/avformat.h
@@ -345,10 +345,13 @@ typedef struct AVStream {
 
     int64_t nb_frames;                 ///< number of frames in this stream if known or 0
 
-#define MAX_REORDER_DELAY 4
-    int64_t pts_buffer[MAX_REORDER_DELAY+1];
+#if LIBAVFORMAT_VERSION_INT < (53<<16)
+    int64_t unused[4+1];
+#endif
 
     char *filename; /**< source filename of the stream */
+#define MAX_REORDER_DELAY 16
+    int64_t pts_buffer[MAX_REORDER_DELAY+1];
 } AVStream;
 
 #define AV_PROGRAM_RUNNING 1
