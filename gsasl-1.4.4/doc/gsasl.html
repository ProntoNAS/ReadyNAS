<html lang="en">
<head>
<title>GNU Simple Authentication and Security Layer 1.4.4</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Simple Authentication and Security Layer 1.4.4">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual was last updated 15 March 2010 for version
1.4.4 of GNU SASL.

Copyright (C) 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009 Simon Josefsson.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled "GNU Free Documentation License".
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
body {
	margin: 2%;
	padding: 0 5%;
	background: #ffffff;
}
h1,h2,h3,h4,h5 {
    font-weight: bold;
    padding: 5px 5px 5px 5px;
    background-color: #c2e0ff;
    color: #336699;
}
h1 {
    padding: 2em 2em 2em 5%;
    color: white;
    background: #336699;
    text-align: center;
    letter-spacing: 3px;
}
h2 { text-decoration: underline; }
pre {
  margin: 0 5%;
  padding: 0.5em;
}
pre.example {
  border: solid 1px;
  background: #eeeeff;
  padding-bottom: 1em;
}
pre.verbatim {
  border: solid 1px gray;
  background: white;
  padding-bottom: 1em;
}
div.node {
  margin: 0 -5% 0 -2%;
  padding: 0.5em 0.5em;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  font-weight: bold;
}
dd, li {
  padding-top: 0.1em;
  padding-bottom: 0.1em;
}
--></style>
</head>
<body>
<h1 class="settitle">GNU Simple Authentication and Security Layer 1.4.4</h1>
   <div class="contents">
<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top" href="#Top">GNU Simple Authentication and Security Layer</a>
<li><a name="toc_Introduction" href="#Introduction">1 Introduction</a>
<ul>
<li><a href="#SASL-Overview">1.1 SASL Overview</a>
<li><a href="#Implementation">1.2 Implementation</a>
<li><a href="#Features">1.3 Features</a>
<li><a href="#Requirements">1.4 Requirements</a>
<li><a href="#Supported-Platforms">1.5 Supported Platforms</a>
<li><a href="#Getting-help">1.6 Getting help</a>
<li><a href="#Commercial-Support">1.7 Commercial Support</a>
<li><a href="#Downloading-and-Installing">1.8 Downloading and Installing</a>
<ul>
<li><a href="#Installing-under-Windows">1.8.1 Installing under Windows</a>
</li></ul>
<li><a href="#Bug-Reports">1.9 Bug Reports</a>
<li><a href="#Contributing">1.10 Contributing</a>
</li></ul>
<li><a name="toc_Preparation" href="#Preparation">2 Preparation</a>
<ul>
<li><a href="#Header">2.1 Header</a>
<li><a href="#Initialization">2.2 Initialization</a>
<li><a href="#Version-Check">2.3 Version Check</a>
<li><a href="#Building-the-source">2.4 Building the source</a>
<li><a href="#Autoconf-tests">2.5 Autoconf tests</a>
<ul>
<li><a href="#Autoconf-tests">2.5.1 Autoconf test via &lsquo;<samp><span class="samp">pkg-config</span></samp>&rsquo;</a>
<li><a href="#Autoconf-tests">2.5.2 Standalone Autoconf test using Libtool</a>
</li></ul>
</li></ul>
<li><a name="toc_Using-the-Library" href="#Using-the-Library">3 Using the Library</a>
<ul>
<li><a href="#Using-the-Library">3.1 Choosing a mechanism</a>
<li><a href="#Using-the-Library">3.2 Using a callback</a>
</li></ul>
<li><a name="toc_Properties" href="#Properties">4 Properties</a>
<li><a name="toc_Mechanisms" href="#Mechanisms">5 Mechanisms</a>
<ul>
<li><a href="#EXTERNAL">5.1 The EXTERNAL mechanism</a>
<li><a href="#ANONYMOUS">5.2 The ANONYMOUS mechanism</a>
<li><a href="#PLAIN">5.3 The PLAIN mechanism</a>
<li><a href="#LOGIN">5.4 The LOGIN mechanism</a>
<li><a href="#CRAM_002dMD5">5.5 The CRAM-MD5 mechanism</a>
<li><a href="#DIGEST_002dMD5">5.6 The DIGEST-MD5 mechanism</a>
<li><a href="#SCRAM_002dSHA_002d1">5.7 The SCRAM-SHA-1 mechanism</a>
<li><a href="#NTLM">5.8 The NTLM mechanism</a>
<li><a href="#SECURID">5.9 The SECURID mechanism</a>
<li><a href="#GSSAPI">5.10 The GSSAPI mechanism</a>
<li><a href="#KERBEROS_005fV5">5.11 The KERBEROS_V5 mechanism</a>
</li></ul>
<li><a name="toc_Global-Functions" href="#Global-Functions">6 Global Functions</a>
<li><a name="toc_Callback-Functions" href="#Callback-Functions">7 Callback Functions</a>
<li><a name="toc_Property-Functions" href="#Property-Functions">8 Property Functions</a>
<li><a name="toc_Session-Functions" href="#Session-Functions">9 Session Functions</a>
<li><a name="toc_Utilities" href="#Utilities">10 Utilities</a>
<li><a name="toc_Memory-Handling" href="#Memory-Handling">11 Memory Handling</a>
<li><a name="toc_Error-Handling" href="#Error-Handling">12 Error Handling</a>
<ul>
<li><a href="#Error-values">12.1 Error values</a>
<li><a href="#Error-strings">12.2 Error strings</a>
</li></ul>
<li><a name="toc_Examples" href="#Examples">13 Examples</a>
<ul>
<li><a href="#Example-1">13.1 Example 1</a>
<li><a href="#Example-2">13.2 Example 2</a>
<li><a href="#Example-3">13.3 Example 3</a>
<li><a href="#Example-4">13.4 Example 4</a>
</li></ul>
<li><a name="toc_Acknowledgements" href="#Acknowledgements">14 Acknowledgements</a>
<li><a name="toc_Invoking-gsasl" href="#Invoking-gsasl">15 Invoking gsasl</a>
<li><a name="toc_Protocol-Clarifications" href="#Protocol-Clarifications">Appendix A Protocol Clarifications</a>
<ul>
<li><a href="#Use-of-SASLprep-in-CRAM_002dMD5">A.1 Use of SASLprep in CRAM-MD5</a>
<li><a href="#Use-of-SASLprep-in-LOGIN">A.2 Use of SASLprep in LOGIN</a>
</li></ul>
<li><a name="toc_Old-Functions" href="#Old-Functions">Appendix B Old Functions</a>
<ul>
<li><a href="#Old-Functions">B.1 Obsolete callback function prototypes</a>
</li></ul>
<li><a name="toc_Copying-Information" href="#Copying-Information">Appendix C Copying Information</a>
<ul>
<li><a href="#GNU-Free-Documentation-License">C.1 GNU Free Documentation License</a>
<li><a href="#GNU-LGPL">C.2 GNU Lesser General Public License</a>
<li><a href="#GNU-GPL">C.3 GNU General Public License</a>
</li></ul>
<li><a name="toc_Function-and-Data-Index" href="#Function-and-Data-Index">Function and Data Index</a>
<li><a name="toc_Concept-Index" href="#Concept-Index">Concept Index</a>
</li></ul>
</div>



<div class="node">
<a name="Top"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Introduction">Introduction</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered">GNU Simple Authentication and Security Layer</h2>

<p>This manual was last updated 15 March 2010 for version
1.4.4 of GNU SASL.

   <p>Copyright &copy; 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009 Simon Josefsson.

   <blockquote>
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled &ldquo;GNU Free
Documentation License&rdquo;. 
</blockquote>

<ul class="menu">
<li><a accesskey="1" href="#Introduction">Introduction</a>:                 Information about protocol and implementation. 
<li><a accesskey="2" href="#Preparation">Preparation</a>:                  What you should do before using the library. 
<li><a accesskey="3" href="#Using-the-Library">Using the Library</a>:            High level overview of how to use the library. 
<li><a accesskey="4" href="#Properties">Properties</a>:                   How to specify username, password, etc. 
<li><a accesskey="5" href="#Mechanisms">Mechanisms</a>:                   Mechanism specific information. 
<li><a accesskey="6" href="#Global-Functions">Global Functions</a>:             Functions that can be used at all times. 
<li><a accesskey="7" href="#Callback-Functions">Callback Functions</a>:           Set and use callbacks. 
<li><a accesskey="8" href="#Property-Functions">Property Functions</a>:           Specify username, password etc. 
<li><a accesskey="9" href="#Session-Functions">Session Functions</a>:            Perform an authentication. 
<li><a href="#Utilities">Utilities</a>:                    Functions for various odd things. 
<li><a href="#Memory-Handling">Memory Handling</a>:              Memory de-allocation. 
<li><a href="#Error-Handling">Error Handling</a>:               Error codes and such. 
<li><a href="#Examples">Examples</a>:                     Demonstrate how to use the library. 
<li><a href="#Acknowledgements">Acknowledgements</a>:             Whom to blame.

<li><a href="#Invoking-gsasl">Invoking gsasl</a>:               Command line interface to the library.

</li></ul>
<p>Appendices

</p>
<ul class="menu">
<li><a href="#Protocol-Clarifications">Protocol Clarifications</a>:      Our notes on the SASL protocol. 
<li><a href="#Old-Functions">Old Functions</a>:                Descriptions of old API functions. 
<li><a href="#Copying-Information">Copying Information</a>: 		How you can copy and share GNU SASL.

</li></ul>
<p>Indices

</p>
<ul class="menu">
<li><a href="#Concept-Index">Concept Index</a>:                Index of concepts and programs. 
<li><a href="#Function-and-Data-Index">Function and Data Index</a>:      Index of functions, variables and data types. 
</ul>

<!-- ********************************************************** -->
<!-- *******************  Introduction  *********************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Introduction"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Preparation">Preparation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">1 Introduction</h2>

<p>This manual can be used in several ways.  If read from the beginning
to the end, it gives the reader an understanding of the SASL framework
and the GNU SASL implementation, and how the GNU SASL library is used
in an application.  Forward references are included where necessary. 
Later on, the manual can be used as a reference manual to get just the
information needed about any particular interface of the library. 
Experienced programmers might want to start looking at the examples at
the end of the manual, and then only read up those parts of the
interface which are unclear.

<ul class="menu">
<li><a accesskey="1" href="#SASL-Overview">SASL Overview</a>
<li><a accesskey="2" href="#Implementation">Implementation</a>
<li><a accesskey="3" href="#Features">Features</a>
<li><a accesskey="4" href="#Requirements">Requirements</a>
<li><a accesskey="5" href="#Supported-Platforms">Supported Platforms</a>
<li><a accesskey="6" href="#Getting-help">Getting help</a>
<li><a accesskey="7" href="#Commercial-Support">Commercial Support</a>
<li><a accesskey="8" href="#Downloading-and-Installing">Downloading and Installing</a>
<li><a accesskey="9" href="#Bug-Reports">Bug Reports</a>
<li><a href="#Contributing">Contributing</a>
</ul>

<div class="node">
<a name="SASL-Overview"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Implementation">Implementation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.1 SASL Overview</h3>

<p>SASL is a framework for application protocols, such as <acronym>SMTP</acronym>
or <acronym>IMAP</acronym>, to add authentication support.  For example, SASL
is used to prove to the server who you are when you access an
<acronym>IMAP</acronym> server to read your e-mail.

   <p>The SASL framework does not specify the technology used to perform the
authentication, that is the responsibility for each SASL mechanism. 
Popular SASL mechanisms include CRAM-MD5 and GSSAPI (for Kerberos V5).

   <p>Typically a SASL negotiation works as follows.  First the client
requests authentication (possibly implicitly by connecting to the
server).  The server responds with a list of supported mechanisms. 
The client chose one of the mechanisms.  The client and server then
exchange data, one round-trip at a time, until authentication either
succeeds or fails.  After that, the client and server knows more about
who is on the other end of the channel.

   <p>For example, in <acronym>SMTP</acronym> communication happens like this:

<pre class="smallexample">     250-mail.example.com Hello pc.example.org [192.168.1.42], pleased to meet you
     250-AUTH DIGEST-MD5 CRAM-MD5 LOGIN PLAIN
     250 HELP
     AUTH CRAM-MD5
     334 PDk5MDgwNDEzMDUwNTUyMTE1NDQ5LjBAbG9jYWxob3N0Pg==
     amFzIDBkZDRkODZkMDVjNjI4ODRkYzc3OTcwODE4ZGI5MGY3
     235 2.0.0 OK Authenticated
</pre>
   <p>Here the first three lines are sent by the server and contains the
list of supported mechanisms (DIGEST-MD5, CRAM-MD5, etc).  The next
line is sent by the client to select the CRAM-MD5 mechanism.  The
server replies with a challenge, which is a message that can be
generated by calling GNU SASL functions.  The client replies with a
response, which also is a message that can be generated by GNU SASL
functions.  Depending on the mechanism, there can be more than one
round trip, so do not assume all authentication exchanges consists of
one message from the server and one from the client.  The server
accepts the authentication.  At that point it knows it is talking to a
authenticated client, and the application protocol can continue.

   <p>Essentially, your application is responsible for implementing the
framing protocol (e.g., SMTP or XMPP) according to the particular
specifications.  Your application uses GNU SASL to generate the
authentication messages.

<div class="node">
<a name="Implementation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Features">Features</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SASL-Overview">SASL Overview</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.2 Implementation</h3>

<p>GNU SASL is an implementation of the Simple Authentication and
Security Layer framework and a few common SASL mechanisms.

   <p>GNU SASL consists of a library (<code>libgsasl</code>), a command line
utility (<code>gsasl</code>) to access the library from the shell, and a
manual.  The library includes support for the framework (with
authentication functions and application data privacy and integrity
functions) and at least partial support for the CRAM-MD5, EXTERNAL,
GSSAPI, ANONYMOUS, PLAIN, SECURID, DIGEST-MD5, SCRAM-SHA-1, LOGIN, and
NTLM mechanisms.

   <p>The library is easily ported because it does not do network
communication by itself, but rather leaves it up to the calling
application.  The library is flexible with regards to the
authorization infrastructure used, as it utilizes a callback into the
application to decide whether a user is authorized or not.

   <p>GNU SASL is developed for the GNU/Linux system, but runs on over 20
platforms including most major Unix platforms and Windows, and many
kind of devices including iPAQ handhelds and S/390 mainframes.

   <p>GNU SASL is written in pure ANSI C89 to be portable to embedded and
otherwise limited platforms.  The entire library, with full support
for ANONYMOUS, EXTERNAL, PLAIN, LOGIN and CRAM-MD5, and the front-end
that supports client and server mode, and the IMAP and SMTP protocols,
fits in under 80kb on an Intel x86 platform, without any modifications
to the code.  (This figure was accurate as of version 1.1.)

   <p>The design of the library and the intended interaction between
applications and the library through the official API is illustrated
below.

   <div class="float">
<a name="fig_003aabstraction"></a><img src="abstraction.png" alt="abstraction.png">

   <p><strong class="float-caption">Illustration 1.1: Logical overview showing how applications use authentication
mechanisms through an abstract interface.</strong></p></div>

<div class="node">
<a name="Features"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Requirements">Requirements</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Implementation">Implementation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.3 Features</h3>

<p>GNU SASL might have a couple of advantages over other libraries doing
a similar job.

     <dl>
<dt>It's Free Software<dd>Anybody can use, modify, and redistribute it under the terms of the
GNU General Public License version 3.0 or later.  The library uses the
GNU Lesser General Public License version 2.1 or later.

     <br><dt>It's thread-safe<dd>No global variables are used and multiple library handles and session
handles may be used in parallel.

     <br><dt>It's internationalized<dd>It handles non-ASCII usernames and passwords and user visible strings
used in the library (error messages) can be translated into the users'
language.

     <br><dt>It's portable<dd>It should work on all Unix like operating systems, including Windows. 
The library itself should be portable to any C89 system, not even
POSIX is required.

     <br><dt>It's small<dd>The library has been rewritten with embedded platforms in mind.  For
example, no API consumes more than around 250 bytes of stack space.

   </dl>

   <p>Note that the library does not implement any policy to decide whether
a certain user is &ldquo;authenticated&rdquo; or &ldquo;authorized&rdquo; or not.  Rather,
it uses a callback into the application to answer these questions.

<div class="node">
<a name="Requirements"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Supported-Platforms">Supported Platforms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Features">Features</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.4 Requirements</h3>

<p>The GNU SASL library does not have any required external dependencies,
but some optional features are enabled if you have a specific external
library.

     <dl>
<dt>LibNTLM<dd>The NTLM mechanism requires the library LibNTLM,
<a href="http://josefsson.org/libntlm/">http://josefsson.org/libntlm/</a>.

     <br><dt>GSS-API<dd>The GSS-API mechanism requires a GSS-API library, such as GNU GSS
(<a href="http://www.gnu.org/software/gss/">http://www.gnu.org/software/gss/</a>), MIT Kerberos or Heimdal.

     <br><dt>LibIDN<dd>Processing of non-ASCII usernames and passwords requires the SASLprep
implementation in LibIDN (<a href="http://www.gnu.org/software/libidn/">http://www.gnu.org/software/libidn/</a>). 
This is needed for full conformance with the latest SASL protocol
drafts, but is optional in the library for improved portability.

     <br><dt>Libgcrypt<dd>The GNU SASL library ships with its own cryptographic implementation,
but it can use the one in libgcrypt (<a href="http://www.gnupg.org/">http://www.gnupg.org/</a>)
instead, if it is available.  This is typically useful for desktop
machines which have libgcrypt installed. 
</dl>

   <p>The command-line interface to GNU SASL requires a POSIX or Windows
platform for network connectivity.  The command-line tool can make use
of GnuTLS (<a href="http://www.gnutls.org/">http://www.gnutls.org/</a>) to support the STARTTLS modes
of IMAP and SMTP, but GnuTLS is not required.

   <p>Note that the library does not need a POSIX platform or network
connectivity.

<div class="node">
<a name="Supported-Platforms"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Getting-help">Getting help</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Requirements">Requirements</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.5 Supported Platforms</h3>

<p>GNU SASL has at some point in time been tested on the following
platforms.  Daily online build reports are available at
<a href="http://autobuild.josefsson.org/gsasl/">http://autobuild.josefsson.org/gsasl/</a>.

     <ol type=1 start=1>

     <li>Debian GNU/Linux 3.0 (Woody)
<a name="index-Debian-1"></a>
GCC 2.95.4 and GNU Make. This is the main development platform. 
<code>alphaev67-unknown-linux-gnu</code>, <code>alphaev6-unknown-linux-gnu</code>,
<code>arm-unknown-linux-gnu</code>, <code>hppa-unknown-linux-gnu</code>,
<code>hppa64-unknown-linux-gnu</code>, <code>i686-pc-linux-gnu</code>,
<code>ia64-unknown-linux-gnu</code>, <code>m68k-unknown-linux-gnu</code>,
<code>mips-unknown-linux-gnu</code>, <code>mipsel-unknown-linux-gnu</code>,
<code>powerpc-unknown-linux-gnu</code>, <code>s390-ibm-linux-gnu</code>,
<code>sparc-unknown-linux-gnu</code>.

     <li>Debian GNU/Linux 2.1
<a name="index-Debian-2"></a>
GCC 2.95.1 and GNU Make. <code>armv4l-unknown-linux-gnu</code>.

     <li>Tru64 UNIX
<a name="index-Tru64-3"></a>
Tru64 UNIX C compiler and Tru64 Make. <code>alphaev67-dec-osf5.1</code>,
<code>alphaev68-dec-osf5.1</code>.

     <li>SuSE Linux 7.1
<a name="index-SuSE-4"></a>
GCC 2.96 and GNU Make. <code>alphaev6-unknown-linux-gnu</code>,
<code>alphaev67-unknown-linux-gnu</code>.

     <li>SuSE Linux 7.2a
<a name="index-SuSE-Linux-5"></a>
GCC 3.0 and GNU Make. <code>ia64-unknown-linux-gnu</code>.

     <li>RedHat Linux 7.2
<a name="index-RedHat-6"></a>
GCC 2.96 and GNU Make. <code>alphaev6-unknown-linux-gnu</code>,
<code>alphaev67-unknown-linux-gnu</code>, <code>ia64-unknown-linux-gnu</code>.

     <li>RedHat Linux 8.0
<a name="index-RedHat-7"></a>
GCC 3.2 and GNU Make. <code>i686-pc-linux-gnu</code>.

     <li>RedHat Advanced Server 2.1
<a name="index-RedHat-Advanced-Server-8"></a>
GCC 2.96 and GNU Make. <code>i686-pc-linux-gnu</code>.

     <li>Slackware Linux 8.0.01
<a name="index-RedHat-9"></a>
GCC 2.95.3 and GNU Make. <code>i686-pc-linux-gnu</code>.

     <li>Mandrake Linux 9.0
<a name="index-Mandrake-10"></a>
GCC 3.2 and GNU Make. <code>i686-pc-linux-gnu</code>.

     <li>IRIX 6.5
<a name="index-IRIX-11"></a>
MIPS C compiler, IRIX Make. <code>mips-sgi-irix6.5</code>.

     <li>AIX 4.3.2
<a name="index-AIX-12"></a>
IBM C for AIX compiler, AIX Make.  <code>rs6000-ibm-aix4.3.2.0</code>.

     <li>Microsoft Windows 2000 (Cygwin)
<a name="index-Windows-13"></a>
GCC 3.2, GNU make. <code>i686-pc-cygwin</code>.

     <li>HP-UX 11
<a name="index-HP_002dUX-14"></a>
HP-UX C compiler and HP Make. <code>ia64-hp-hpux11.22</code>,
<code>hppa2.0w-hp-hpux11.11</code>.

     <li>SUN Solaris 2.8
<a name="index-Solaris-15"></a>
Sun WorkShop Compiler C 6.0 and SUN Make. <code>sparc-sun-solaris2.8</code>.

     <li>SUN Solaris 2.9
<a name="index-Solaris-16"></a>
Sun Forte Developer 7 C compiler and GNU
Make. <code>sparc-sun-solaris2.9</code>.

     <li>NetBSD 1.6
<a name="index-NetBSD-17"></a>
GCC 2.95.3 and GNU Make. <code>alpha-unknown-netbsd1.6</code>,
<code>i386-unknown-netbsdelf1.6</code>.

     <li>OpenBSD 3.1 and 3.2
<a name="index-OpenBSD-18"></a>
GCC 2.95.3 and GNU Make. <code>alpha-unknown-openbsd3.1</code>,
<code>i386-unknown-openbsd3.1</code>.

     <li>FreeBSD 4.7
<a name="index-FreeBSD-19"></a>
GCC 2.95.4 and GNU Make. <code>alpha-unknown-freebsd4.7</code>,
<code>i386-unknown-freebsd4.7</code>.

     <li>Cross compiled to uClinux/uClibc on Motorola Coldfire. 
<a name="index-Motorola-Coldfire-20"></a><a name="index-uClinux-21"></a><a name="index-uClibc-22"></a>
GCC 3.4 and GNU Make <code>m68k-uclinux-elf</code>.

        </ol>

   <p>If you port GNU SASL to a new platform, please report it to the author
so this list can be updated.

<div class="node">
<a name="Getting-help"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Commercial-Support">Commercial Support</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Supported-Platforms">Supported Platforms</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.6 Getting help</h3>

<p>A mailing list where users may help each other exists, and you can
reach it by sending e-mail to <a href="mailto:help-gsasl@gnu.org">help-gsasl@gnu.org</a>.  Archives
of the mailing list discussions, and an interface to manage
subscriptions, is available through the World Wide Web at
<a href="http://lists.gnu.org/mailman/listinfo/help-gsasl">http://lists.gnu.org/mailman/listinfo/help-gsasl</a>.

<div class="node">
<a name="Commercial-Support"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Downloading-and-Installing">Downloading and Installing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Getting-help">Getting help</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.7 Commercial Support</h3>

<p>Commercial support is available for users of GNU SASL.  The kind of
support that can be purchased may include:

     <ul>
<li>Implement new features. 
Such as a new SASL mechanism.

     <li>Port GNU SASL to new platforms. 
This could include porting to an embedded platforms that may need
memory or size optimization.

     <li>Integrating SASL as a security environment in your existing project.

     <li>System design of components related to SASL.

   </ul>

   <p>If you are interested, please write to:

<pre class="verbatim">Simon Josefsson Datakonsult AB
Hagagatan 24
113 47 Stockholm
Sweden

E-mail: simon@josefsson.org
</pre>

   <p>If your company provides support related to GNU SASL and would like to
be mentioned here, contact the author (see <a href="#Bug-Reports">Bug Reports</a>).

<div class="node">
<a name="Downloading-and-Installing"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Bug-Reports">Bug Reports</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Commercial-Support">Commercial Support</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.8 Downloading and Installing</h3>

<p><a name="index-Installation-23"></a><a name="index-Download-24"></a>
The package can be downloaded from several places, including:

   <p><a href="ftp://ftp.gnu.org/pub/gnu/gsasl/">ftp://ftp.gnu.org/pub/gnu/gsasl/</a>

   <p>The latest version is stored in a file, e.g.,
&lsquo;<samp><span class="samp">gsasl-1.4.4.tar.gz</span></samp>&rsquo; where the &lsquo;<samp><span class="samp">1.4.4</span></samp>&rsquo;
value is the highest version number in the directory.

   <p>The package is then extracted, configured and built like many other
packages that use Autoconf.  For detailed information on configuring
and building it, refer to the <samp><span class="file">INSTALL</span></samp> file that is part of the
distribution archive.

   <p>Here is an example terminal session that downloads, configures, builds
and install the package.  You will need a few basic tools, such as
&lsquo;<samp><span class="samp">sh</span></samp>&rsquo;, &lsquo;<samp><span class="samp">make</span></samp>&rsquo; and &lsquo;<samp><span class="samp">cc</span></samp>&rsquo;.

<pre class="example">     $ wget -q ftp://ftp.gnu.org/pub/gnu/gsasl/gsasl-1.4.4.tar.gz
     $ tar xfz gsasl-1.4.4.tar.gz
     $ cd gsasl-1.4.4/
     $ ./configure
     ...
     $ make
     ...
     $ make install
     ...
</pre>
   <p>After that gsasl should be properly installed and ready for use.

   <p>A few <code>configure</code> options may be relevant, summarized in the
table.

     <dl>
<dt><code>--disable-client</code><dt><code>--disable-server</code><dd>If your target system require a minimal implementation, you may wish
to disable the client or the server part of the code.  This does not
remove symbols from the library, so if you attempt to call an
application that uses server functions in a library built with
<code>--disable-server</code>, the function will return an error code.

     <br><dt><code>--disable-obsolete</code><dd>Remove backwards compatibility (see <a href="#Old-Functions">Old Functions</a>).  Use if you
want to limit the size of the library.

     <br><dt><code>--disable-anonymous</code><dt><code>--disable-external</code><dt><code>--disable-plain</code><dt><code>--disable-login</code><dt><code>--disable-securid</code><dt><code>--disable-ntlm</code><dt><code>--disable-cram-md5</code><dt><code>--disable-digest-md5</code><dt><code>--disable-gssapi</code><dt><code>--enable-kerberos_v5</code><dt><code>--disable-scram-sha1</code><dd>Disable or enable individual mechanisms (see <a href="#Mechanisms">Mechanisms</a>).

     <br><dt><code>--without-stringprep</code><dd>Disable internationalized string processing.  Note that this will
result in a SASL library that is only compatible with RFC 2222.

   </dl>

   <p>For the complete list, refer to the output from <code>configure
--help</code>.

<ul class="menu">
<li><a accesskey="1" href="#Installing-under-Windows">Installing under Windows</a>:     Windows specific build instructions. 
</ul>

<div class="node">
<a name="Installing-under-Windows"></a>
<p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#Downloading-and-Installing">Downloading and Installing</a>

</div>

<h4 class="subsection">1.8.1 Installing under Windows</h4>

<p>There are two ways to build GNU SASL on Windows: via MinGW or via
Microsoft Visual Studio.

   <p>With MinGW, you can build a GNU SASL DLL and use it from other
applications.  After installing MinGW (<a href="http://mingw.org/">http://mingw.org/</a>) follow
the generic installation instructions (see <a href="#Downloading-and-Installing">Downloading and Installing</a>).  The DLL is installed by default.

   <p>For information on how to use the DLL in other applications, see:
<a href="http://www.mingw.org/mingwfaq.shtml#faq-msvcdll">http://www.mingw.org/mingwfaq.shtml#faq-msvcdll</a>.

   <p>You can build GNU SASL as a native Visual Studio C++ project.  This
allows you to build the code for other platforms that VS supports,
such as Windows Mobile.  You need Visual Studio 2005 or later.

   <p>First download and unpack the archive as described in the generic
installation instructions (see <a href="#Downloading-and-Installing">Downloading and Installing</a>).  Don't
run <code>./configure</code>.  Instead, start Visual Studio and open the
project file <samp><span class="file">lib/win32/libgsasl.sln</span></samp> inside the GNU SASL
directory.  You should be able to build the project using Build
Project.

   <p>Output libraries will be written into the <code>lib/win32/lib</code> (or
<code>lib/win32/lib/debug</code> for Debug versions) folder.

   <p>Warning!  Unless you build GNU SASL linked with libgcrypt, GNU SASL
uses the Windows function <code>CryptGenRandom</code> for generating
cryptographic random data.  The function is known to have some
security weaknesses.  See <a href="http://eprint.iacr.org/2007/419">http://eprint.iacr.org/2007/419</a> for
more information.  The code will attempt to use the Intel RND crypto
provider if it is installed, see <samp><span class="file">lib/gl/gc-gnulib.c</span></samp>.

<div class="node">
<a name="Bug-Reports"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Contributing">Contributing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Downloading-and-Installing">Downloading and Installing</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.9 Bug Reports</h3>

<p><a name="index-Reporting-Bugs-25"></a>
If you think you have found a bug in GNU SASL, please investigate it
and report it.

     <ul>
<li>Please make sure that the bug is really in GNU SASL, and
preferably also check that it hasn't already been fixed in the latest
version.

     <li>You have to send us a test case that makes it possible for us to
reproduce the bug.

     <li>You also have to explain what is wrong; if you get a crash, or
if the results printed are not good and in that case, in what way. 
Make sure that the bug report includes all information you would need
to fix this kind of bug for someone else.

   </ul>

   <p>Please make an effort to produce a self-contained report, with
something definite that can be tested or debugged.  Vague queries or
piecemeal messages are difficult to act on and don't help the
development effort.

   <p>If your bug report is good, we will do our best to help you to get a
corrected version of the software; if the bug report is poor, we won't
do anything about it (apart from asking you to send better bug
reports).

   <p>If you think something in this manual is unclear, or downright
incorrect, or if the language needs to be improved, please also send a
note.

   <p>Send your bug report to:

<div align="center">&lsquo;<samp><span class="samp">bug-gsasl@gnu.org</span></samp>&rsquo;</div>

<div class="node">
<a name="Contributing"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Bug-Reports">Bug Reports</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.10 Contributing</h3>

<p><a name="index-Contributing-26"></a><a name="index-Hacking-27"></a>
If you want to submit a patch for inclusion &ndash; from solve a typo you
discovered, up to adding support for a new feature &ndash; you should
submit it as a bug report (see <a href="#Bug-Reports">Bug Reports</a>).  There are some
things that you can do to increase the chances for it to be included
in the official package.

   <p>Unless your patch is very small (say, under 10 lines) we require that
you assign the copyright of your work to the Free Software Foundation. 
This is to protect the freedom of the project.  If you have not
already signed papers, we will send you the necessary information when
you submit your contribution.

   <p>For contributions that doesn't consist of actual programming code, the
only guidelines are common sense.  Use it.

   <p>For code contributions, a number of style guides will help you:

     <ul>
<li>Coding Style. 
Follow the GNU Standards document (see <a href="standards.html#Top">GNU Coding Standards</a>).

     <p>If you normally code using another coding standard, there is no
problem, but you should use &lsquo;<samp><span class="samp">indent</span></samp>&rsquo; to reformat the code
(see <a href="indent.html#Top">GNU Indent</a>) before submitting your work.

     <li>Use the unified diff format &lsquo;<samp><span class="samp">diff -u</span></samp>&rsquo;.

     <li>Return errors. 
No reason whatsoever should abort the execution of the library.  Even
memory allocation errors, e.g. when <code>malloc</code> return <code>NULL</code>,
should work although result in an error code.

     <li>Design with thread safety in mind. 
Don't use global variables.  Don't even write to per-handle global
variables unless the documented behaviour of the function you write is
to write to the per-handle global variable.

     <li>Avoid using the C math library. 
It causes problems for embedded implementations, and in most
situations it is very easy to avoid using it.

     <li>Document your functions. 
Use comments before each function headers, that, if properly
formatted, are extracted into Texinfo manuals and GTK-DOC web pages.

     <li>Supply a ChangeLog and NEWS entries, where appropriate.

   </ul>

<!-- ********************************************************** -->
<!-- *******************  Preparation  ************************ -->
<!-- ********************************************************** -->
<div class="node">
<a name="Preparation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Using-the-Library">Using the Library</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Introduction">Introduction</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">2 Preparation</h2>

<p>To use GNU SASL, you have to perform some changes to your sources and
the build system.  The necessary changes are small and explained in
the following sections.  At the end of this chapter, it is described
how the library is initialized, and how the requirements of the
library are verified.

   <p>A faster way to find out how to adapt your application for use with
GNU SASL may be to look at the examples at the end of this manual
(see <a href="#Examples">Examples</a>).

<ul class="menu">
<li><a accesskey="1" href="#Header">Header</a>
<li><a accesskey="2" href="#Initialization">Initialization</a>
<li><a accesskey="3" href="#Version-Check">Version Check</a>
<li><a accesskey="4" href="#Building-the-source">Building the source</a>
<li><a accesskey="5" href="#Autoconf-tests">Autoconf tests</a>
</ul>

<div class="node">
<a name="Header"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Initialization">Initialization</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Preparation">Preparation</a>

</div>

<h3 class="section">2.1 Header</h3>

<p>All interfaces (data types and functions) of the library are defined
in the header file <code>gsasl.h</code>.  You must include this in all
programs using the library, either directly or through some other
header file, like this:

<pre class="example">     #include &lt;gsasl.h&gt;
</pre>
   <p>The name space is <code>gsasl_*</code> for function names, <code>Gsasl*</code> for
data types and <code>GSASL_*</code> for other symbols.  In addition the same
name prefixes with one prepended underscore are reserved for internal
use and should never be used by an application.

<div class="node">
<a name="Initialization"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Version-Check">Version Check</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Header">Header</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Preparation">Preparation</a>

</div>

<h3 class="section">2.2 Initialization</h3>

<p>The library must be initialized before it can be used.  The library is
initialized by calling <code>gsasl_init</code> (see <a href="#Global-Functions">Global Functions</a>). 
The resources allocated by the initialization process can be released
if the application no longer has a need to call `Libgsasl' functions,
this is done by calling <code>gsasl_done</code>.  For example:

<pre class="example">     int
     main (int argc, char *argv[])
     {
       Gsasl *ctx = NULL;
       int rc;
     ...
       rc = gsasl_init (&amp;ctx);
       if (rc != GSASL_OK)
         {
           printf ("SASL initialization failure (%d): %s\n",
                   rc, gsasl_strerror (rc));
           return 1;
         }
     ...
</pre>
   <p>In order to make error messages from <code>gsasl_strerror</code> be
translated (see <a href="gettext.html#Top">Top</a>) the application must
set the current locale using <code>setlocale</code> before calling
<code>gsasl_init</code>.  For example:

<pre class="example">     int
     main (int argc, char *argv[])
     {
       Gsasl *ctx = NULL;
       int rc;
     ...
       setlocale (LC_ALL, "");
     ...
       rc = gsasl_init (&amp;ctx);
       if (rc != GSASL_OK)
         {
           printf (gettext ("SASL initialization failure (%d): %s\n"),
                   rc, gsasl_strerror (rc));
           return 1;
         }
     ...
</pre>
   <p>In order to take advantage of the secure memory features in
Libgcrypt<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>, you
need to initialize secure memory in your application, and for some
platforms even make your application setuid root.  See the Libgcrypt
documentation for more information.  Here is example code to
initialize secure memory in your code:

<pre class="example">     #include &lt;gcrypt.h&gt;
     ...
     int
     main (int argc, char *argv[])
     {
       Gsasl *ctx = NULL;
       int rc;
     ...
       /* Check version of libgcrypt. */
       if (!gcry_check_version (GCRYPT_VERSION))
         die ("version mismatch\n");
     
       /* Allocate a pool of 16k secure memory.  This also drops priviliges
          on some systems. */
       gcry_control (GCRYCTL_INIT_SECMEM, 16384, 0);
     
       /* Tell Libgcrypt that initialization has completed. */
       gcry_control (GCRYCTL_INITIALIZATION_FINISHED, 0);
     ...
       rc = gsasl_init (&amp;ctx);
       if (rc != GSASL_OK)
         {
           printf ("SASL initialization failure (%d): %s\n",
                   rc, gsasl_strerror (rc));
           return 1;
         }
     ...
</pre>
   <p>If you do not do this, keying material will not be allocated in secure
memory (which, for most applications, is not the biggest secure
problem anyway).  Note that the GNU SASL Library has not been audited
to make sure it stores passwords or keys in secure memory.

<div class="node">
<a name="Version-Check"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Building-the-source">Building the source</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Initialization">Initialization</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Preparation">Preparation</a>

</div>

<h3 class="section">2.3 Version Check</h3>

<p>It is often desirable to check that the version of the library used is
indeed one which fits all requirements.  Even with binary
compatibility, new features may have been introduced but, due to
problem with the dynamic linker, an old version may actually be used. 
So you may want to check that the version is okay right after program
startup.

<h4 class="subheading">gsasl_check_version</h4>

<p><a name="gsasl_005fcheck_005fversion"></a>

<div class="defun">
&mdash; Function: const char * <b>gsasl_check_version</b> (<var>const char * req_version</var>)<var><a name="index-gsasl_005fcheck_005fversion-28"></a></var><br>
<blockquote><p><var>req_version</var>: version string to compare with, or <code>NULL</code>.

        <p>Check GNU SASL Library version.

        <p>See <code>GSASL_VERSION</code> for a suitable <code>req_version</code> string.

        <p>This function is one of few in the library that can be used without
a successful call to <code>gsasl_init()</code>.

        <p><strong>Return value:</strong> Check that the version of the library is at
minimum the one given as a string in <code>req_version</code> and return the
actual version string of the library; return <code>NULL</code> if the
condition is not met.  If <code>NULL</code> is passed to this function no
check is done and only the version string is returned. 
</p></blockquote></div>

   <p>The normal way to use the function is to put something similar to the
following early in your <code>main</code>:

<pre class="example">       if (!gsasl_check_version (GSASL_VERSION))
         {
           printf ("gsasl_check_version failed:\n"
                   "Header file incompatible with shared library.\n");
           exit(1);
         }
</pre>
   <div class="node">
<a name="Building-the-source"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Autoconf-tests">Autoconf tests</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Version-Check">Version Check</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Preparation">Preparation</a>

</div>

<h3 class="section">2.4 Building the source</h3>

<p><a name="index-Compiling-your-application-29"></a>
If you want to compile a source file including the <samp><span class="file">gsasl.h</span></samp>
header file, you must make sure that the compiler can find it in the
directory hierarchy.  This is accomplished by adding the path to the
directory in which the header file is located to the compilers include
file search path (via the <samp><span class="option">-I</span></samp> option).

   <p>However, the path to the include file is determined at the time the
source is configured.  To solve this problem, the library uses the
external package <samp><span class="command">pkg-config</span></samp> that knows the path to the
include file and other configuration options.  The options that need
to be added to the compiler invocation at compile time are output by
the <samp><span class="option">--cflags</span></samp> option to <samp><span class="command">pkg-config libgsasl</span></samp>.  The
following example shows how it can be used at the command line:

<pre class="example">     gcc -c foo.c `pkg-config libgsasl --cflags`
</pre>
   <p>Adding the output of &lsquo;<samp><span class="samp">pkg-config libgsasl --cflags</span></samp>&rsquo; to the
compiler command line will ensure that the compiler can find the
<samp><span class="file">gsasl.h</span></samp> header file.

   <p>A similar problem occurs when linking the program with the library. 
Again, the compiler has to find the library files.  For this to work,
the path to the library files has to be added to the library search
path (via the <samp><span class="option">-L</span></samp> option).  For this, the option
<samp><span class="option">--libs</span></samp> to <samp><span class="command">pkg-config libgsasl</span></samp> can be used.  For
convenience, this option also outputs all other options that are
required to link the program with the library (for instance, the
&lsquo;<samp><span class="samp">-lidn</span></samp>&rsquo; option).  The example shows how to link <samp><span class="file">foo.o</span></samp> with
the library to a program <samp><span class="command">foo</span></samp>.

<pre class="example">     gcc -o foo foo.o `pkg-config libgsasl --libs`
</pre>
   <p>Of course you can also combine both examples to a single command by
specifying both options to <samp><span class="command">pkg-config</span></samp>:

<pre class="example">     gcc -o foo foo.c `pkg-config libgsasl --cflags --libs`
</pre>
   <div class="node">
<a name="Autoconf-tests"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Building-the-source">Building the source</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Preparation">Preparation</a>

</div>

<h3 class="section">2.5 Autoconf tests</h3>

<p><a name="index-Autoconf-tests-30"></a><a name="index-Configure-tests-31"></a>
If you work on a project that uses Autoconf (see <a href="autoconf.html#Top">GNU Autoconf</a>) to help find installed libraries, the
suggestions in the previous section are not the entire story.  There
are a few methods to detect and incorporate the GNU SASL Library into
your Autoconf based package.  The preferred approach, is to use
Libtool in your project, and use the normal Autoconf header file and
library tests.

<h4 class="subsection">2.5.1 Autoconf test via &lsquo;<samp><span class="samp">pkg-config</span></samp>&rsquo;</h4>

<p>If your audience is a typical GNU/Linux desktop, you can often assume
they have the &lsquo;<samp><span class="samp">pkg-config</span></samp>&rsquo; tool installed, in which you can use
its Autoconf M4 macro to find and set up your package for use with
Libgsasl.  The following example illustrates this scenario.

<pre class="example">     AC_ARG_ENABLE(gsasl,
       AC_HELP_STRING([--disable-gsasl], [don't use GNU SASL]),
       gsasl=$enableval)
     if test "$gsal" != "no" ; then
       PKG_CHECK_MODULES(GSASL, libgsasl &gt;= 1.4.4,
         [gsasl=yes],
         [gsasl=no])
       if test "$gsasl" != "yes" ; then
         gsasl=no
         AC_MSG_WARN([Cannot find GNU SASL, disabling])
       else
         gsasl=yes
         AC_DEFINE(USE_GSASL, 1, [Define to 1 if you want GNU SASL.])
       fi
     fi
     AC_MSG_CHECKING([if GNU SASL should be used])
     AC_MSG_RESULT($gsasl)
</pre>
   <h4 class="subsection">2.5.2 Standalone Autoconf test using Libtool</h4>

<p>If your package uses Libtool (see <a href="libtool.html#Top">GNU Libtool</a>), you
can use the normal Autoconf tests to find Libgsasl and rely on the
Libtool dependency tracking to include the proper dependency libraries
(e.g., Libidn).  The following example illustrates this scenario.

<pre class="example">     AC_CHECK_HEADER(gsasl.h,
       AC_CHECK_LIB(gsasl, gsasl_check_version,
         [gsasl=yes AC_SUBST(GSASL_LIBS, -lgsasl)],
         gsasl=no),
       gsasl=no)
     AC_ARG_ENABLE(gsasl,
       AC_HELP_STRING([--disable-gsasl], [don't use GNU SASL]),
       gsasl=$enableval)
     if test "$gsasl" != "no" ; then
       AC_DEFINE(USE_SASL, 1, [Define to 1 if you want GNU SASL.])
     else
       AC_MSG_WARN([Cannot find GNU SASL, diabling])
     fi
     AC_MSG_CHECKING([if GNU SASL should be used])
     AC_MSG_RESULT($gsasl)
</pre>
   <!-- ********************************************************** -->
<!-- *****************  Using the Library  ******************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Using-the-Library"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Properties">Properties</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Preparation">Preparation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">3 Using the Library</h2>

<p><a name="index-Overview-32"></a><a name="index-Library-Overview-33"></a>
Your application's use of the library can be roughly modeled into the
following steps: initialize the library, optionally specify the
callback, perform the authentication, and finally clean up.  The
following image illustrates this.

   <div class="block-image"><img src="controlflow.png" alt="controlflow.png"></div>

   <p>The third step may look complex, but for a simple client it will
actually not involve any code.  If your application needs to handle
several concurrent clients, or if it is a server that needs to serve
many clients simultaneous, things do get a bit more complicated.

   <p>For illustration, we will write a simple client.  Writing a server
would be similar, the only difference is that, later on, instead of
supplying a username and password, you need to decide whether someone
should be allowed to log in or not.  The code for what we have
discussed so far make up the <code>main</code> function in our client
(see <a href="#Example-1">Example 1</a>):

<pre class="example">     int main (int argc, char *argv[])
     {
       Gsasl *ctx = NULL;
       int rc;
     
       if ((rc = gsasl_init (&amp;ctx)) != GSASL_OK)
         {
           printf ("Cannot initialize libgsasl (%d): %s",
                   rc, gsasl_strerror (rc));
           return 1;
         }
     
       client (ctx);
     
       gsasl_done (ctx);
     
       return 0;
     }
</pre>
   <p>Here, the call to the function <code>client</code> correspond to the third
step in the image above.

   <p>For a more complicated application, having several clients running
simultaneous, instead of a simple call to <code>client</code>, it may have
created new threads for each session, and call <code>client</code> within
each thread.  The library is thread safe.

   <p>An actual authentication session is more complicated than what we have
seen so far.  These are the steps: decide which mechanism to use,
start the session, optionally specify the callback, optionally set any
properties, perform the authentication loop, and clean up.  Naturally,
your application will start to talk its own protocol (e.g., SMTP or
IMAP) after these steps have concluded.

   <p>The authentication loop is based on sending tokens (typically short
messages encoded in base 64) back and forth between the client and
server.  It continues until authentication succeeds or an error
occurs.  The format of the data to be transferred, the number of
iterations in the loop, and other details are specified by each
mechanism.  The goal of the library is to isolate your application
from the details of all different mechanisms.

   <p>Note that the library does not send data to the server itself, but
returns it in an buffer.  You must send it to the server, following an
application protocol profile.  For example, the <acronym>SASL</acronym>
application protocol profile for <acronym>SMTP</acronym> is described in
<acronym>RFC</acronym> 2554.

   <p>The following image illustrates the steps we have been talking about.

   <div class="block-image"><img src="controlflow2.png" alt="controlflow2.png"></div>

   <p>We will now show the implementation of the <code>client</code> function used
before.

<pre class="example">     void client (Gsasl *ctx)
     {
       Gsasl_session *session;
       const char *mech = "PLAIN";
       int rc;
     
       /* Create new authentication session. */
       if ((rc = gsasl_client_start (ctx, mech, &amp;session)) != GSASL_OK)
         {
           printf ("Cannot initialize client (%d): %s\n",
                   rc, gsasl_strerror (rc));
           return;
         }
     
       /* Set username and password in session handle.  This info will be
          lost when this session is deallocated below.  */
       gsasl_property_set (session, GSASL_AUTHID, "jas");
       gsasl_property_set (session, GSASL_PASSWORD, "secret");
     
       /* Do it. */
       client_authenticate (session);
     
       /* Cleanup. */
       gsasl_finish (session);
     }
</pre>
   <p>This function is responsible for deciding which mechanism to use.  In
this case, the &lsquo;<samp><span class="samp">PLAIN</span></samp>&rsquo; mechanism is hard coded, but you will see
later how this can be made more flexible.  The function creates a new
session, then it stores the username and password in the session
handle, then it calls another function <code>client_authenticate</code> to
handle the authentication loop, and finally it cleans up up.  Let's
continue with the implementation of <code>client_authenticate</code>.

<pre class="example">     void client_authenticate (Gsasl_session * session)
     {
       char buf[BUFSIZ] = "";
       char *p;
       int rc;
     
       /* This loop mimics a protocol where the server sends data
          first. */
     
       do
         {
           printf ("Input base64 encoded data from server:\n");
           fgets (buf, sizeof (buf) - 1, stdin);
           if (buf[strlen (buf) - 1] == '\n')
             buf[strlen (buf) - 1] = '\0';
     
           rc = gsasl_step64 (session, buf, &amp;p);
     
           if (rc == GSASL_NEEDS_MORE || rc == GSASL_OK)
             {
               printf ("Output:\n%s\n", p);
               free (p);
             }
         }
       while (rc == GSASL_NEEDS_MORE);
     
       printf ("\n");
     
       if (rc != GSASL_OK)
         {
           printf ("Authentication error (%d): %s\n",
                   rc, gsasl_strerror (rc));
           return;
         }
     
       /* The client is done.  Here you would typically check if the
          server let the client in.  If not, you could try again. */
     
       printf ("If server accepted us, we're done.\n");
     }
</pre>
   <p>This last function needs to be discussed in some detail.  First, you
should be aware that there are two versions of this function, that
differ in a subtle way.  The version above (see <a href="#Example-2">Example 2</a>) is used
for application profiles where the server sends data first.  For some
mechanisms, this may waste a roundtrip, because the server needs input
from the client to proceed.  Therefor, today the recommended approach
is to permit client to send data first (see <a href="#Example-1">Example 1</a>).  Which
version you should use depends on which application protocol you are
implementing.

   <p>Further, you should realize that it is bad programming style to use a
fixed size buffer.  On GNU systems, you may use the <code>getline</code>
functions instead of <code>fgets</code>.  However, in practice, there are
few mechanisms that use very large tokens.  In typical configurations,
the mechanism with the largest tokens (GSSAPI) can use at least 500
bytes.  A fixed buffer size of 8192 bytes may thus be sufficient for
now.  But don't say I didn't warn you, when a future mechanism doesn't
work in your application, because of a fixed size buffer.

   <p>The function <code>gsasl_step64</code> (and of course also <code>gasl_step</code>)
returns two non-error return codes.  <code>GSASL_OK</code> is used for
success, indicating that the library considers the authentication
finished.  That may include a successful server authentication,
depending on the mechanism.  You must not let the client continue to
the application protocol part unless you receive <code>GSASL_OK</code> from
these functions.  In particular, don't be fooled into believing
authentication were successful if the server replies &ldquo;OK&rdquo; but these
functions have failed with an error.  The server may have been hacked,
and could be tricking you into sending confidential data, without
having successfully authenticated the server.

   <p>The non-error return code <code>GSASL_NEEDS_MORE</code> is used to signal to
your application that you should send the output token to the peer,
and wait for a new token, and do another iteration.  If the server
concludes the authentication process, with no data, you should call
<code>gsasl_step64</code> (or <code>gsasl_step</code>) specifying a zero-length
token.

   <p>If the functions (<code>gsasl_step</code> and <code>gsasl_step64</code>) return
any non-error code, the content of the output buffer is undefined. 
Otherwise, it is the callers responsibility to deallocate the buffer,
by calling <code>free</code>.  Note that in some situations, where the
buffer is empty, <code>NULL</code> is returned as the buffer value.  You
should treat this as an empty buffer.

<h3 class="section">3.1 Choosing a mechanism</h3>

<p>Our earlier code was hard coded to use a specific mechanism.  This is
rarely a good idea.  Instead, it is recommended to select the best
mechanism available from the list of mechanisms supported by the
server.  Note that without TLS or similar, the list may have been
maliciously altered, by an attacker.  This means that you should abort
if you cannot find any mechanism that exceeds your minimum security
level.  There is a function <code>gsasl_client_suggest_mechanism</code>
(see <a href="#Global-Functions">Global Functions</a>) that will try to pick the &ldquo;best&rdquo;
available mechanism from a list of mechanisms.  Our simple interactive
example client (see <a href="#Example-3">Example 3</a>) includes the following function to
decide which mechanism to use.  Note that the code doesn't blindly use
what is returned from <code>gsasl_client_suggest_mechanism</code>, rather it
lets some logic (in this case the user, through an interactive query)
decide which mechanism is acceptable.

<pre class="example">     const char *client_mechanism (Gsasl *ctx)
     {
       static char mech[GSASL_MAX_MECHANISM_SIZE + 1] = "";
       char mechlist[BUFSIZ] = "";
       const char *suggestion;
     
       printf ("Enter list of server supported mechanisms, separate by SPC:\n");
       fgets (mechlist, sizeof (mechlist) - 1, stdin);
     
       suggestion = gsasl_client_suggest_mechanism (ctx, mechlist);
       if (suggestion)
         printf ("Library suggests use of `%s'.\n", suggestion);
     
       printf ("Enter mechanism to use:\n");
       fgets (mech, sizeof (mech) - 1, stdin);
       mech[strlen (mech) - 1] = '\0';
     
       return mech;
     }
</pre>
   <p>When running this example code, it might look like in the following
output.

<pre class="example">     Enter list server supported mechanisms, separate by SPC:
     CRAM-MD5 DIGEST-MD5 GSSAPI FOO BAR
     Library suggests use of `GSSAPI'.
     Enter mechanism to use:
     CRAM-MD5
     Input base64 encoded data from server:
     Zm5vcmQ=
     Output:
     amFzIDkyY2U1NWE5MTM2ZTY4NzEyMTUyZTFjYmFmNjVkZjgx
     
     If server accepted us, we're done.
</pre>
   <h3 class="section">3.2 Using a callback</h3>

<p>Our earlier code specified the username and password before the
authentication loop, as in:

<pre class="example">     gsasl_property_set (ctx, GSASL_AUTHID, "jas");
     gsasl_property_set (ctx, GSASL_PASSWORD, "secret");
</pre>
   <p>This may work for simple mechanisms, that need only a username and a
password.  But some mechanism requires more information, such as an
authorization identity, a special PIN or passcode, a realm, a
hostname, a service name, or an anonymous identifier.  Querying the
user for all that information, without knowing exactly which of it is
really needed will result in a poor user interface.  The user should
not have to input private information, if it isn't required.

   <p>The approach is a bad idea for another reason.  What if the server
aborts the authentication process?  Then your application has already
queried the user for a username and password.  It would be better if
you only asked the user for this information, annoying to input, when
it is known to be needed.

   <p>A better approach to this problem is to use a callback.  Then the
mechanism may query your application whenever it needs some
information, like the username and password.  It will only do this at
the precise step in the authentication when the information is
actually needed.  Further, if the user aborts, e.g., a password
prompt, the mechanism is directly informed of this (because it invoked
the callback), and could recover somehow.

   <p>Our final example (see <a href="#Example-4">Example 4</a>) specifies a callback function,
inside <code>main</code> as below.

<pre class="example">     /* Set the callback handler for the library. */
     gsasl_callback_set (ctx, callback);
</pre>
   <p>The function itself is implemented as follows.

<pre class="example">     int callback (Gsasl * ctx, Gsasl_session * sctx, Gsasl_property prop)
     {
       char buf[BUFSIZ] = "";
       int rc = GSASL_NO_CALLBACK;
     
       /* Get user info from user. */
     
       printf ("Callback invoked, for property %d.\n", prop);
     
       switch (prop)
         {
         case GSASL_PASSCODE:
           printf ("Enter passcode:\n");
           fgets (buf, sizeof (buf) - 1, stdin);
           buf[strlen (buf) - 1] = '\0';
     
           gsasl_property_set (sctx, GSASL_PASSCODE, buf);
           rc = GSASL_OK;
           break;
     
         case GSASL_AUTHID:
           printf ("Enter username:\n");
           fgets (buf, sizeof (buf) - 1, stdin);
           buf[strlen (buf) - 1] = '\0';
     
           gsasl_property_set (sctx, GSASL_AUTHID, buf);
           rc = GSASL_OK;
           break;
     
         default:
           printf ("Unknown property!  Don't worry.\n");
           break;
         }
     
       return rc;
     }
</pre>
   <p>Again, it is bad style to use a fixed size buffer.  Mmm'kay.

   <p>Which properties you should handle is up to you.  If you don't know
how to respond to a certain property, simply return
<code>GSASL_NO_CALLBACK</code>.  The basic properties to support are
authentication identity (<code>GSASL_AUTHID</code>), authorization identity
(<code>GSASL_AUTHZID</code>), and password (<code>GSASL_PASSWORD</code>).  See
See <a href="#Properties">Properties</a>, for the list of all properties, and what your
callback should (ideally) do for them, and which properties each
mechanism require in order to work.

<!-- ********************************************************** -->
<!-- *******************  Properties  ************************* -->
<!-- ********************************************************** -->
<div class="node">
<a name="Properties"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Mechanisms">Mechanisms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Using-the-Library">Using the Library</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">4 Properties</h2>

<p>The library uses a concept called &ldquo;properties&rdquo; to request and pass
data between the application and the individual authentication
mechanisms.  The application can set property values using the
<code>gsasl_property_set</code> function.  If a mechanism needs a property
value the application has not yet provided, this is handled through a
callback.  The application provides a callback, using
<code>gsasl_callback_set</code>, which will be invoked with a property
parameter.  The callback should set the property before returning, or
fail.  For more information, see See <a href="#Callback-Functions">Callback Functions</a>.

   <p>There are two kind of properties.  The first, a &ldquo;data property&rdquo; is
the simplest to understand because it normally refers to short
strings.  For example, the property called <code>GSASL_AUTHID</code>
correspond to the username string, e.g., <code>simon</code>.

   <p>The latter properties, called &ldquo;logical properties&rdquo;, are used by the
server to make a authentication decision, and is used as a way to get
the application callback invoked.  For example, the property
<code>GSASL_VALIDATE_SIMPLE</code> is used by the server-side part of
mechanisms like <code>PLAIN</code>.  The purpose is to ask the server
application to decide whether the user should be authenticated
successfully or not.  The callback typically look at other property
fields, such as <code>GSASL_AUTHID</code> and <code>GSASL_PASSWORD</code>, and
compare those values with external information (for example data
stored in a database or on a LDAP server) and then return OK or not.

   <blockquote>
<b>Warning:</b> Don't expect that all mechanisms invoke one of the logical properties
in the server mode.  For example, the CRAM-MD5 and SCRAM-SHA-1
mechanisms will use the data properties (i.e., username and password)
provided by the application to internally decide whether to
successfully authenticate the user.  User authorization decisions
needs to be made by the application outside of the SASL mechanism
negotiation. 
</blockquote>

   <p>The logical properties are currently only used by servers, but data
properties are used by both client and servers.  It makes sense to
think about the latter category as &lsquo;<samp><span class="samp">server properties</span></samp>&rsquo; but the
reverse is not valid nor useful.

   <p>The semantics associated with a data property is different when it is
used in client context and in the server context.  For example, in the
client context, the application is expected to set the property
<code>GSASL_AUTHID</code> to signal to the mechanism the username to use,
but in the server context, the <code>GSASL_AUTHID</code> property is set by
the mechanism and can be used by the application (in the callback) to
find out what username the client provided.

   <p>Below is a list of all properties and an explanation for each.  First
is the list of data properties:

     <ul>
<li><code>GSASL_AUTHID</code>

     <p>The authentication identity.

     <li><code>GSASL_AUTHZID</code>

     <p>The authorization identity.

     <li><code>GSASL_PASSWORD</code>

     <p>The password of the authentication identity.

     <li><code>GSASL_ANONYMOUS_TOKEN</code>

     <p>The anonymous token.  This is typically the email address of the user.

     <li><code>GSASL_SERVICE</code>

     <p>The registered GSSAPI service name of the application service,
e.g. &ldquo;imap&rdquo;.  While the names are registered for GSSAPI, other
mechanisms such as DIGEST-MD5 may also use this.

     <li><code>GSASL_HOSTNAME</code>

     <p>Should be the local host name of the machine.

     <li><code>GSASL_GSSAPI_DISPLAY_NAME</code>

     <p>Contain the GSSAPI &ldquo;display name&rdquo;, set by the server GSSAPI
mechanism.  Typically you retrieve this property in your callback,
when invoked for <code>GSASL_VALIDATE_GSSAPI</code>.

     <li><code>GSASL_REALM</code>

     <p>The name of the authentication domain.  This is used by several
mechanisms, including DIGEST-MD5, GSS-API, KERBEROS_V5 and NTLM.

     <li><code>GSASL_PASSCODE</code>

     <p>The SecurID passcode.

     <li><code>GSASL_PIN</code>

     <p>The SecurID personal identification number (PIN).

     <li><code>GSASL_SUGGESTED_PIN</code>

     <p>A SecurID personal identification number (PIN) suggested by the server.

     <li><code>GSASL_DIGEST_MD5_HASHED_PASSWORD</code>

     <p>For the DIGEST-MD5 mechanism, this is a hashed password.  It is used
in servers to avoid storing clear-text credentials.

     <li><code>GSASL_QOPS</code>

     <p>The DIGEST-MD5 server query for this property to get the set of
quality of protection (QOP) values to advertise.  The property holds
strings with comma separated keywords denoting the set of qops to use,
for example <code>qop-auth, qop-int</code>.  Valid keywords are
<code>qop-auth</code>, <code>qop-int</code>, and <code>qop-conf</code>.

     <li><code>GSASL_QOP</code>

     <p>The DIGEST-MD5 client query for this property to get the quality of
protection (QOP) values to request.  The property value is one of the
keywords for <code>GSASL_QOPS</code>.  The client must chose one of the QOP
values offered by the server (which may be inspected through the
<code>GSASL_QOPS</code> property).

     <li><code>GSASL_SCRAM_SALTED_PASSWORD</code>

     <p>The SCRAM-SHA-1 client requests this property from the application,
and the value should be 40 character long hex-encoded string with the
user's hashed password.  Note that the value is different for the same
password for each value of the <code>GSASL_SCRAM_ITER</code> and
<code>GSASL_SCRAM_ITER</code> properties.  The property can be used to avoid
storing a clear-text credential in the client.  If the property is not
available, the client will ask for the <code>GSASL_PASSWORD</code> property
instead.

     <li><code>GSASL_SCRAM_ITER</code>
<li><code>GSASL_SCRAM_ITER</code>

     <p><a name="index-iteration-count-34"></a><a name="index-salt-35"></a>In the server, the application can set these properties to influence
the hash iteration count and hash salt to use when deriving the
password.  The default hash iteration count is 4096 and normally you
should not need to use a lower setting.  The salt should be a random
string.  In the client, the SCRAM-SHA-1 mechanism set these properties
before asking for asking the application to provide a
<code>GSASL_SCRAM_SALTED_PASSWORD</code> value.

   </ul>

   <p>Next follows a list of data properties used to trigger the callback,
typically used in servers to validate client credentials:

     <ul>
<li><code>GSASL_VALIDATE_SIMPLE</code>

     <p>You may retrieve GSASL_AUTHID, GSASL_AUTHZID and GSASL_PASSWORD and
use them to make an authentication and authorization decision.

     <li><code>GSASL_VALIDATE_EXTERNAL</code>

     <p>Used by EXTERNAL mechanism on the server side to validate the client. 
The GSASL_AUTHID will contain the authorization identity of the
client.

     <li><code>GSASL_VALIDATE_ANONYMOUS</code>

     <p>Used by ANONYMOUS mechanism on the server side to validate the client. 
The GSASL_ANONYMOUS_TOKEN will contain token that identity the client.

     <li><code>GSASL_VALIDATE_GSSAPI</code>

     <p>Used by the GSSAPI mechanism on the server side, to validate the
client.  You may retrieve the authorization identity from
GSASL_AUTHZID and the GSS-API display name from
GSASL_GSSAPI_DISPLAY_NAME.

     <li><code>GSASL_VALIDATE_SECURID</code>

     <p>Used by SECURID mechanism on the server side to validate client.  The
GSASL_AUTHID, GSASL_AUTHZID, GSASL_PASSCODE, and GSASL_PIN will be
set.  It can return GSASL_SECURID_SERVER_NEED_ADDITIONAL_PASSCODE to
ask the client to supply another passcode, and
GSASL_SECURID_SERVER_NEED_NEW_PIN to require the client to supply a
new PIN code.

   </ul>

<!-- ********************************************************** -->
<!-- *******************  Mechanisms  ************************* -->
<!-- ********************************************************** -->
<div class="node">
<a name="Mechanisms"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Global-Functions">Global Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Properties">Properties</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">5 Mechanisms</h2>

<p>Different SASL mechanisms have different requirements on the
application using it.  To handle these differences the library can use
a callback function into your application in several different ways. 
Some mechanisms, such as &lsquo;<samp><span class="samp">PLAIN</span></samp>&rsquo;, are simple to explain and use. 
The client callback queries the user for a username and password.  The
server callback hands the username and password into any local policy
deciding authentication system (such as <samp><span class="file">/etc/passwd</span></samp> via PAM).

   <p>Mechanism such as &lsquo;<samp><span class="samp">CRAM-MD5</span></samp>&rsquo; and &lsquo;<samp><span class="samp">SCRAM-SHA-1</span></samp>&rsquo; uses hashed
passwords.  The client callback behaviour is the same as for PLAIN. 
However, the server does not receive the plain text password over the
network but rather a hash of it.  Existing policy deciding systems
like PAM cannot handle this, so the server callback for these
mechanisms are more complicated.

   <p>Further, mechanisms like GSSAPI (Kerberos 5) assume a specific
authentication system.  In theory this means that the SASL library
would not need to interact with the application, but rather call this
specific authentication system directly.  However, some callbacks are
supported anyway, to modify the behaviour of how the specific
authentication system is used (i.e., to handle &ldquo;super-user&rdquo; login as
some other user).

   <p>Some mechanisms, like &lsquo;<samp><span class="samp">EXTERNAL</span></samp>&rsquo; and &lsquo;<samp><span class="samp">ANONYMOUS</span></samp>&rsquo; are
entirely dependent on callbacks.

<ul class="menu">
<li><a accesskey="1" href="#EXTERNAL">EXTERNAL</a>:                 Authentication via out of band information. 
<li><a accesskey="2" href="#ANONYMOUS">ANONYMOUS</a>:                Mechanism for anonymous access to resources. 
<li><a accesskey="3" href="#PLAIN">PLAIN</a>:                    Clear text username and password. 
<li><a accesskey="4" href="#LOGIN">LOGIN</a>:                    Non-standard clear text username and password. 
<li><a accesskey="5" href="#CRAM_002dMD5">CRAM-MD5</a>:                 Challenge-Response Authentication Mechanism. 
<li><a accesskey="6" href="#DIGEST_002dMD5">DIGEST-MD5</a>:               Digest Authentication. 
<li><a accesskey="7" href="#SCRAM_002dSHA_002d1">SCRAM-SHA-1</a>:              SCRAM-SHA-1 authentication. 
<li><a accesskey="8" href="#NTLM">NTLM</a>:                     Microsoft NTLM authentication. 
<li><a accesskey="9" href="#SECURID">SECURID</a>:                  Authentication using tokens. 
<li><a href="#GSSAPI">GSSAPI</a>:                   GSSAPI (Kerberos 5) authentication. 
<li><a href="#KERBEROS_005fV5">KERBEROS_V5</a>:              Experimental KERBEROS_V5 authentication. 
</ul>

<div class="node">
<a name="EXTERNAL"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ANONYMOUS">ANONYMOUS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mechanisms">Mechanisms</a>

</div>

<h3 class="section">5.1 The EXTERNAL mechanism</h3>

<p>The EXTERNAL mechanism is used to authenticate a user to a server
based on out-of-band authentication.  EXTERNAL is typically used over
TLS authenticated channels.  Note that in the server, you need to make
sure that TLS actually authenticated the client successfully.  It is
normally not sufficient to use TLS, since it also supports anonymous
modes.

   <p>In the client, this mechanism is always enabled, and it will send the
<code>GSASL_AUTHZID</code> property as the authorization name to the server,
if the property is set.  If the property is not set, the empty
authorization name is sent.  You need not implement a callback.

   <p>In the server, this mechanism will request the
<code>GSASL_VALIDATE_EXTERNAL</code> callback property to decide whether the
client is authenticated and authorized to log in.  Your callback can
retrieve the <code>GSASL_AUTHZID</code> property to inspect the requested
authorization name from the client.

<div class="node">
<a name="ANONYMOUS"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#PLAIN">PLAIN</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#EXTERNAL">EXTERNAL</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mechanisms">Mechanisms</a>

</div>

<h3 class="section">5.2 The ANONYMOUS mechanism</h3>

<p>The ANONYMOUS mechanism is used to &ldquo;authenticate&rdquo; clients to
anonymous services; or rather, just indicate that the client wishes to
use the service anonymously.  The client sends a token, usually her
email address, which serve the purpose of some trace information
suitable for log files.  The token is not permitted to be empty.

   <p>In the client, this mechanism is always enabled, and will send the
<code>GSASL_ANONYMOUS_TOKEN</code> property as the trace information to the
server.

   <p>In the server, this mechanism will invoke the
<code>GSASL_VALIDATE_ANONYMOUS</code> callback to decide whether the client
should be permitted to log in.  Your callback can retrieve the
<code>GSASL_ANONYMOUS_TOKEN</code> property to, for example, save it in a
log file.  The token is normally not used to decide whether the client
should be permitted to log in or not.

<div class="node">
<a name="PLAIN"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#LOGIN">LOGIN</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ANONYMOUS">ANONYMOUS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mechanisms">Mechanisms</a>

</div>

<h3 class="section">5.3 The PLAIN mechanism</h3>

<p>The PLAIN mechanism uses username and password to authenticate users. 
Two user names are relevant.  The first, the authentication identity,
indicates the credential holder, i.e., whom the provided password
belongs to.  The second, the authorization identity, is typically
empty, to indicate that the user requests to log on to the server as
herself.  However, if the authorization identity is not empty, the
server should decide whether the authenticated user may log on as the
authorization identity.  Normally, only &ldquo;super-user&rdquo; accounts such
as &lsquo;<samp><span class="samp">admin</span></samp>&rsquo; or similar should be allowed this.

   <p>In the client, this mechanism is always enabled, and require the
<code>GSASL_AUTHID</code> and <code>GSASL_PASSWORD</code> properties.  If set,
<code>GSASL_AUTHZID</code> will also be used.

   <p>In the server, the mechanism is always enabled.  Two approaches to
authenticate and authorize the client are provided.

   <p>In the first approach, the server side of the mechanism will request
the <code>GSASL_VALIDATE_SIMPLE</code> callback property to decide whether
the client should be accepted or not.  The callback may inspect the
<code>GSASL_AUTHID</code>, <code>GSASL_AUTHID</code>, and <code>GSASL_PASSWORD</code>
properties.  These property values will be normalized.

   <p>If the first approach fails (because, e.g., your callback returns
&lsquo;<samp><span class="samp">GSASL_NO_CALLBACK</span></samp>&rsquo; to signal that it does not implement
<code>GSASL_VALIDATE_SIMPLE</code>) the mechanism will continue to query the
application for a password, via the <code>GSASL_PASSWORD</code> property. 
Your callback may use the <code>GSASL_AUTHID</code> and <code>GSASL_AUTHZID</code>
properties to select the proper password.  The password is then
normalized and compared to the client credential.

   <p>Which approach to use?  If your database stores hashed passwords, you
have no option, but must use the first approach.  If passwords in your
user database are stored in prepared (<acronym>SASLprep</acronym>) form, the
first approach will be faster.  If you do not have prepared passwords
available, you can use the second approach to make sure the password
is prepared properly before comparison.

<div class="node">
<a name="LOGIN"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#CRAM_002dMD5">CRAM-MD5</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#PLAIN">PLAIN</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mechanisms">Mechanisms</a>

</div>

<h3 class="section">5.4 The LOGIN mechanism</h3>

<p>The LOGIN mechanism is a non-standard mechanism, and is similar to the
PLAIN mechanism except that LOGIN lacks the support for authorization
identities.  Always use PLAIN instead of LOGIN in new applications.

   <p>The callback behaviour is the same as for PLAIN, except that
<code>GSASL_AUTHZID</code> is neither used nor required, and that the server
does not normalize the password using <acronym>SASLprep</acronym>.

   <p>See <a href="#Use-of-SASLprep-in-LOGIN">Use of SASLprep in LOGIN</a>, for a proposed clarification of the
interpretation of a hypothetical LOGIN specification.

<div class="node">
<a name="CRAM-MD5"></a>
<a name="CRAM_002dMD5"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#DIGEST_002dMD5">DIGEST-MD5</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#LOGIN">LOGIN</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mechanisms">Mechanisms</a>

</div>

<h3 class="section">5.5 The CRAM-MD5 mechanism</h3>

<p><a name="index-CRAM_002dMD5-36"></a>
The CRAM-MD5 is a widely used, but officially deprecated (apparently
in favor of DIGEST-MD5), challenge-response mechanism that transfers
hashed passwords instead of clear text passwords.  For insecure
channels (e.g., when <acronym>TLS</acronym> is not used), it is safer than
PLAIN.  The CRAM-MD5 mechanism does not support authorization
identities; making the relationship between CRAM-MD5 and DIGEST-MD5
similar to the relationship between LOGIN and PLAIN.

   <p>The disadvantage with hashed passwords is that the server cannot use
normal authentication infrastructures such as PAM, because the server
must have access to the correct password in order to validate an
authentication attempt.

   <p>In the client, this mechanism is always enabled, and it requires the
<code>GSASL_AUTHID</code> and <code>GSASL_PASSWORD</code> properties.

   <p>In the server, the mechanism will require the <code>GSASL_PASSWORD</code>
callback property, which may use the <code>GSASL_AUTHID</code> property to
determine which users' password should be used.  The
<code>GSASL_AUTHID</code> will be in normalized form.  The server will then
normalize the returned password, and compare the client response with
the computed correct response, and accept the user accordingly.

   <p>See <a href="#Use-of-SASLprep-in-CRAM_002dMD5">Use of SASLprep in CRAM-MD5</a>, for a clarification on the
interpretation of the CRAM-MD5 specification that this implementation
rely on.

<div class="node">
<a name="DIGEST-MD5"></a>
<a name="DIGEST_002dMD5"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SCRAM_002dSHA_002d1">SCRAM-SHA-1</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#CRAM_002dMD5">CRAM-MD5</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mechanisms">Mechanisms</a>

</div>

<h3 class="section">5.6 The DIGEST-MD5 mechanism</h3>

<p><a name="index-DIGEST_002dMD5-37"></a>
The DIGEST-MD5 mechanism is based on repeated hashing using MD5, which
after the MD5 break may be argued to be weaker than HMAC-MD5, but
supports more features.  For example, authorization identities and
data integrity and privacy protection are supported.  Like CRAM-MD5,
only a hashed password is transferred.  Consequently, DIGEST-MD5 needs
access to the correct password (although it may be hashed, another
improvement compared to CRAM-MD5) to verify the client response. 
Alas, this makes it impossible to use, e.g., <acronym>PAM</acronym> on the
server side.

   <p>In the client, this mechanism is always enabled, and it requires the
<code>GSASL_AUTHID</code>, <code>GSASL_PASSWORD</code>, <code>GSASL_SERVICE</code>, and
<code>GSASL_HOSTNAME</code> properties.  If set, <code>GSASL_AUTHZID</code> and
<code>GSASL_REALM</code> will also be used.

   <p>In the server, the mechanism will first request the
<code>GSASL_DIGEST_MD5_HASHED_PASSWORD</code> callback property to get the
user's hashed password.  If the callback doesn't supply a hashed
password, the <code>GSASL_PASSWORD</code> callback property will be
requested.  Both callbacks may use the <code>GSASL_AUTHID</code>,
<code>GSASL_AUTHZID</code> and <code>GSASL_REALM</code> properties to determine
which users' password should be used.  The server will then compare
the client response with a computed correct response, and accept the
user accordingly.

   <p>The server uses the <code>GSASL_QOPS</code> callback to get the set of
quality of protection values to use.  By default, it advertises
support for authentication (<code>qop-auth</code>) only.  You can use the
callback, for example, to make the server advertise support for
authentication with integrity layers.

   <p>The client uses the <code>GSASL_QOP</code> callback to get the quality of
protection value to request.  The client must choose one of the QOP
values offered by the server (which may be inspected through the
<code>GSASL_QOPS</code> property).  If the client does not return a value,
<code>qop-auth</code> is used by default.

<div class="node">
<a name="SCRAM-SHA-1"></a>
<a name="SCRAM_002dSHA_002d1"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#NTLM">NTLM</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#DIGEST_002dMD5">DIGEST-MD5</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mechanisms">Mechanisms</a>

</div>

<h3 class="section">5.7 The SCRAM-SHA-1 mechanism</h3>

<p><a name="index-SCRAM-38"></a>
The SCRAM-SHA-1 mechanism is designed to provide (almost) the same
capabilities as CRAM-MD5 and DIGEST-MD5 but use modern cryptographic
techniques such as HMAC-SHA-1 and PKCS#5 PBKDF2.  SCRAM-SHA-1 supports
authorization identities.  Like CRAM-MD5 and DIGEST-MD5, only a hashed
password is transferred.  Consequently, SCRAM-SHA-1 needs access to
the correct password to verify the client response.

   <p>In the client, this mechanism is always enabled, and it requires the
<code>GSASL_AUTHID</code> property, and either <code>GSASL_PASSWORD</code> or
<code>GSASL_SCRAM_SALTED_PASSWORD</code>.  If set, <code>GSASL_AUTHZID</code> will
be used by the client.  To be able to return the proper
<code>GSASL_SCRAM_SALTED_PASSWORD</code> value, the client needs to check
the <code>GSASL_SCRAM_ITER</code> and <code>GSASL_SCRAM_SALT</code> values which
are available when the <code>GSASL_SCRAM_SALTED_PASSWORD</code> property is
queried for.

   <p>In the server, the mechanism will require the <code>GSASL_PASSWORD</code>
callback property, which may use the <code>GSASL_AUTHID</code> property to
determine which users' password should be used.  The
<code>GSASL_AUTHID</code> will be in normalized form.  The server will then
normalize the returned password, and compare the client response with
the computed correct response, and accept the user accordingly.  The
server may also set the <code>GSASL_SCRAM_ITER</code> and
<code>GSASL_SCRAM_SALT</code> properties to influence the values to be used
by clients to derive a key from a password.

   <p><a name="index-channel-binding-39"></a>Currently channel bindings are not supported, so there is no support
for SCRAM-SHA-1-PLUS.

<div class="node">
<a name="NTLM"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SECURID">SECURID</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SCRAM_002dSHA_002d1">SCRAM-SHA-1</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mechanisms">Mechanisms</a>

</div>

<h3 class="section">5.8 The NTLM mechanism</h3>

<p><a name="index-NTLM-40"></a>
The NTLM is a non-standard mechanism.  Do not use it in new
applications, and do not expect it to be secure.  Currently only the
client side is supported.

   <p>In the client, this mechanism is always enabled, and it requires the
<code>GSASL_AUTHID</code> and <code>GSASL_PASSWORD</code> properties.  It will set
the &lsquo;<samp><span class="samp">domain</span></samp>&rsquo; field in the NTLM request to the value of
<code>GSASL_REALM</code>.  Some servers reportedly need non-empty but
arbitrary values in that field.

<div class="node">
<a name="SECURID"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#GSSAPI">GSSAPI</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#NTLM">NTLM</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mechanisms">Mechanisms</a>

</div>

<h3 class="section">5.9 The SECURID mechanism</h3>

<p><a name="index-SECURID-41"></a>
The SECURID mechanism uses authentication and authorization identity
together with a passcode from a hardware token to authenticate users.

   <p>In the client, this mechanism is always enabled, and it requires the
<code>GSASL_AUTHID</code> and <code>GSASL_PASSCODE</code> properties.  If set,
<code>GSASL_AUTHZID</code> will also be used.  If the server requests it,
the <code>GSASL_PIN</code> property is also required, and its callback may
inspect the <code>GSASL_SUGGESTED_PIN</code> property to discover a
server-provided PIN to use.

   <p>In the server, this mechanism will invoke the
<code>GSASL_VALIDATE_SECURID</code> callback.  The callback may inspect the
<code>GSASL_AUTHID</code>, <code>GSASL_AUTHZID</code>, and <code>GSASL_PASSCODE</code>
properties.  The callback can return
<code>GSASL_SECURID_SERVER_NEED_ADDITIONAL_PASSCODE</code> to ask for
another additional passcode from the client.  The callback can return
<code>GSASL_SECURID_SERVER_NEED_NEW_PIN</code> to ask for a new PIN code
from the client, in which case it may also set the
<code>GSASL_SUGGESTED_PIN</code> property to indicate a recommended new PIN. 
If the callbacks is invoked again, after having returned
<code>GSASL_SECURID_SERVER_NEED_NEW_PIN</code>, it may also inspect the
<code>GSASL_PIN</code> property, in addition to the other properties, to
find out the client selected PIN code.

<div class="node">
<a name="GSSAPI"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#KERBEROS_005fV5">KERBEROS_V5</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SECURID">SECURID</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mechanisms">Mechanisms</a>

</div>

<h3 class="section">5.10 The GSSAPI mechanism</h3>

<p><a name="index-GSSAPI-42"></a>
GSS-API is a framework, similar to SASL, for authentication.  The
GSSAPI mechanism only supports the Kerberos 5 GSS-API mechanism,
though.  (A new SASL mechanism to support non-Kerberos 5 GSS-API
mechanisms may be supported in the future.)

   <p>In the client, the mechanism is enabled only if the user has acquired
credentials (i.e., a ticket granting ticket), and it requires the
<code>GSASL_AUTHID</code>, <code>GSASL_SERVICE</code>, and <code>GSASL_HOSTNAME</code>
properties.

   <p>In the server, the mechanism requires the <code>GSASL_SERVICE</code> and
<code>GSASL_HOSTNAME</code> properties, and it will invoke the
<code>GSASL_VALIDATE_GSSAPI</code> callback property in order to validate
the user.  The callback may inspect the <code>GSASL_AUTHZID</code> and
<code>GSASL_GSSAPI_DISPLAY_NAME</code> properties to decide whether to
authorize the user.  Note that authentication is performed by the
GSS-API library.

   <p>XXX: explain more about quality of service, maximum buffer size, etc.

<div class="node">
<a name="KERBEROS_V5"></a>
<a name="KERBEROS_005fV5"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#GSSAPI">GSSAPI</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Mechanisms">Mechanisms</a>

</div>

<h3 class="section">5.11 The KERBEROS_V5 mechanism</h3>

<p><a name="index-KERBEROS_005fV5-43"></a>
The KERBEROS_V5 is an experimental mechanism, the protocol
specification is available on the GNU SASL homepage.  It can operate
in three modes, non-infrastructure mode, infrastructure mode and
proxied infrastructure mode.  Currently only non-infrastructure mode
is supported.

   <p>In the non-infrastructure mode, it works as a superset of most
features provided by PLAIN, CRAM-MD5, DIGEST-MD5 and GSSAPI while at
the same time building on what is believed to be proven technology
(the RFC 1510 network security system).  In the non-infrastructure
mode, the client must specify (via callbacks) the name of the user,
and optionally the server name and realm.  The server must be able to
retrieve passwords given the name of the user.

   <p>In the infrastructure mode (proxied or otherwise), it allows clients
and servers to authenticate via SASL in an RFC 1510 environment, using
a trusted third party, a &ldquo;Key Distribution Central&rdquo;.  In the normal
mode, clients acquire tickets out of band and then invokes a one
roundtrip AP-REQ and AP-REP exchange.  In the proxied mode, which can
be used by clients without IP addresses or without connectivity to the
KDC (e.g., when the KDC is IPv4 and the client is IPV6-only), the
client uses the server to proxy ticket requests and finishes with the
AP-REQ/AP-REP exchange.  In infrastructure mode (proxied or
otherwise), neither the client nor server need to implement any
callbacks (this will likely change later, to allow a server to
authorize users, similar to the GSSAPI callback).

   <p>XXX: update when implementation has matured

<!-- ********************************************************** -->
<!-- *****************  Global Functions  ********************* -->
<!-- ********************************************************** -->
<div class="node">
<a name="Global-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Callback-Functions">Callback Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Mechanisms">Mechanisms</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">6 Global Functions</h2>

<h4 class="subheading">gsasl_init</h4>

<p><a name="gsasl_005finit"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_init</b> (<var>Gsasl ** ctx</var>)<var><a name="index-gsasl_005finit-44"></a></var><br>
<blockquote><p><var>ctx</var>: pointer to libgsasl handle.

        <p>This functions initializes libgsasl.  The handle pointed to by ctx
is valid for use with other libgsasl functions iff this function is
successful.  It also register all builtin SASL mechanisms, using
<code>gsasl_register()</code>.

        <p><strong>Return value:</strong> GSASL_OK iff successful, otherwise
<code>GSASL_MALLOC_ERROR</code>. 
</p></blockquote></div>

<h4 class="subheading">gsasl_done</h4>

<p><a name="gsasl_005fdone"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_done</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fdone-45"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>This function destroys a libgsasl handle.  The handle must not be
used with other libgsasl functions after this call. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_mechlist</h4>

<p><a name="gsasl_005fclient_005fmechlist"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_client_mechlist</b> (<var>Gsasl * ctx, char ** out</var>)<var><a name="index-gsasl_005fclient_005fmechlist-46"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>out</var>: newly allocated output character array.

        <p>Return a newly allocated string containing SASL names, separated by
space, of mechanisms supported by the libgsasl client.  <code>out</code> is
allocated by this function, and it is the responsibility of caller
to deallocate it.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if successful, or error code. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_mechlist</h4>

<p><a name="gsasl_005fserver_005fmechlist"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_server_mechlist</b> (<var>Gsasl * ctx, char ** out</var>)<var><a name="index-gsasl_005fserver_005fmechlist-47"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>out</var>: newly allocated output character array.

        <p>Return a newly allocated string containing SASL names, separated by
space, of mechanisms supported by the libgsasl server.  <code>out</code> is
allocated by this function, and it is the responsibility of caller
to deallocate it.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if successful, or error code. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_support_p</h4>

<p><a name="gsasl_005fclient_005fsupport_005fp"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_client_support_p</b> (<var>Gsasl * ctx, const char * name</var>)<var><a name="index-gsasl_005fclient_005fsupport_005fp-48"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>name</var>: name of SASL mechanism.

        <p>Decide whether there is client-side support for a specified
mechanism.

        <p><strong>Return value:</strong> Returns 1 if the libgsasl client supports the named
mechanism, otherwise 0. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_support_p</h4>

<p><a name="gsasl_005fserver_005fsupport_005fp"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_server_support_p</b> (<var>Gsasl * ctx, const char * name</var>)<var><a name="index-gsasl_005fserver_005fsupport_005fp-49"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>name</var>: name of SASL mechanism.

        <p>Decide whether there is server-side support for a specified
mechanism.

        <p><strong>Return value:</strong> Returns 1 if the libgsasl server supports the named
mechanism, otherwise 0. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_suggest_mechanism</h4>

<p><a name="gsasl_005fclient_005fsuggest_005fmechanism"></a>

<div class="defun">
&mdash; Function: const char * <b>gsasl_client_suggest_mechanism</b> (<var>Gsasl * ctx, const char * mechlist</var>)<var><a name="index-gsasl_005fclient_005fsuggest_005fmechanism-50"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>mechlist</var>: input character array with SASL mechanism names,
separated by invalid characters (e.g. SPC).

        <p>Given a list of mechanisms, suggest which to use.

        <p><strong>Return value:</strong> Returns name of "best" SASL mechanism supported by
the libgsasl client which is present in the input string, or
<code>NULL</code> if no supported mechanism is found. 
</p></blockquote></div>

<h4 class="subheading">gsasl_register</h4>

<p><a name="gsasl_005fregister"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_register</b> (<var>Gsasl * ctx, const Gsasl_mechanism * mech</var>)<var><a name="index-gsasl_005fregister-51"></a></var><br>
<blockquote><p><var>ctx</var>: pointer to libgsasl handle.

        <p><var>mech</var>: plugin structure with information about plugin.

        <p>This function initialize given mechanism, and if successful, add it
to the list of plugins that is used by the library.

        <p><strong>Return value:</strong> <code>GSASL_OK</code> iff successful, otherwise <code>GSASL_MALLOC_ERROR</code>.

        <p><strong>Since:</strong> 0.2.0
</p></blockquote></div>

<!-- ********************************************************** -->
<!-- ******************  Callback Functions  ****************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Callback-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Property-Functions">Property Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Global-Functions">Global Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">7 Callback Functions</h2>

<p><a name="index-Callbacks-52"></a>
The callback is used by mechanisms to retrieve information, such as
username and password, from the application.  In a server, the
callback is used to decide whether a user is permitted to log in or
not.  You tell the library of your callback function by calling
<code>gsasl_callback_set</code>.

   <p>Since your callback may need access to data from other parts of your
application, there are hooks to store and retrieve application
specific pointers.  This avoids the use of global variables, which
wouldn't be thread safe.  You store a pointer to some information
(opaque from the point of view of the library) by calling
<code>gsasl_callback_hook_set</code> and can later retrieve this data in
your callback by calling <code>gsasl_callback_hook_get</code>.

<h4 class="subheading">gsasl_callback_set</h4>

<p><a name="gsasl_005fcallback_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_callback_set</b> (<var>Gsasl * ctx, Gsasl_callback_function cb</var>)<var><a name="index-gsasl_005fcallback_005fset-53"></a></var><br>
<blockquote><p><var>ctx</var>: handle received from <code>gsasl_init()</code>.

        <p><var>cb</var>: pointer to function implemented by application.

        <p>Store the pointer to the application provided callback in the
library handle.  The callback will be used, via <code>gsasl_callback()</code>,
by mechanisms to discover various parameters (such as username and
passwords).  The callback function will be called with a
Gsasl_property value indicating the requested behaviour.  For
example, for <code>GSASL_ANONYMOUS_TOKEN</code>, the function is expected to
invoke gsasl_property_set(<code>CTX</code>, <code>GSASL_ANONYMOUS_TOKEN</code>, "token")
where "token" is the anonymous token the application wishes the
SASL mechanism to use.  See the manual for the meaning of all
parameters.

        <p><strong>Since:</strong> 0.2.0
</p></blockquote></div>

<h4 class="subheading">gsasl_callback</h4>

<p><a name="gsasl_005fcallback"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_callback</b> (<var>Gsasl * ctx, Gsasl_session * sctx, Gsasl_property prop</var>)<var><a name="index-gsasl_005fcallback-54"></a></var><br>
<blockquote><p><var>ctx</var>: handle received from <code>gsasl_init()</code>, may be <code>NULL</code> to derive it
from <code>sctx</code>.

        <p><var>sctx</var>: session handle.

        <p><var>prop</var>: enumerated value of Gsasl_property type.

        <p>Invoke the application callback.  The <code>prop</code> value indicate what the
callback is expected to do.  For example, for
<code>GSASL_ANONYMOUS_TOKEN</code>, the function is expected to invoke
gsasl_property_set(<code>SCTX</code>, <code>GSASL_ANONYMOUS_TOKEN</code>, "token") where
"token" is the anonymous token the application wishes the SASL
mechanism to use.  See the manual for the meaning of all
parameters.

        <p>Note that if no callback has been set by the application, but the
obsolete callback interface has been used, this function will
translate the old callback interface into the new.  This interface
should be sufficient to invoke all callbacks, both new and old.

        <p><strong>Return value:</strong> Returns whatever the application callback return, or
<code>GSASL_NO_CALLBACK</code> if no application was known.

        <p><strong>Since:</strong> 0.2.0
</p></blockquote></div>

<h4 class="subheading">gsasl_callback_hook_set</h4>

<p><a name="gsasl_005fcallback_005fhook_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_callback_hook_set</b> (<var>Gsasl * ctx, void * hook</var>)<var><a name="index-gsasl_005fcallback_005fhook_005fset-55"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>hook</var>: opaque pointer to application specific data.

        <p>Store application specific data in the libgsasl handle.

        <p>The application data can be later (for instance, inside a callback)
be retrieved by calling <code>gsasl_callback_hook_get()</code>.  This is
normally used by the application to maintain a global state between
the main program and callbacks.

        <p><strong>Since:</strong> 0.2.0
</p></blockquote></div>

<h4 class="subheading">gsasl_callback_hook_get</h4>

<p><a name="gsasl_005fcallback_005fhook_005fget"></a>

<div class="defun">
&mdash; Function: void * <b>gsasl_callback_hook_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fcallback_005fhook_005fget-56"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Retrieve application specific data from libgsasl handle.

        <p>The application data is set using <code>gsasl_callback_hook_set()</code>.  This
is normally used by the application to maintain a global state
between the main program and callbacks.

        <p><strong>Return value:</strong> Returns the application specific data, or <code>NULL</code>.

        <p><strong>Since:</strong> 0.2.0
</p></blockquote></div>

<h4 class="subheading">gsasl_session_hook_set</h4>

<p><a name="gsasl_005fsession_005fhook_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_session_hook_set</b> (<var>Gsasl_session * sctx, void * hook</var>)<var><a name="index-gsasl_005fsession_005fhook_005fset-57"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl session handle.

        <p><var>hook</var>: opaque pointer to application specific data.

        <p>Store application specific data in the libgsasl session handle.

        <p>The application data can be later (for instance, inside a callback)
be retrieved by calling <code>gsasl_session_hook_get()</code>.  This is normally
used by the application to maintain a per-session state between the
main program and callbacks.

        <p><strong>Since:</strong> 0.2.14
</p></blockquote></div>

<h4 class="subheading">gsasl_session_hook_get</h4>

<p><a name="gsasl_005fsession_005fhook_005fget"></a>

<div class="defun">
&mdash; Function: void * <b>gsasl_session_hook_get</b> (<var>Gsasl_session * sctx</var>)<var><a name="index-gsasl_005fsession_005fhook_005fget-58"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl session handle.

        <p>Retrieve application specific data from libgsasl session handle.

        <p>The application data is set using <code>gsasl_callback_hook_set()</code>.  This
is normally used by the application to maintain a per-session state
between the main program and callbacks.

        <p><strong>Return value:</strong> Returns the application specific data, or <code>NULL</code>.

        <p><strong>Since:</strong> 0.2.14
</p></blockquote></div>

<!-- ********************************************************** -->
<!-- ******************  Property Functions  ****************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Property-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Session-Functions">Session Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Callback-Functions">Callback Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">8 Property Functions</h2>

<p><a name="index-Properties-59"></a>

<h4 class="subheading">gsasl_property_set</h4>

<p><a name="gsasl_005fproperty_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_property_set</b> (<var>Gsasl_session * sctx, Gsasl_property prop, const char * data</var>)<var><a name="index-gsasl_005fproperty_005fset-60"></a></var><br>
<blockquote><p><var>sctx</var>: session handle.

        <p><var>prop</var>: enumerated value of Gsasl_property type, indicating the
type of data in <code>data</code>.

        <p><var>data</var>: zero terminated character string to store.

        <p>Make a copy of <code>data</code> and store it in the session handle for the
indicated property <code>prop</code>.

        <p>You can immediately deallocate <code>data</code> after calling this function,
without affecting the data stored in the session handle.

        <p><strong>Since:</strong> 0.2.0
</p></blockquote></div>

<h4 class="subheading">gsasl_property_set_raw</h4>

<p><a name="gsasl_005fproperty_005fset_005fraw"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_property_set_raw</b> (<var>Gsasl_session * sctx, Gsasl_property prop, const char * data, size_t len</var>)<var><a name="index-gsasl_005fproperty_005fset_005fraw-61"></a></var><br>
<blockquote><p><var>sctx</var>: session handle.

        <p><var>prop</var>: enumerated value of Gsasl_property type, indicating the
type of data in <code>data</code>.

        <p><var>data</var>: character string to store.

        <p><var>len</var>: length of character string to store.

        <p>Make a copy of <code>len</code> sized <code>data</code> and store a zero terminated version
of it in the session handle for the indicated property <code>prop</code>.

        <p>You can immediately deallocate <code>data</code> after calling this function,
without affecting the data stored in the session handle.

        <p>Except for the length indicator, this function is identical to
gsasl_property_set.

        <p><strong>Since:</strong> 0.2.0
</p></blockquote></div>

<h4 class="subheading">gsasl_property_fast</h4>

<p><a name="gsasl_005fproperty_005ffast"></a>

<div class="defun">
&mdash; Function: const char * <b>gsasl_property_fast</b> (<var>Gsasl_session * sctx, Gsasl_property prop</var>)<var><a name="index-gsasl_005fproperty_005ffast-62"></a></var><br>
<blockquote><p><var>sctx</var>: session handle.

        <p><var>prop</var>: enumerated value of Gsasl_property type, indicating the
type of data in <code>data</code>.

        <p>Retrieve the data stored in the session handle for given property
<code>prop</code>.

        <p>The pointer is to live data, and must not be deallocated or
modified in any way.

        <p>This function will not invoke the application callback.

        <p><strong>Return value:</strong> Return property value, if known, or <code>NULL</code> if no value
known.

        <p><strong>Since:</strong> 0.2.0
</p></blockquote></div>

<h4 class="subheading">gsasl_property_get</h4>

<p><a name="gsasl_005fproperty_005fget"></a>

<div class="defun">
&mdash; Function: const char * <b>gsasl_property_get</b> (<var>Gsasl_session * sctx, Gsasl_property prop</var>)<var><a name="index-gsasl_005fproperty_005fget-63"></a></var><br>
<blockquote><p><var>sctx</var>: session handle.

        <p><var>prop</var>: enumerated value of Gsasl_property type, indicating the
type of data in <code>data</code>.

        <p>Retrieve the data stored in the session handle for given property
<code>prop</code>, possibly invoking the application callback to get the value.

        <p>The pointer is to live data, and must not be deallocated or
modified in any way.

        <p>This function will invoke the application callback, using
<code>gsasl_callback()</code>, when a property value is not known.

        <p>If no value is known, and no callback is specified or if the
callback fail to return data, and if any obsolete callback
functions has been set by the application, this function will try
to call these obsolete callbacks, and store the returned data as
the corresponding property.  This behaviour of this function will
be removed when the obsolete callback interfaces are removed.

        <p><strong>Return value:</strong> Return data for property, or <code>NULL</code> if no value known.

        <p><strong>Since:</strong> 0.2.0
</p></blockquote></div>

<!-- ********************************************************** -->
<!-- *****************  Session Functions  ******************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Session-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Utilities">Utilities</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Property-Functions">Property Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">9 Session Functions</h2>

<p><a name="index-SASL-sessions-64"></a>

<h4 class="subheading">gsasl_client_start</h4>

<p><a name="gsasl_005fclient_005fstart"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_client_start</b> (<var>Gsasl * ctx, const char * mech, Gsasl_session ** sctx</var>)<var><a name="index-gsasl_005fclient_005fstart-65"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>mech</var>: name of SASL mechanism.

        <p><var>sctx</var>: pointer to client handle.

        <p>This functions initiates a client SASL authentication.  This
function must be called before any other gsasl_client_*() function
is called.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if successful, or error code. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_start</h4>

<p><a name="gsasl_005fserver_005fstart"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_server_start</b> (<var>Gsasl * ctx, const char * mech, Gsasl_session ** sctx</var>)<var><a name="index-gsasl_005fserver_005fstart-66"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>mech</var>: name of SASL mechanism.

        <p><var>sctx</var>: pointer to server handle.

        <p>This functions initiates a server SASL authentication.  This
function must be called before any other gsasl_server_*() function
is called.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if successful, or error code. 
</p></blockquote></div>

<h4 class="subheading">gsasl_step</h4>

<p><a name="gsasl_005fstep"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_step</b> (<var>Gsasl_session * sctx, const char * input, size_t input_len, char ** output, size_t * output_len</var>)<var><a name="index-gsasl_005fstep-67"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl session handle.

        <p><var>input</var>: input byte array.

        <p><var>input_len</var>: size of input byte array.

        <p><var>output</var>: newly allocated output byte array.

        <p><var>output_len</var>: pointer to output variable with size of output byte array.

        <p>Perform one step of SASL authentication.  This reads data from the
other end (from <code>input</code> and <code>input_len</code>), processes it (potentially
invoking callbacks to the application), and writes data to server
(into newly allocated variable <code>output</code> and <code>output_len</code> that
indicate the length of <code>output</code>).

        <p>The contents of the <code>output</code> buffer is unspecified if this functions
returns anything other than <code>GSASL_OK</code> or <code>GSASL_NEEDS_MORE</code>.  If
this function return <code>GSASL_OK</code> or <code>GSASL_NEEDS_MORE</code>, however, the
<code>output</code> buffer is allocated by this function, and it is the
responsibility of caller to deallocate it by calling free
(<code>output</code>).

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if authenticated terminated
successfully, <code>GSASL_NEEDS_MORE</code> if more data is needed, or error
code. 
</p></blockquote></div>

<h4 class="subheading">gsasl_step64</h4>

<p><a name="gsasl_005fstep64"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_step64</b> (<var>Gsasl_session * sctx, const char * b64input, char ** b64output</var>)<var><a name="index-gsasl_005fstep64-68"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl client handle.

        <p><var>b64input</var>: input base64 encoded byte array.

        <p><var>b64output</var>: newly allocated output base64 encoded byte array.

        <p>This is a simple wrapper around <code>gsasl_step()</code> that base64 decodes
the input and base64 encodes the output.

        <p>The contents of the <code>b64output</code> buffer is unspecified if this
functions returns anything other than <code>GSASL_OK</code> or
<code>GSASL_NEEDS_MORE</code>.  If this function return <code>GSASL_OK</code> or
<code>GSASL_NEEDS_MORE</code>, however, the <code>b64output</code> buffer is allocated by
this function, and it is the responsibility of caller to deallocate
it by calling free (<code>b64output</code>).

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if authenticated terminated
successfully, <code>GSASL_NEEDS_MORE</code> if more data is needed, or error
code. 
</p></blockquote></div>

<h4 class="subheading">gsasl_finish</h4>

<p><a name="gsasl_005ffinish"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_finish</b> (<var>Gsasl_session * sctx</var>)<var><a name="index-gsasl_005ffinish-69"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl session handle.

        <p>Destroy a libgsasl client or server handle.  The handle must not be
used with other libgsasl functions after this call. 
</p></blockquote></div>

<h4 class="subheading">gsasl_encode</h4>

<p><a name="gsasl_005fencode"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_encode</b> (<var>Gsasl_session * sctx, const char * input, size_t input_len, char ** output, size_t * output_len</var>)<var><a name="index-gsasl_005fencode-70"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl session handle.

        <p><var>input</var>: input byte array.

        <p><var>input_len</var>: size of input byte array.

        <p><var>output</var>: newly allocated output byte array.

        <p><var>output_len</var>: size of output byte array.

        <p>Encode data according to negotiated SASL mechanism.  This might mean
that data is integrity or privacy protected.

        <p>The <code>output</code> buffer is allocated by this function, and it is the
responsibility of caller to deallocate it by calling free(<code>output</code>).

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if encoding was successful,
otherwise an error code. 
</p></blockquote></div>

<h4 class="subheading">gsasl_decode</h4>

<p><a name="gsasl_005fdecode"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_decode</b> (<var>Gsasl_session * sctx, const char * input, size_t input_len, char ** output, size_t * output_len</var>)<var><a name="index-gsasl_005fdecode-71"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl session handle.

        <p><var>input</var>: input byte array.

        <p><var>input_len</var>: size of input byte array.

        <p><var>output</var>: newly allocated output byte array.

        <p><var>output_len</var>: size of output byte array.

        <p>Decode data according to negotiated SASL mechanism.  This might mean
that data is integrity or privacy protected.

        <p>The <code>output</code> buffer is allocated by this function, and it is the
responsibility of caller to deallocate it by calling free(<code>output</code>).

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if encoding was successful,
otherwise an error code. 
</p></blockquote></div>

<h4 class="subheading">gsasl_mechanism_name</h4>

<p><a name="gsasl_005fmechanism_005fname"></a>

<div class="defun">
&mdash; Function: const char * <b>gsasl_mechanism_name</b> (<var>Gsasl_session * sctx</var>)<var><a name="index-gsasl_005fmechanism_005fname-72"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl session handle.

        <p>This function returns the name of the SASL mechanism used in the
session.

        <p><strong>Return value:</strong> Returns a zero terminated character array with the
name of the SASL mechanism, or <code>NULL</code> if not known.

        <p><strong>Since:</strong> 0.2.28
</p></blockquote></div>

<!-- ********************************************************** -->
<!-- *******************  Utilities  ************************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Utilities"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Memory-Handling">Memory Handling</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Session-Functions">Session Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">10 Utilities</h2>

<h4 class="subheading">gsasl_saslprep</h4>

<p><a name="gsasl_005fsaslprep"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_saslprep</b> (<var>const char * in, Gsasl_saslprep_flags flags, char ** out, int * stringpreprc</var>)<var><a name="index-gsasl_005fsaslprep-73"></a></var><br>
<blockquote><p><var>in</var>: a UTF-8 encoded string.

        <p><var>flags</var>: any SASLprep flag, e.g., <code>GSASL_ALLOW_UNASSIGNED</code>.

        <p><var>out</var>: on exit, contains newly allocated output string.

        <p><var>stringpreprc</var>: if non-NULL, will hold precise stringprep return code.

        <p>Prepare string using SASLprep.  On success, the <code>out</code> variable must
be deallocated by the caller.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> on success, or
<code>GSASL_SASLPREP_ERROR</code> on error.

        <p><strong>Since:</strong> 0.2.3
</p></blockquote></div>

<h4 class="subheading">gsasl_base64_to</h4>

<p><a name="gsasl_005fbase64_005fto"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_base64_to</b> (<var>const char * in, size_t inlen, char ** out, size_t * outlen</var>)<var><a name="index-gsasl_005fbase64_005fto-74"></a></var><br>
<blockquote><p><var>in</var>: input byte array

        <p><var>inlen</var>: size of input byte array

        <p><var>out</var>: pointer to newly allocated output byte array

        <p><var>outlen</var>: pointer to size of newly allocated output byte array

        <p>Encode data as base64.  The string is zero terminated, and <code>outlen</code>
holds the length excluding the terminating zero.  The <code>out</code> buffer
must be deallocated by the caller.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> on success, or <code>GSASL_MALLOC_ERROR</code>
if input was too large or memory allocation fail.

        <p><strong>Since:</strong> 0.2.2
</p></blockquote></div>

<h4 class="subheading">gsasl_base64_from</h4>

<p><a name="gsasl_005fbase64_005ffrom"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_base64_from</b> (<var>const char * in, size_t inlen, char ** out, size_t * outlen</var>)<var><a name="index-gsasl_005fbase64_005ffrom-75"></a></var><br>
<blockquote><p><var>in</var>: input byte array

        <p><var>inlen</var>: size of input byte array

        <p><var>out</var>: pointer to newly allocated output byte array

        <p><var>outlen</var>: pointer to size of newly allocated output byte array

        <p>Decode Base64 data.  The <code>out</code> buffer must be deallocated by the
caller.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> on success, <code>GSASL_BASE64_ERROR</code> if
input was invalid, and <code>GSASL_MALLOC_ERROR</code> on memory allocation
errors.

        <p><strong>Since:</strong> 0.2.2
</p></blockquote></div>

<h4 class="subheading">gsasl_simple_getpass</h4>

<p><a name="gsasl_005fsimple_005fgetpass"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_simple_getpass</b> (<var>const char * filename, const char * username, char ** key</var>)<var><a name="index-gsasl_005fsimple_005fgetpass-76"></a></var><br>
<blockquote><p><var>filename</var>: filename of file containing passwords.

        <p><var>username</var>: username string.

        <p><var>key</var>: newly allocated output character array.

        <p>Retrieve password for user from specified file.  The buffer <code>key</code>
contain the password if this function is successful.  The caller is
responsible for deallocating it.

        <p>The file should be on the UoW "MD5 Based Authentication" format,
which means it is in text format with comments denoted by # first
on the line, with user entries looking as "usernameTABpassword". 
This function removes CR and LF at the end of lines before
processing.  TAB, CR, and LF denote ASCII values 9, 13, and 10,
respectively.

        <p><strong>Return value:</strong> Return <code>GSASL_OK</code> if output buffer contains the
password, <code>GSASL_AUTHENTICATION_ERROR</code> if the user could not be
found, or other error code. 
</p></blockquote></div>

<h4 class="subheading">gsasl_nonce</h4>

<p><a name="gsasl_005fnonce"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_nonce</b> (<var>char * data, size_t datalen</var>)<var><a name="index-gsasl_005fnonce-77"></a></var><br>
<blockquote><p><var>data</var>: output array to be filled with unpredictable random data.

        <p><var>datalen</var>: size of output array.

        <p>Store unpredictable data of given size in the provided buffer.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> iff successful. 
</p></blockquote></div>

<h4 class="subheading">gsasl_random</h4>

<p><a name="gsasl_005frandom"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_random</b> (<var>char * data, size_t datalen</var>)<var><a name="index-gsasl_005frandom-78"></a></var><br>
<blockquote><p><var>data</var>: output array to be filled with strong random data.

        <p><var>datalen</var>: size of output array.

        <p>Store cryptographically strong random data of given size in the
provided buffer.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> iff successful. 
</p></blockquote></div>

<h4 class="subheading">gsasl_md5</h4>

<p><a name="gsasl_005fmd5"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_md5</b> (<var>const char * in, size_t inlen, char * out[16]</var>)<var><a name="index-gsasl_005fmd5-79"></a></var><br>
<blockquote><p><var>in</var>: input character array of data to hash.

        <p><var>inlen</var>: length of input character array of data to hash.

        <p>Compute hash of data using MD5.  The <code>out</code> buffer must be
deallocated by the caller.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> iff successful. 
</p></blockquote></div>

<h4 class="subheading">gsasl_hmac_md5</h4>

<p><a name="gsasl_005fhmac_005fmd5"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_hmac_md5</b> (<var>const char * key, size_t keylen, const char * in, size_t inlen, char * outhash[16]</var>)<var><a name="index-gsasl_005fhmac_005fmd5-80"></a></var><br>
<blockquote><p><var>key</var>: input character array with key to use.

        <p><var>keylen</var>: length of input character array with key to use.

        <p><var>in</var>: input character array of data to hash.

        <p><var>inlen</var>: length of input character array of data to hash.

        <p>Compute keyed checksum of data using HMAC-MD5.  The <code>outhash</code> buffer
must be deallocated by the caller.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> iff successful. 
</p></blockquote></div>

<h4 class="subheading">gsasl_sha1</h4>

<p><a name="gsasl_005fsha1"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_sha1</b> (<var>const char * in, size_t inlen, char * out[20]</var>)<var><a name="index-gsasl_005fsha1-81"></a></var><br>
<blockquote><p><var>in</var>: input character array of data to hash.

        <p><var>inlen</var>: length of input character array of data to hash.

        <p>Compute hash of data using SHA1.  The <code>out</code> buffer must be
deallocated by the caller.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> iff successful.

        <p><strong>Since:</strong> 1.3
</p></blockquote></div>

<h4 class="subheading">gsasl_hmac_sha1</h4>

<p><a name="gsasl_005fhmac_005fsha1"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_hmac_sha1</b> (<var>const char * key, size_t keylen, const char * in, size_t inlen, char * outhash[20]</var>)<var><a name="index-gsasl_005fhmac_005fsha1-82"></a></var><br>
<blockquote><p><var>key</var>: input character array with key to use.

        <p><var>keylen</var>: length of input character array with key to use.

        <p><var>in</var>: input character array of data to hash.

        <p><var>inlen</var>: length of input character array of data to hash.

        <p>Compute keyed checksum of data using HMAC-SHA1.  The <code>outhash</code> buffer
must be deallocated by the caller.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> iff successful.

        <p><strong>Since:</strong> 1.3
</p></blockquote></div>

<!-- ********************************************************** -->
<!-- ****************  Memory Handling  *********************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Memory-Handling"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Error-Handling">Error Handling</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Utilities">Utilities</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">11 Memory Handling</h2>

<h4 class="subheading">gsasl_free</h4>

<p><a name="gsasl_005ffree"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_free</b> (<var>void * ptr</var>)<var><a name="index-gsasl_005ffree-83"></a></var><br>
<blockquote><p><var>ptr</var>: memory pointer

        <p>Invoke free(<code>ptr</code>) to de-allocate memory pointer.  Typically used on
strings allocated by other libgsasl functions.

        <p>This is useful on Windows where libgsasl is linked to one CRT and
the application is linked to another CRT.  Then malloc/free will
not use the same heap.  This happens if you build libgsasl using
mingw32 and the application with Visual Studio.

        <p><strong>Since:</strong> 0.2.19
</p></blockquote></div>

<!-- ********************************************************** -->
<!-- *******************  Errors  **************************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Error-Handling"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Examples">Examples</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Memory-Handling">Memory Handling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">12 Error Handling</h2>

<p><a name="index-Error-Handling-84"></a>
Most functions in the GNU SASL Library return an error if they fail. 
For this reason, the application should always catch the error
condition and take appropriate measures, for example by releasing the
resources and passing the error up to the caller, or by displaying a
descriptive message to the user and cancelling the operation.

   <p>Some error values do not indicate a system error or an error in the
operation, but the result of an operation that failed properly.

<ul class="menu">
<li><a accesskey="1" href="#Error-values">Error values</a>:                 A list of all error values used. 
<li><a accesskey="2" href="#Error-strings">Error strings</a>:                How to get a descriptive string from a value. 
</ul>

<div class="node">
<a name="Error-values"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Error-strings">Error strings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Error-Handling">Error Handling</a>

</div>

<h3 class="section">12.1 Error values</h3>

<p>Errors are returned as <code>int</code> values.

   <p>The value of the symbol <code>GSASL_OK</code> is guaranteed to always be
<code>0</code>, and all other error codes are guaranteed to be non-<code>0</code>,
so you may use that information to build boolean expressions involving
return codes.  Otherwise, an application should not depend on the
particular value for error codes, and are encouraged to use the
constants even for <code>GSASL_OK</code> to improve readability.  Possible
values are:

     <dl>
<!-- This file is automatically generated.  DO NOT EDIT! -->
<!-- Instead, edit print-errors.c and re-run. -->

     <dt><code>GSASL_OK</code><dd>Libgsasl success

     <br><dt><code>GSASL_NEEDS_MORE</code><dd>SASL mechanism needs more data

     <br><dt><code>GSASL_UNKNOWN_MECHANISM</code><dd>Unknown SASL mechanism

     <br><dt><code>GSASL_MECHANISM_CALLED_TOO_MANY_TIMES</code><dd>SASL mechanism called too many times

     <br><dt><code>GSASL_TOO_SMALL_BUFFER</code><dd>SASL function needs larger buffer (internal error)

     <br><dt><code>GSASL_FOPEN_ERROR</code><dd>Could not open file in SASL library

     <br><dt><code>GSASL_FCLOSE_ERROR</code><dd>Could not close file in SASL library

     <br><dt><code>GSASL_MALLOC_ERROR</code><dd>Memory allocation error in SASL library

     <br><dt><code>GSASL_BASE64_ERROR</code><dd>Base 64 coding error in SASL library

     <br><dt><code>GSASL_CRYPTO_ERROR</code><dd>Low-level crypto error in SASL library

     <br><dt><code>GSASL_NEED_CLIENT_ANONYMOUS_CALLBACK</code><dd>SASL mechanism needs gsasl_client_callback_anonymous() callback (application error)

     <br><dt><code>GSASL_NEED_CLIENT_PASSWORD_CALLBACK</code><dd>SASL mechanism needs gsasl_client_callback_password() callback (application error)

     <br><dt><code>GSASL_NEED_CLIENT_PASSCODE_CALLBACK</code><dd>SASL mechanism needs gsasl_client_callback_passcode() callback (application error)

     <br><dt><code>GSASL_NEED_CLIENT_PIN_CALLBACK</code><dd>SASL mechanism needs gsasl_client_callback_pin() callback (application error)

     <br><dt><code>GSASL_NEED_CLIENT_AUTHORIZATION_ID_CALLBACK</code><dd>SASL mechanism needs gsasl_client_callback_authorization_id() callback (application error)

     <br><dt><code>GSASL_NEED_CLIENT_AUTHENTICATION_ID_CALLBACK</code><dd>SASL mechanism needs gsasl_client_callback_authentication_id() callback (application error)

     <br><dt><code>GSASL_NEED_CLIENT_SERVICE_CALLBACK</code><dd>SASL mechanism needs gsasl_client_callback_service() callback (application error)

     <br><dt><code>GSASL_NEED_SERVER_VALIDATE_CALLBACK</code><dd>SASL mechanism needs gsasl_server_callback_validate() callback (application error)

     <br><dt><code>GSASL_NEED_SERVER_CRAM_MD5_CALLBACK</code><dd>SASL mechanism needs gsasl_server_callback_cram_md5() callback (application error)

     <br><dt><code>GSASL_NEED_SERVER_DIGEST_MD5_CALLBACK</code><dd>SASL mechanism needs gsasl_server_callback_digest_md5() callback (application error)

     <br><dt><code>GSASL_NEED_SERVER_EXTERNAL_CALLBACK</code><dd>SASL mechanism needs gsasl_server_callback_external() callback (application error)

     <br><dt><code>GSASL_NEED_SERVER_ANONYMOUS_CALLBACK</code><dd>SASL mechanism needs gsasl_server_callback_anonymous() callback (application error)

     <br><dt><code>GSASL_NEED_SERVER_REALM_CALLBACK</code><dd>SASL mechanism needs gsasl_server_callback_realm() callback (application error)

     <br><dt><code>GSASL_NEED_SERVER_SECURID_CALLBACK</code><dd>SASL mechanism needs gsasl_server_callback_securid() callback (application error)

     <br><dt><code>GSASL_NEED_SERVER_SERVICE_CALLBACK</code><dd>SASL mechanism needs gsasl_server_callback_service() callback (application error)

     <br><dt><code>GSASL_NEED_SERVER_GSSAPI_CALLBACK</code><dd>SASL mechanism needs gsasl_server_callback_gssapi() callback (application error)

     <br><dt><code>GSASL_NEED_SERVER_RETRIEVE_CALLBACK</code><dd>SASL mechanism needs gsasl_server_callback_retrieve() callback (application error)

     <br><dt><code>GSASL_UNICODE_NORMALIZATION_ERROR</code><dd>Failed to perform Unicode Normalization on string.

     <br><dt><code>GSASL_SASLPREP_ERROR</code><dd>Could not prepare internationalized (non-ASCII) string.

     <br><dt><code>GSASL_MECHANISM_PARSE_ERROR</code><dd>SASL mechanism could not parse input

     <br><dt><code>GSASL_AUTHENTICATION_ERROR</code><dd>Error authenticating user

     <br><dt><code>GSASL_CANNOT_GET_CTX</code><dd>Cannot get internal library handle (library error)

     <br><dt><code>GSASL_INTEGRITY_ERROR</code><dd>Integrity error in application payload

     <br><dt><code>GSASL_NO_MORE_REALMS</code><dd>No more realms available (non-fatal)

     <br><dt><code>GSASL_NO_CLIENT_CODE</code><dd>Client-side functionality not available in library (application error)

     <br><dt><code>GSASL_NO_SERVER_CODE</code><dd>Server-side functionality not available in library (application error)

     <br><dt><code>GSASL_GSSAPI_RELEASE_BUFFER_ERROR</code><dd>GSSAPI library could not deallocate memory in gss_release_buffer() in SASL library.  This is a serious internal error.

     <br><dt><code>GSASL_GSSAPI_IMPORT_NAME_ERROR</code><dd>GSSAPI library could not understand a peer name in gss_import_name() in SASL library.  This is most likely due to incorrect service and/or hostnames.

     <br><dt><code>GSASL_GSSAPI_INIT_SEC_CONTEXT_ERROR</code><dd>GSSAPI error in client while negotiating security context in gss_init_sec_context() in SASL library.  This is most likely due insufficient credentials or malicious interactions.

     <br><dt><code>GSASL_GSSAPI_ACCEPT_SEC_CONTEXT_ERROR</code><dd>GSSAPI error in server while negotiating security context in gss_accept_sec_context() in SASL library.  This is most likely due insufficient credentials or malicious interactions.

     <br><dt><code>GSASL_GSSAPI_UNWRAP_ERROR</code><dd>GSSAPI error while decrypting or decoding data in gss_unwrap() in SASL library.  This is most likely due to data corruption.

     <br><dt><code>GSASL_GSSAPI_WRAP_ERROR</code><dd>GSSAPI error while encrypting or encoding data in gss_wrap() in SASL library.

     <br><dt><code>GSASL_GSSAPI_ACQUIRE_CRED_ERROR</code><dd>GSSAPI error acquiring credentials in gss_acquire_cred() in SASL library.  This is most likely due to not having the proper Kerberos key available in /etc/krb5.keytab on the server.

     <br><dt><code>GSASL_GSSAPI_DISPLAY_NAME_ERROR</code><dd>GSSAPI error creating a display name denoting the client in gss_display_name() in SASL library.  This is probably because the client supplied bad data.

     <br><dt><code>GSASL_GSSAPI_UNSUPPORTED_PROTECTION_ERROR</code><dd>Other entity requested integrity or confidentiality protection in GSSAPI mechanism but this is currently not implemented.

     <br><dt><code>GSASL_KERBEROS_V5_INIT_ERROR</code><dd>Kerberos V5 initialization failure.

     <br><dt><code>GSASL_KERBEROS_V5_INTERNAL_ERROR</code><dd>Kerberos V5 internal error.

     <br><dt><code>GSASL_SECURID_SERVER_NEED_ADDITIONAL_PASSCODE</code><dd>SecurID needs additional passcode.

     <br><dt><code>GSASL_SECURID_SERVER_NEED_NEW_PIN</code><dd>SecurID needs new pin.

     <br><dt><code>GSASL_INVALID_HANDLE</code><dd>The provided library handle was invalid (application error)

     <br><dt><code>GSASL_NO_CALLBACK</code><dd>No callback specified by caller (application error).

     <br><dt><code>GSASL_NO_ANONYMOUS_TOKEN</code><dd>Authentication failed because the anonymous token was not provided.

     <br><dt><code>GSASL_NO_AUTHID</code><dd>Authentication failed because the authentication identity was not provided.

     <br><dt><code>GSASL_NO_AUTHZID</code><dd>Authentication failed because the authorization identity was not provided.

     <br><dt><code>GSASL_NO_PASSWORD</code><dd>Authentication failed because the password was not provided.

     <br><dt><code>GSASL_NO_PASSCODE</code><dd>Authentication failed because the passcode was not provided.

     <br><dt><code>GSASL_NO_PIN</code><dd>Authentication failed because the pin code was not provided.

     <br><dt><code>GSASL_NO_SERVICE</code><dd>Authentication failed because the service name was not provided.

     <br><dt><code>GSASL_NO_HOSTNAME</code><dd>Authentication failed because the host name was not provided.

   </dl>

<div class="node">
<a name="Error-strings"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Error-values">Error values</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Error-Handling">Error Handling</a>

</div>

<h3 class="section">12.2 Error strings</h3>

<h4 class="subheading">gsasl_strerror</h4>

<p><a name="gsasl_005fstrerror"></a>

<div class="defun">
&mdash; Function: const char * <b>gsasl_strerror</b> (<var>int err</var>)<var><a name="index-gsasl_005fstrerror-85"></a></var><br>
<blockquote><p><var>err</var>: libgsasl error code

        <p>Convert return code to human readable string explanation of the
reason for the particular error code.

        <p>This string can be used to output a diagnostic message to the user.

        <p>This function is one of few in the library that can be used without
a successful call to <code>gsasl_init()</code>.

        <p><strong>Return value:</strong> Returns a pointer to a statically allocated string
containing an explanation of the error code <code>err</code>. 
</p></blockquote></div>

<h4 class="subheading">gsasl_strerror_name</h4>

<p><a name="gsasl_005fstrerror_005fname"></a>

<div class="defun">
&mdash; Function: const char * <b>gsasl_strerror_name</b> (<var>int err</var>)<var><a name="index-gsasl_005fstrerror_005fname-86"></a></var><br>
<blockquote><p><var>err</var>: libgsasl error code

        <p>Convert return code to human readable string representing the error
code symbol itself.  For example, gsasl_strerror_name(<code>GSASL_OK</code>)
returns the string "GSASL_OK".

        <p>This string can be used to output a diagnostic message to the user.

        <p>This function is one of few in the library that can be used without
a successful call to <code>gsasl_init()</code>.

        <p><strong>Return value:</strong> Returns a pointer to a statically allocated string
containing a string version of the error code <code>err</code>, or <code>NULL</code> if
the error code is not known.

        <p><strong>Since:</strong> 0.2.29
</p></blockquote></div>

<!-- ********************************************************** -->
<!-- ***********************  Examples  *********************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Examples"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Acknowledgements">Acknowledgements</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Error-Handling">Error Handling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">13 Examples</h2>

<p><a name="index-Examples-87"></a>
This chapter contains example code which illustrates how the GNU SASL
Library can be used when writing your own application.

<ul class="menu">
<li><a accesskey="1" href="#Example-1">Example 1</a>: 		SASL client. 
<li><a accesskey="2" href="#Example-2">Example 2</a>: 		SASL client where server send data first. 
<li><a accesskey="3" href="#Example-3">Example 3</a>: 		SASL client, with a choice of mechanism to use. 
<li><a accesskey="4" href="#Example-4">Example 4</a>: 		SASL client, with callback for user info. 
</ul>

<div class="node">
<a name="Example-1"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Example-2">Example 2</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Examples">Examples</a>

</div>

<h3 class="section">13.1 Example 1</h3>

<pre class="example"><pre class="verbatim">     /* client.c --- Example SASL client.
      * Copyright (C) 2004, 2005, 2007, 2009  Simon Josefsson
      *
      * This file is part of GNU SASL.
      *
      * This program is free software: you can redistribute it and/or modify
      * it under the terms of the GNU General Public License as published by
      * the Free Software Foundation, either version 3 of the License, or
      * (at your option) any later version.
      *
      * This program is distributed in the hope that it will be useful,
      * but WITHOUT ANY WARRANTY; without even the implied warranty of
      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      * GNU General Public License for more details.
      *
      * You should have received a copy of the GNU General Public License
      * along with this program.  If not, see &lt;http://www.gnu.org/licenses/>.
      *
      */
     
     #include &lt;stdarg.h>
     #include &lt;stdio.h>
     #include &lt;stdlib.h>
     #include &lt;string.h>
     
     #include &lt;gsasl.h>
     
     static void
     client_authenticate (Gsasl_session * session)
     {
       char buf[BUFSIZ] = "";
       char *p;
       int rc;
     
       /* This loop mimics a protocol where the client send data first. */
     
       do
         {
           /* Generate client output. */
           rc = gsasl_step64 (session, buf, &amp;p);
     
           if (rc == GSASL_NEEDS_MORE || rc == GSASL_OK)
             {
               /* If sucessful, print it. */
               printf ("Output:\n%s\n", p);
               free (p);
             }
     
           if (rc == GSASL_NEEDS_MORE)
             {
               /* If the client need more data from server, get it here. */
               printf ("Input base64 encoded data from server:\n");
               fgets (buf, sizeof (buf) - 1, stdin);
               if (buf[strlen (buf) - 1] == '\n')
                 buf[strlen (buf) - 1] = '\0';
             }
         }
       while (rc == GSASL_NEEDS_MORE);
     
       printf ("\n");
     
       if (rc != GSASL_OK)
         {
           printf ("Authentication error (%d): %s\n", rc, gsasl_strerror (rc));
           return;
         }
     
       /* The client is done.  Here you would typically check if the server
          let the client in.  If not, you could try again. */
     
       printf ("If server accepted us, we're done.\n");
     }
     
     static void
     client (Gsasl * ctx)
     {
       Gsasl_session *session;
       const char *mech = "PLAIN";
       int rc;
     
       /* Create new authentication session. */
       if ((rc = gsasl_client_start (ctx, mech, &amp;session)) != GSASL_OK)
         {
           printf ("Cannot initialize client (%d): %s\n", rc, gsasl_strerror (rc));
           return;
         }
     
       /* Set username and password in session handle.  This info will be
          lost when this session is deallocated below.  */
       gsasl_property_set (session, GSASL_AUTHID, "jas");
       gsasl_property_set (session, GSASL_PASSWORD, "secret");
     
       /* Do it. */
       client_authenticate (session);
     
       /* Cleanup. */
       gsasl_finish (session);
     }
     
     int
     main (int argc, char *argv[])
     {
       Gsasl *ctx = NULL;
       int rc;
     
       /* Initialize library. */
       if ((rc = gsasl_init (&amp;ctx)) != GSASL_OK)
         {
           printf ("Cannot initialize libgsasl (%d): %s", rc, gsasl_strerror (rc));
           return 1;
         }
     
       /* Do it. */
       client (ctx);
     
       /* Cleanup. */
       gsasl_done (ctx);
     
       return 0;
     }
</pre></pre>
<div class="node">
<a name="Example-2"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Example-3">Example 3</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Example-1">Example 1</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Examples">Examples</a>

</div>

<h3 class="section">13.2 Example 2</h3>

<pre class="example"><pre class="verbatim">     /* client-serverfirst.c --- Example SASL client, where server send data first.
      * Copyright (C) 2004, 2005, 2007, 2009  Simon Josefsson
      *
      * This file is part of GNU SASL.
      *
      * This program is free software: you can redistribute it and/or modify
      * it under the terms of the GNU General Public License as published by
      * the Free Software Foundation, either version 3 of the License, or
      * (at your option) any later version.
      *
      * This program is distributed in the hope that it will be useful,
      * but WITHOUT ANY WARRANTY; without even the implied warranty of
      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      * GNU General Public License for more details.
      *
      * You should have received a copy of the GNU General Public License
      * along with this program.  If not, see &lt;http://www.gnu.org/licenses/>.
      *
      */
     
     #include &lt;stdarg.h>
     #include &lt;stdio.h>
     #include &lt;stdlib.h>
     #include &lt;string.h>
     
     #include &lt;gsasl.h>
     
     static void
     client_authenticate (Gsasl_session * session)
     {
       char buf[BUFSIZ] = "";
       char *p;
       int rc;
     
       /* This loop mimics a protocol where the server send data first. */
     
       do
         {
           printf ("Input base64 encoded data from server:\n");
           fgets (buf, sizeof (buf) - 1, stdin);
           if (buf[strlen (buf) - 1] == '\n')
             buf[strlen (buf) - 1] = '\0';
     
           rc = gsasl_step64 (session, buf, &amp;p);
     
           if (rc == GSASL_NEEDS_MORE || rc == GSASL_OK)
             {
               printf ("Output:\n%s\n", p);
               free (p);
             }
         }
       while (rc == GSASL_NEEDS_MORE);
     
       printf ("\n");
     
       if (rc != GSASL_OK)
         {
           printf ("Authentication error (%d): %s\n", rc, gsasl_strerror (rc));
           return;
         }
     
       /* The client is done.  Here you would typically check if the server
          let the client in.  If not, you could try again. */
     
       printf ("If server accepted us, we're done.\n");
     }
     
     static void
     client (Gsasl * ctx)
     {
       Gsasl_session *session;
       const char *mech = "CRAM-MD5";
       int rc;
     
       /* Create new authentication session. */
       if ((rc = gsasl_client_start (ctx, mech, &amp;session)) != GSASL_OK)
         {
           printf ("Cannot initialize client (%d): %s\n", rc, gsasl_strerror (rc));
           return;
         }
     
       /* Set username and password in session handle.  This info will be
          lost when this session is deallocated below.  */
       gsasl_property_set (session, GSASL_AUTHID, "jas");
       gsasl_property_set (session, GSASL_PASSWORD, "secret");
     
       /* Do it. */
       client_authenticate (session);
     
       /* Cleanup. */
       gsasl_finish (session);
     }
     
     int
     main (int argc, char *argv[])
     {
       Gsasl *ctx = NULL;
       int rc;
     
       /* Initialize library. */
       if ((rc = gsasl_init (&amp;ctx)) != GSASL_OK)
         {
           printf ("Cannot initialize libgsasl (%d): %s", rc, gsasl_strerror (rc));
           return 1;
         }
     
       /* Do it. */
       client (ctx);
     
       /* Cleanup. */
       gsasl_done (ctx);
     
       return 0;
     }
</pre></pre>
<div class="node">
<a name="Example-3"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Example-4">Example 4</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Example-2">Example 2</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Examples">Examples</a>

</div>

<h3 class="section">13.3 Example 3</h3>

<pre class="example"><pre class="verbatim">     /* client-mech.c --- Example SASL client, with a choice of mechanism to use.
      * Copyright (C) 2004, 2005, 2007, 2009  Simon Josefsson
      *
      * This file is part of GNU SASL.
      *
      * This program is free software: you can redistribute it and/or modify
      * it under the terms of the GNU General Public License as published by
      * the Free Software Foundation, either version 3 of the License, or
      * (at your option) any later version.
      *
      * This program is distributed in the hope that it will be useful,
      * but WITHOUT ANY WARRANTY; without even the implied warranty of
      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      * GNU General Public License for more details.
      *
      * You should have received a copy of the GNU General Public License
      * along with this program.  If not, see &lt;http://www.gnu.org/licenses/>.
      *
      */
     
     #include &lt;stdarg.h>
     #include &lt;stdio.h>
     #include &lt;stdlib.h>
     #include &lt;string.h>
     
     #include &lt;gsasl.h>
     
     static void
     client_authenticate (Gsasl_session * session)
     {
       char buf[BUFSIZ] = "";
       char *p;
       int rc;
     
       /* This loop mimics a protocol where the server send data first. */
     
       do
         {
           printf ("Input base64 encoded data from server:\n");
           fgets (buf, sizeof (buf) - 1, stdin);
           if (buf[strlen (buf) - 1] == '\n')
             buf[strlen (buf) - 1] = '\0';
     
           rc = gsasl_step64 (session, buf, &amp;p);
     
           if (rc == GSASL_NEEDS_MORE || rc == GSASL_OK)
             {
               printf ("Output:\n%s\n", p);
               free (p);
             }
         }
       while (rc == GSASL_NEEDS_MORE);
     
       printf ("\n");
     
       if (rc != GSASL_OK)
         {
           printf ("Authentication error (%d): %s\n", rc, gsasl_strerror (rc));
           return;
         }
     
       /* The client is done.  Here you would typically check if the server
          let the client in.  If not, you could try again. */
     
       printf ("If server accepted us, we're done.\n");
     }
     
     static const char *
     client_mechanism (Gsasl * ctx)
     {
       static char mech[GSASL_MAX_MECHANISM_SIZE + 1] = "";
       char mechlist[BUFSIZ] = "";
       const char *suggestion;
     
       printf ("Enter list of server supported mechanisms, separate by SPC:\n");
       fgets (mechlist, sizeof (mechlist) - 1, stdin);
     
       suggestion = gsasl_client_suggest_mechanism (ctx, mechlist);
       if (suggestion)
         printf ("Library suggests use of `%s'.\n", suggestion);
     
       printf ("Enter mechanism to use:\n");
       fgets (mech, sizeof (mech) - 1, stdin);
       mech[strlen (mech) - 1] = '\0';
     
       return mech;
     }
     
     static void
     client (Gsasl * ctx)
     {
       Gsasl_session *session;
       const char *mech;
       int rc;
     
       /* Find out which mechanism to use. */
       mech = client_mechanism (ctx);
     
       /* Create new authentication session. */
       if ((rc = gsasl_client_start (ctx, mech, &amp;session)) != GSASL_OK)
         {
           printf ("Cannot initialize client (%d): %s\n", rc, gsasl_strerror (rc));
           return;
         }
     
       /* Set username and password in session handle.  This info will be
          lost when this session is deallocated below.  */
       gsasl_property_set (session, GSASL_AUTHID, "jas");
       gsasl_property_set (session, GSASL_PASSWORD, "secret");
     
       /* Do it. */
       client_authenticate (session);
     
       /* Cleanup. */
       gsasl_finish (session);
     }
     
     int
     main (int argc, char *argv[])
     {
       Gsasl *ctx = NULL;
       int rc;
     
       /* Initialize library. */
       if ((rc = gsasl_init (&amp;ctx)) != GSASL_OK)
         {
           printf ("Cannot initialize libgsasl (%d): %s", rc, gsasl_strerror (rc));
           return 1;
         }
     
       /* Do it. */
       client (ctx);
     
       /* Cleanup. */
       gsasl_done (ctx);
     
       return 0;
     }
</pre></pre>
<div class="node">
<a name="Example-4"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Example-3">Example 3</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Examples">Examples</a>

</div>

<h3 class="section">13.4 Example 4</h3>

<pre class="example"><pre class="verbatim">     /* client-callback.c --- Example SASL client, with callback for user info.
      * Copyright (C) 2004, 2005, 2007, 2009  Simon Josefsson
      *
      * This file is part of GNU SASL.
      *
      * This program is free software: you can redistribute it and/or modify
      * it under the terms of the GNU General Public License as published by
      * the Free Software Foundation, either version 3 of the License, or
      * (at your option) any later version.
      *
      * This program is distributed in the hope that it will be useful,
      * but WITHOUT ANY WARRANTY; without even the implied warranty of
      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
      * GNU General Public License for more details.
      *
      * You should have received a copy of the GNU General Public License
      * along with this program.  If not, see &lt;http://www.gnu.org/licenses/>.
      *
      */
     
     #include &lt;stdarg.h>
     #include &lt;stdio.h>
     #include &lt;stdlib.h>
     #include &lt;string.h>
     
     #include &lt;gsasl.h>
     
     static void
     client_authenticate (Gsasl_session * session)
     {
       char buf[BUFSIZ] = "";
       char *p;
       int rc;
     
       /* This loop mimics a protocol where the server send data first. */
     
       do
         {
           printf ("Input base64 encoded data from server:\n");
           fgets (buf, sizeof (buf) - 1, stdin);
           if (buf[strlen (buf) - 1] == '\n')
             buf[strlen (buf) - 1] = '\0';
     
           rc = gsasl_step64 (session, buf, &amp;p);
     
           if (rc == GSASL_NEEDS_MORE || rc == GSASL_OK)
             {
               printf ("Output:\n%s\n", p);
               free (p);
             }
         }
       while (rc == GSASL_NEEDS_MORE);
     
       printf ("\n");
     
       if (rc != GSASL_OK)
         {
           printf ("Authentication error (%d): %s\n", rc, gsasl_strerror (rc));
           return;
         }
     
       /* The client is done.  Here you would typically check if the server
          let the client in.  If not, you could try again. */
     
       printf ("If server accepted us, we're done.\n");
     }
     
     static void
     client (Gsasl * ctx)
     {
       Gsasl_session *session;
       const char *mech = "SECURID";
       int rc;
     
       /* Create new authentication session. */
       if ((rc = gsasl_client_start (ctx, mech, &amp;session)) != GSASL_OK)
         {
           printf ("Cannot initialize client (%d): %s\n", rc, gsasl_strerror (rc));
           return;
         }
     
       /* Do it. */
       client_authenticate (session);
     
       /* Cleanup. */
       gsasl_finish (session);
     }
     
     static int
     callback (Gsasl * ctx, Gsasl_session * sctx, Gsasl_property prop)
     {
       char buf[BUFSIZ] = "";
       int rc = GSASL_NO_CALLBACK;
     
       /* Get user info from user. */
     
       printf ("Callback invoked, for property %d.\n", prop);
     
       switch (prop)
         {
         case GSASL_PASSCODE:
           printf ("Enter passcode:\n");
           fgets (buf, sizeof (buf) - 1, stdin);
           buf[strlen (buf) - 1] = '\0';
     
           gsasl_property_set (sctx, GSASL_PASSCODE, buf);
           rc = GSASL_OK;
           break;
     
         case GSASL_AUTHID:
           printf ("Enter username:\n");
           fgets (buf, sizeof (buf) - 1, stdin);
           buf[strlen (buf) - 1] = '\0';
     
           gsasl_property_set (sctx, GSASL_AUTHID, buf);
           rc = GSASL_OK;
           break;
     
         default:
           printf ("Unknown property!  Don't worry.\n");
           break;
         }
     
       return rc;
     }
     
     int
     main (int argc, char *argv[])
     {
       Gsasl *ctx = NULL;
       int rc;
     
       /* Initialize library. */
       if ((rc = gsasl_init (&amp;ctx)) != GSASL_OK)
         {
           printf ("Cannot initialize libgsasl (%d): %s", rc, gsasl_strerror (rc));
           return 1;
         }
     
       /* Set the callback handler for the library. */
       gsasl_callback_set (ctx, callback);
     
       /* Do it. */
       client (ctx);
     
       /* Cleanup. */
       gsasl_done (ctx);
     
       return 0;
     }
</pre></pre>
<!-- ********************************************************** -->
<!-- *******************  Acknowledgements  ******************* -->
<!-- ********************************************************** -->
<div class="node">
<a name="Acknowledgements"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Invoking-gsasl">Invoking gsasl</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Examples">Examples</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">14 Acknowledgements</h2>

<p>The makefiles, manuals, etc borrowed much from Libgcrypt written by
Werner Koch.

   <p>Cryptographic functions for some SASL mechanisms uses Libgcrypt by
Werner Koch et al.  The NTLM mechanism uses Libntlm by Grant Edwards
et al, using code from Samba written by Andrew Tridgell, and now
maintained by Simon Josefsson.  The KERBEROS_V5 mechanism uses Shishi
by Simon Josefsson.  The GSSAPI mechanism uses a GSS-API
implementation, such as GSSLib by Simon Josefsson.

   <p>Gnulib is used to simplify portability.

   <p>This manual borrows text from the SASL specification.

<!-- ********************************************************** -->
<!-- ********************  Invoking gsasl  ******************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Invoking-gsasl"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Protocol-Clarifications">Protocol Clarifications</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Acknowledgements">Acknowledgements</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">15 Invoking gsasl</h2>

<p><a name="index-gsasl-88"></a><a name="index-invoking-_0040command_007bgsasl_007d-89"></a><a name="index-command-line-90"></a>

<h2 class="majorheading">Name</h2>

<p>GNU SASL (gsasl) &ndash; Command line interface to libgsasl.

<h2 class="majorheading">Description</h2>

<p><code>gsasl</code> is the main program of GNU SASL.

   <p>This section only lists the commands and options available.

   <p>Mandatory or optional arguments to long options are also mandatory or
optional for any corresponding short options.

<h2 class="majorheading">Commands</h2>

<p><code>gsasl</code> recognizes these commands:

<pre class="verbatim">  -c, --client               Act as client (the default).
      --client-mechanisms    Write name of supported client mechanisms
                             separated by space to stdout.
  -s, --server               Act as server.
      --server-mechanisms    Write name of supported server mechanisms
                             separated by space to stdout.
</pre>

<h2 class="majorheading">Network Options</h2>

<p>Normally the SASL negotiation is performed on the terminal, with
reading from stdin and writing to stdout.  It is also possible to
perform the negotiation with a server over a TCP network connection.

<pre class="verbatim">      --connect=HOSTNAME[:SERVICE]
                             Connect to TCP server and negotiate on stream
                             instead of stdin/stdout. SERVICE is the protocol
                             service, or an integer denoting the port, and
                             defaults to 143 (imap) if not specified. Also sets
                             the --hostname default.
</pre>

<h2 class="majorheading">Miscellaneous Options:</h2>

<p>These parameters affect overall behaviour.

<pre class="verbatim">  -d, --application-data     After authentication, read data from stdin and run
                             it through the mechanism's security layer and
                             print it base64 encoded to stdout. The default is
                             to terminate after authentication.
      --imap                 Use a IMAP-like logon procedure (client only).
                             Also sets the --service default to "imap".
  -m, --mechanism=STRING     Mechanism to use.
      --no-client-first      Disallow client to send data first (client only).
</pre>

<h2 class="majorheading">SASL Mechanism Options</h2>

<p>These options modify the behaviour of the callbacks (see <a href="#Callback-Functions">Callback Functions</a>) in the library.  The default is to query the user on the
terminal.

<pre class="verbatim">  -n, --anonymous-token=STRING    Token for anonymous authentication, usually
                                  mail address (ANONYMOUS only).
  -a, --authentication-id=STRING  Identity of credential owner.
  -z, --authorization-id=STRING   Identity to request service for.
      --disable-cleartext-validate
                             Disable cleartext validate hook, forcing server to
                             prompt for password.
      --enable-cram-md5-validate  Validate CRAM-MD5 challenge and response
                                  interactively.
      --hostname=STRING      Set the name of the server with the requested
                             service.
  -p, --password=STRING      Password for authentication (insecure for
                             non-testing purposes).
      --passcode=NUMBER      Passcode for authentication (SECURID only).
      --quality-of-protection=&lt;qop-auth | qop-int | qop-conf>
                             How application payload will be protected.
                             "qop-auth" means no protection,
                             "qop-int" means integrity protection,
                             "qop-conf" means confidentiality.
                             Currently only used by DIGEST-MD5, where the
                             default is "qop-int".
  -r, --realm=STRING         Realm. Defaults to hostname.
      --service=STRING       Set the requested service name (should be a
                             registered GSSAPI host based service name).
      --service-name=STRING  Set the generic server name in case of a
                             replicated server (DIGEST-MD5 only).
  -x, --maxbuf=NUMBER        Indicate maximum buffer size (DIGEST-MD5 only).
</pre>

<h2 class="majorheading">STARTTLS options</h2>

<pre class="verbatim">      --starttls                Force use of STARTTLS.  The default is to use
                                  STARTTLS when available.  (default=off)
      --no-starttls             Unconditionally disable STARTTLS.
                                  (default=off)
      --x509-ca-file=FILE       File containing one or more X.509 Certificate
                                  Authorities certificates in PEM format, used
                                  to verify the certificate received from the
                                  server.  If not specified, no verification of
                                  the remote server certificate will be done.
      --x509-cert-file=FILE     File containing client X.509 certificate in PEM
                                  format.  Used together with --x509-key-file
                                  to specify the certificate/key pair.
      --x509-key-file=FILE      Private key for the client X.509 certificate in
                                  PEM format.  Used together with
                                  --x509-key-file to specify the
                                  certificate/key pair.
      --priority                Cipher priority string.
</pre>

<h2 class="majorheading">Other Options</h2>

<p>These are some standard parameters.

<pre class="verbatim">  -q, --quiet, --silent      Don't produce any diagnostic output.
  -v, --verbose              Produce verbose output.

  -?, --help                 Give this help list
      --usage                Give a short usage message
  -V, --version              Print program version
</pre>

<!-- ********************************************************** -->
<!-- *******************  Appendices  ************************* -->
<!-- ********************************************************** -->
<div class="node">
<a name="Protocol-Clarifications"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Old-Functions">Old Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-gsasl">Invoking gsasl</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix A Protocol Clarifications</h2>

<p>This appendix contains clarifications to various SASL specification
that we felt were necessary to include, if for nothing else it may
serve as a guide for other implementers that worry about the same
issues.

<ul class="menu">
<li><a accesskey="1" href="#Use-of-SASLprep-in-CRAM_002dMD5">Use of SASLprep in CRAM-MD5</a>
<li><a accesskey="2" href="#Use-of-SASLprep-in-LOGIN">Use of SASLprep in LOGIN</a>
</ul>

<div class="node">
<a name="Use-of-SASLprep-in-CRAM-MD5"></a>
<a name="Use-of-SASLprep-in-CRAM_002dMD5"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Use-of-SASLprep-in-LOGIN">Use of SASLprep in LOGIN</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Protocol-Clarifications">Protocol Clarifications</a>

</div>

<h3 class="section">A.1 Use of SASLprep in CRAM-MD5</h3>

<p>The specification, as of <samp><span class="file">draft-ietf-sasl-crammd5-04.txt</span></samp>, is
silent on whether a SASL server implementation applying
<acronym>SASLprep</acronym> on a password received from an external, non-SASL
specific database (i.e., the passwords are not stored in
<acronym>SASLprep</acronym> form in the database), should set or clear the
AllowUnassigned bit.  The motivation for the AU-bit in
<acronym>StringPrep</acronym>/<acronym>SASLprep</acronym> is for stored vs query
strings.  It could be argued that in this situation the server can
treat the external password either as a stored string (from a
database) or as a query (the server uses the string as a query into
the fixed HMAC-MD5 hash).

   <p>The specification is also unclear on whether clients should set or
clear the AllowUnassigned flag.

   <p>In the server, GNU SASL applies <acronym>SASLprep</acronym> to the password
with the AllowUnassigned bit cleared.

<div class="node">
<a name="Use-of-SASLprep-in-LOGIN"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Use-of-SASLprep-in-CRAM_002dMD5">Use of SASLprep in CRAM-MD5</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Protocol-Clarifications">Protocol Clarifications</a>

</div>

<h3 class="section">A.2 Use of SASLprep in LOGIN</h3>

<p>The non-standard mechanism LOGIN presumably does not support
non-ASCII.  We suggest that the client should send unprepared UTF-8
and that the server apply SASLprep with the AllowUnassigned bit
cleared on the received username and password.

<!-- ********************************************************** -->
<!-- *******************  Old Functions  ********************** -->
<!-- ********************************************************** -->
<div class="node">
<a name="Old-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Copying-Information">Copying Information</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Protocol-Clarifications">Protocol Clarifications</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix B Old Functions</h2>

<p><a name="index-Deprecated-functions-91"></a><a name="index-Obsolete-functions-92"></a>
As GNU SASL is still under heavy development, some API functions have
been found to be less useful.  Those old API functions will be
supported during a transition period.  Refer to the NEWS file to find
out since when a function has been deprecated.

<h4 class="subheading">gsasl_client_listmech</h4>

<p><a name="gsasl_005fclient_005flistmech"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_client_listmech</b> (<var>Gsasl * ctx, char * out, size_t * outlen</var>)<var><a name="index-gsasl_005fclient_005flistmech-93"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>out</var>: output character array.

        <p><var>outlen</var>: input maximum size of output character array, on output
contains actual length of output array.

        <p>Write SASL names, separated by space, of mechanisms supported by
the libgsasl client to the output array.  To find out how large the
output array must be, call this function with a <code>NULL</code> <code>out</code>
parameter.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if successful, or error code.

        <p><strong>Deprecated:</strong> Use <code>gsasl_client_mechlist()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_listmech</h4>

<p><a name="gsasl_005fserver_005flistmech"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_server_listmech</b> (<var>Gsasl * ctx, char * out, size_t * outlen</var>)<var><a name="index-gsasl_005fserver_005flistmech-94"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>out</var>: output character array.

        <p><var>outlen</var>: input maximum size of output character array, on output
contains actual length of output array.

        <p>Write SASL names, separated by space, of mechanisms supported by
the libgsasl server to the output array.  To find out how large the
output array must be, call this function with a <code>NULL</code> <code>out</code>
parameter.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if successful, or error code.

        <p><strong>Deprecated:</strong> Use <code>gsasl_server_mechlist()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_step</h4>

<p><a name="gsasl_005fclient_005fstep"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_client_step</b> (<var>Gsasl_session * sctx, const char * input, size_t input_len, char * output, size_t * output_len</var>)<var><a name="index-gsasl_005fclient_005fstep-95"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl client handle.

        <p><var>input</var>: input byte array.

        <p><var>input_len</var>: size of input byte array.

        <p><var>output</var>: output byte array.

        <p><var>output_len</var>: size of output byte array.

        <p>Perform one step of SASL authentication in client.  This reads data
from server (specified with input and input_len), processes it
(potentially invoking callbacks to the application), and writes
data to server (into variables output and output_len).

        <p>The contents of the output buffer is unspecified if this functions
returns anything other than <code>GSASL_NEEDS_MORE</code>.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if authenticated terminated
successfully, <code>GSASL_NEEDS_MORE</code> if more data is needed, or error
code.

        <p><strong>Deprecated:</strong> Use <code>gsasl_step()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_step</h4>

<p><a name="gsasl_005fserver_005fstep"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_server_step</b> (<var>Gsasl_session * sctx, const char * input, size_t input_len, char * output, size_t * output_len</var>)<var><a name="index-gsasl_005fserver_005fstep-96"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl server handle.

        <p><var>input</var>: input byte array.

        <p><var>input_len</var>: size of input byte array.

        <p><var>output</var>: output byte array.

        <p><var>output_len</var>: size of output byte array.

        <p>Perform one step of SASL authentication in server.  This reads data
from client (specified with input and input_len), processes it
(potentially invoking callbacks to the application), and writes
data to client (into variables output and output_len).

        <p>The contents of the output buffer is unspecified if this functions
returns anything other than <code>GSASL_NEEDS_MORE</code>.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if authenticated terminated
successfully, <code>GSASL_NEEDS_MORE</code> if more data is needed, or error
code.

        <p><strong>Deprecated:</strong> Use <code>gsasl_step()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_step_base64</h4>

<p><a name="gsasl_005fclient_005fstep_005fbase64"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_client_step_base64</b> (<var>Gsasl_session * sctx, const char * b64input, char * b64output, size_t b64output_len</var>)<var><a name="index-gsasl_005fclient_005fstep_005fbase64-97"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl client handle.

        <p><var>b64input</var>: input base64 encoded byte array.

        <p><var>b64output</var>: output base64 encoded byte array.

        <p><var>b64output_len</var>: size of output base64 encoded byte array.

        <p>This is a simple wrapper around <code>gsasl_client_step()</code> that base64
decodes the input and base64 encodes the output.

        <p><strong>Return value:</strong> See <code>gsasl_client_step()</code>.

        <p><strong>Deprecated:</strong> Use <code>gsasl_step64()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_step_base64</h4>

<p><a name="gsasl_005fserver_005fstep_005fbase64"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_server_step_base64</b> (<var>Gsasl_session * sctx, const char * b64input, char * b64output, size_t b64output_len</var>)<var><a name="index-gsasl_005fserver_005fstep_005fbase64-98"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl server handle.

        <p><var>b64input</var>: input base64 encoded byte array.

        <p><var>b64output</var>: output base64 encoded byte array.

        <p><var>b64output_len</var>: size of output base64 encoded byte array.

        <p>This is a simple wrapper around <code>gsasl_server_step()</code> that base64
decodes the input and base64 encodes the output.

        <p><strong>Return value:</strong> See <code>gsasl_server_step()</code>.

        <p><strong>Deprecated:</strong> Use <code>gsasl_step64()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_finish</h4>

<p><a name="gsasl_005fclient_005ffinish"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_client_finish</b> (<var>Gsasl_session * sctx</var>)<var><a name="index-gsasl_005fclient_005ffinish-99"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl client handle.

        <p>Destroy a libgsasl client handle.  The handle must not be used with
other libgsasl functions after this call.

        <p><strong>Deprecated:</strong> Use <code>gsasl_finish()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_finish</h4>

<p><a name="gsasl_005fserver_005ffinish"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_finish</b> (<var>Gsasl_session * sctx</var>)<var><a name="index-gsasl_005fserver_005ffinish-100"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl server handle.

        <p>Destroy a libgsasl server handle.  The handle must not be used with
other libgsasl functions after this call.

        <p><strong>Deprecated:</strong> Use <code>gsasl_finish()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_ctx_get</h4>

<p><a name="gsasl_005fclient_005fctx_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl * <b>gsasl_client_ctx_get</b> (<var>Gsasl_session * sctx</var>)<var><a name="index-gsasl_005fclient_005fctx_005fget-101"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl client handle

        <p>Get the libgsasl handle given a libgsasl client handle.

        <p><strong>Return value:</strong> Returns the libgsasl handle given a libgsasl client handle.

        <p><strong>Deprecated:</strong> This function is not useful with the new 0.2.0 API. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_application_data_set</h4>

<p><a name="gsasl_005fclient_005fapplication_005fdata_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_client_application_data_set</b> (<var>Gsasl_session * sctx, void * application_data</var>)<var><a name="index-gsasl_005fclient_005fapplication_005fdata_005fset-102"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl client handle.

        <p><var>application_data</var>: opaque pointer to application specific data.

        <p>Store application specific data in the libgsasl client handle.  The
application data can be later (for instance, inside a callback) be
retrieved by calling <code>gsasl_client_application_data_get()</code>.  It is
normally used by the application to maintain state between the main
program and the callback.

        <p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_set()</code> or
<code>gsasl_session_hook_set()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_application_data_get</h4>

<p><a name="gsasl_005fclient_005fapplication_005fdata_005fget"></a>

<div class="defun">
&mdash; Function: void * <b>gsasl_client_application_data_get</b> (<var>Gsasl_session * sctx</var>)<var><a name="index-gsasl_005fclient_005fapplication_005fdata_005fget-103"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl client handle.

        <p>Retrieve application specific data from libgsasl client handle. The
application data is set using <code>gsasl_client_application_data_set()</code>. 
It is normally used by the application to maintain state between
the main program and the callback.

        <p><strong>Return value:</strong> Returns the application specific data, or <code>NULL</code>.

        <p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_get()</code> or
<code>gsasl_session_hook_get()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_ctx_get</h4>

<p><a name="gsasl_005fserver_005fctx_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl * <b>gsasl_server_ctx_get</b> (<var>Gsasl_session * sctx</var>)<var><a name="index-gsasl_005fserver_005fctx_005fget-104"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl server handle

        <p>Get the libgsasl handle given a libgsasl server handle.

        <p><strong>Return value:</strong> Returns the libgsasl handle given a libgsasl server handle.

        <p><strong>Deprecated:</strong> This function is not useful with the new 0.2.0 API. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_application_data_set</h4>

<p><a name="gsasl_005fserver_005fapplication_005fdata_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_application_data_set</b> (<var>Gsasl_session * sctx, void * application_data</var>)<var><a name="index-gsasl_005fserver_005fapplication_005fdata_005fset-105"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl server handle.

        <p><var>application_data</var>: opaque pointer to application specific data.

        <p>Store application specific data in the libgsasl server handle.  The
application data can be later (for instance, inside a callback) be
retrieved by calling <code>gsasl_server_application_data_get()</code>.  It is
normally used by the application to maintain state between the main
program and the callback.

        <p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_set()</code> or
<code>gsasl_session_hook_set()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_application_data_get</h4>

<p><a name="gsasl_005fserver_005fapplication_005fdata_005fget"></a>

<div class="defun">
&mdash; Function: void * <b>gsasl_server_application_data_get</b> (<var>Gsasl_session * sctx</var>)<var><a name="index-gsasl_005fserver_005fapplication_005fdata_005fget-106"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl server handle.

        <p>Retrieve application specific data from libgsasl server handle. The
application data is set using <code>gsasl_server_application_data_set()</code>. 
It is normally used by the application to maintain state between
the main program and the callback.

        <p><strong>Return value:</strong> Returns the application specific data, or <code>NULL</code>.

        <p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_get()</code> or
<code>gsasl_session_hook_get()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_randomize</h4>

<p><a name="gsasl_005frandomize"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_randomize</b> (<var>int strong, char * data, size_t datalen</var>)<var><a name="index-gsasl_005frandomize-107"></a></var><br>
<blockquote><p><var>strong</var>: 0 iff operation should not block, non-0 for very strong randomness.

        <p><var>data</var>: output array to be filled with random data.

        <p><var>datalen</var>: size of output array.

        <p>Store cryptographically random data of given size in the provided
buffer.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> iff successful.

        <p><strong>Deprecated:</strong> Use <code>gsasl_random()</code> or <code>gsasl_nonce()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_ctx_get</h4>

<p><a name="gsasl_005fctx_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl * <b>gsasl_ctx_get</b> (<var>Gsasl_session * sctx</var>)<var><a name="index-gsasl_005fctx_005fget-108"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl session handle

        <p>Get the libgsasl handle given a libgsasl session handle.

        <p><strong>Return value:</strong> Returns the libgsasl handle given a libgsasl session handle.

        <p><strong>Deprecated:</strong> This function is not useful with the new 0.2.0 API. 
</p></blockquote></div>

<h4 class="subheading">gsasl_encode_inline</h4>

<p><a name="gsasl_005fencode_005finline"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_encode_inline</b> (<var>Gsasl_session * sctx, const char * input, size_t input_len, char * output, size_t * output_len</var>)<var><a name="index-gsasl_005fencode_005finline-109"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl session handle.

        <p><var>input</var>: input byte array.

        <p><var>input_len</var>: size of input byte array.

        <p><var>output</var>: output byte array.

        <p><var>output_len</var>: size of output byte array.

        <p>Encode data according to negotiated SASL mechanism.  This might mean
that data is integrity or privacy protected.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if encoding was successful,
otherwise an error code.

        <p><strong>Deprecated:</strong> Use <code>gsasl_encode()</code> instead.

        <p><strong>Since:</strong> 0.2.0
</p></blockquote></div>

<h4 class="subheading">gsasl_decode_inline</h4>

<p><a name="gsasl_005fdecode_005finline"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_decode_inline</b> (<var>Gsasl_session * sctx, const char * input, size_t input_len, char * output, size_t * output_len</var>)<var><a name="index-gsasl_005fdecode_005finline-110"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl session handle.

        <p><var>input</var>: input byte array.

        <p><var>input_len</var>: size of input byte array.

        <p><var>output</var>: output byte array.

        <p><var>output_len</var>: size of output byte array.

        <p>Decode data according to negotiated SASL mechanism.  This might mean
that data is integrity or privacy protected.

        <p><strong>Return value:</strong> Returns <code>GSASL_OK</code> if encoding was successful,
otherwise an error code.

        <p><strong>Deprecated:</strong> Use <code>gsasl_decode()</code> instead.

        <p><strong>Since:</strong> 0.2.0
</p></blockquote></div>

<h4 class="subheading">gsasl_application_data_set</h4>

<p><a name="gsasl_005fapplication_005fdata_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_application_data_set</b> (<var>Gsasl * ctx, void * appdata</var>)<var><a name="index-gsasl_005fapplication_005fdata_005fset-111"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>appdata</var>: opaque pointer to application specific data.

        <p>Store application specific data in the libgsasl handle.  The
application data can be later (for instance, inside a callback) be
retrieved by calling <code>gsasl_application_data_get()</code>.  It is normally
used by the application to maintain state between the main program
and the callback.

        <p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_set()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_application_data_get</h4>

<p><a name="gsasl_005fapplication_005fdata_005fget"></a>

<div class="defun">
&mdash; Function: void * <b>gsasl_application_data_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fapplication_005fdata_005fget-112"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Retrieve application specific data from libgsasl handle. The
application data is set using <code>gsasl_application_data_set()</code>.  It is
normally used by the application to maintain state between the main
program and the callback.

        <p><strong>Return value:</strong> Returns the application specific data, or <code>NULL</code>.

        <p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_get()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_appinfo_set</h4>

<p><a name="gsasl_005fappinfo_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_appinfo_set</b> (<var>Gsasl_session * sctx, void * appdata</var>)<var><a name="index-gsasl_005fappinfo_005fset-113"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl session handle.

        <p><var>appdata</var>: opaque pointer to application specific data.

        <p>Store application specific data in the libgsasl session handle. 
The application data can be later (for instance, inside a callback)
be retrieved by calling <code>gsasl_appinfo_get()</code>.  It is normally used
by the application to maintain state between the main program and
the callback.

        <p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_set()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_appinfo_get</h4>

<p><a name="gsasl_005fappinfo_005fget"></a>

<div class="defun">
&mdash; Function: void * <b>gsasl_appinfo_get</b> (<var>Gsasl_session * sctx</var>)<var><a name="index-gsasl_005fappinfo_005fget-114"></a></var><br>
<blockquote><p><var>sctx</var>: libgsasl session handle.

        <p>Retrieve application specific data from libgsasl session
handle. The application data is set using <code>gsasl_appinfo_set()</code>.  It
is normally used by the application to maintain state between the
main program and the callback.

        <p><strong>Return value:</strong> Returns the application specific data, or <code>NULL</code>.

        <p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_get()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_suggest_mechanism</h4>

<p><a name="gsasl_005fserver_005fsuggest_005fmechanism"></a>

<div class="defun">
&mdash; Function: const char * <b>gsasl_server_suggest_mechanism</b> (<var>Gsasl * ctx, const char * mechlist</var>)<var><a name="index-gsasl_005fserver_005fsuggest_005fmechanism-115"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>mechlist</var>: input character array with SASL mechanism names,
separated by invalid characters (e.g. SPC).

        <p>Get name of "best" SASL mechanism supported by the libgsasl server
which is present in the input string.

        <p><strong>Return value:</strong> Returns name of "best" SASL mechanism supported by
the libgsasl server which is present in the input string.

        <p><strong>Deprecated:</strong> This function was never useful, since it is the client
that chose which mechanism to use. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_authentication_id_set</h4>

<p><a name="gsasl_005fclient_005fcallback_005fauthentication_005fid_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_client_callback_authentication_id_set</b> (<var>Gsasl * ctx, Gsasl_client_callback_authentication_id cb</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fauthentication_005fid_005fset-116"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the client to set the
authentication identity.  The function can be later retrieved using
<code>gsasl_client_callback_authentication_id_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_authentication_id_get</h4>

<p><a name="gsasl_005fclient_005fcallback_005fauthentication_005fid_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_client_callback_authentication_id <b>gsasl_client_callback_authentication_id_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fauthentication_005fid_005fget-117"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_client_callback_authentication_id_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_client_callback_authentication_id_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_authorization_id_set</h4>

<p><a name="gsasl_005fclient_005fcallback_005fauthorization_005fid_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_client_callback_authorization_id_set</b> (<var>Gsasl * ctx, Gsasl_client_callback_authorization_id cb</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fauthorization_005fid_005fset-118"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the client to set the
authorization identity.  The function can be later retrieved using
<code>gsasl_client_callback_authorization_id_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_authorization_id_get</h4>

<p><a name="gsasl_005fclient_005fcallback_005fauthorization_005fid_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_client_callback_authorization_id <b>gsasl_client_callback_authorization_id_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fauthorization_005fid_005fget-119"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_client_callback_authorization_id_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_client_callback_authorization_id_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_password_set</h4>

<p><a name="gsasl_005fclient_005fcallback_005fpassword_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_client_callback_password_set</b> (<var>Gsasl * ctx, Gsasl_client_callback_password cb</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fpassword_005fset-120"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the client to set the
password.  The function can be later retrieved using
<code>gsasl_client_callback_password_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_password_get</h4>

<p><a name="gsasl_005fclient_005fcallback_005fpassword_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_client_callback_password <b>gsasl_client_callback_password_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fpassword_005fget-121"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_client_callback_password_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_client_callback_password_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_passcode_set</h4>

<p><a name="gsasl_005fclient_005fcallback_005fpasscode_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_client_callback_passcode_set</b> (<var>Gsasl * ctx, Gsasl_client_callback_passcode cb</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fpasscode_005fset-122"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the client to set the
passcode.  The function can be later retrieved using
<code>gsasl_client_callback_passcode_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_passcode_get</h4>

<p><a name="gsasl_005fclient_005fcallback_005fpasscode_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_client_callback_passcode <b>gsasl_client_callback_passcode_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fpasscode_005fget-123"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_client_callback_passcode_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_client_callback_passcode_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_pin_set</h4>

<p><a name="gsasl_005fclient_005fcallback_005fpin_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_client_callback_pin_set</b> (<var>Gsasl * ctx, Gsasl_client_callback_pin cb</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fpin_005fset-124"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the client to chose a new
pin, possibly suggested by the server, for the SECURID mechanism. 
This is not normally invoked, but only when the server requests it. 
The function can be later retrieved using
<code>gsasl_client_callback_pin_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_pin_get</h4>

<p><a name="gsasl_005fclient_005fcallback_005fpin_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_client_callback_pin <b>gsasl_client_callback_pin_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fpin_005fget-125"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_client_callback_pin_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_client_callback_pin_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_service_set</h4>

<p><a name="gsasl_005fclient_005fcallback_005fservice_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_client_callback_service_set</b> (<var>Gsasl * ctx, Gsasl_client_callback_service cb</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fservice_005fset-126"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the client to set the name
of the service.  The service buffer should be a registered GSSAPI
host-based service name, hostname the name of the server. 
Servicename is used by DIGEST-MD5 and should be the name of generic
server in case of a replicated service. The function can be later
retrieved using <code>gsasl_client_callback_service_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_service_get</h4>

<p><a name="gsasl_005fclient_005fcallback_005fservice_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_client_callback_service <b>gsasl_client_callback_service_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fservice_005fget-127"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_client_callback_service_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_client_callback_service_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_anonymous_set</h4>

<p><a name="gsasl_005fclient_005fcallback_005fanonymous_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_client_callback_anonymous_set</b> (<var>Gsasl * ctx, Gsasl_client_callback_anonymous cb</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fanonymous_005fset-128"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the client to set the
anonymous token, which usually is the users email address.  The
function can be later retrieved using
<code>gsasl_client_callback_anonymous_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_anonymous_get</h4>

<p><a name="gsasl_005fclient_005fcallback_005fanonymous_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_client_callback_anonymous <b>gsasl_client_callback_anonymous_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fanonymous_005fget-129"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_client_callback_anonymous_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_client_callback_anonymous_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_qop_set</h4>

<p><a name="gsasl_005fclient_005fcallback_005fqop_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_client_callback_qop_set</b> (<var>Gsasl * ctx, Gsasl_client_callback_qop cb</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fqop_005fset-130"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the client to determine the
qop to use after looking at what the server offered.  The function
can be later retrieved using <code>gsasl_client_callback_qop_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_qop_get</h4>

<p><a name="gsasl_005fclient_005fcallback_005fqop_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_client_callback_qop <b>gsasl_client_callback_qop_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fqop_005fget-131"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_client_callback_qop_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_client_callback_qop_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_maxbuf_set</h4>

<p><a name="gsasl_005fclient_005fcallback_005fmaxbuf_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_client_callback_maxbuf_set</b> (<var>Gsasl * ctx, Gsasl_client_callback_maxbuf cb</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fmaxbuf_005fset-132"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the client to inform the
server of the largest buffer the client is able to receive when
using the DIGEST-MD5 "auth-int" or "auth-conf" Quality of
Protection (qop). If this directive is missing, the default value
65536 will be assumed.  The function can be later retrieved using
<code>gsasl_client_callback_maxbuf_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_maxbuf_get</h4>

<p><a name="gsasl_005fclient_005fcallback_005fmaxbuf_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_client_callback_maxbuf <b>gsasl_client_callback_maxbuf_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fclient_005fcallback_005fmaxbuf_005fget-133"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_client_callback_maxbuf_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_client_callback_maxbuf_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_realm_set</h4>

<p><a name="gsasl_005fclient_005fcallback_005frealm_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_client_callback_realm_set</b> (<var>Gsasl * ctx, Gsasl_client_callback_realm cb</var>)<var><a name="index-gsasl_005fclient_005fcallback_005frealm_005fset-134"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the client to know which
realm it belongs to.  The realm is used by the server to determine
which username and password to use.  The function can be later
retrieved using <code>gsasl_client_callback_realm_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_client_callback_realm_get</h4>

<p><a name="gsasl_005fclient_005fcallback_005frealm_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_client_callback_realm <b>gsasl_client_callback_realm_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fclient_005fcallback_005frealm_005fget-135"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_client_callback_realm_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_client_callback_realm_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_validate_set</h4>

<p><a name="gsasl_005fserver_005fcallback_005fvalidate_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_callback_validate_set</b> (<var>Gsasl * ctx, Gsasl_server_callback_validate cb</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fvalidate_005fset-136"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the server for deciding if
user is authenticated using authentication identity, authorization
identity and password.  The function can be later retrieved using
<code>gsasl_server_callback_validate_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_validate_get</h4>

<p><a name="gsasl_005fserver_005fcallback_005fvalidate_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_server_callback_validate <b>gsasl_server_callback_validate_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fvalidate_005fget-137"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_server_callback_validate_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_server_callback_validate_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_retrieve_set</h4>

<p><a name="gsasl_005fserver_005fcallback_005fretrieve_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_callback_retrieve_set</b> (<var>Gsasl * ctx, Gsasl_server_callback_retrieve cb</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fretrieve_005fset-138"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the server for deciding if
user is authenticated using authentication identity, authorization
identity and password.  The function can be later retrieved using
<code>gsasl_server_callback_retrieve_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_retrieve_get</h4>

<p><a name="gsasl_005fserver_005fcallback_005fretrieve_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_server_callback_retrieve <b>gsasl_server_callback_retrieve_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fretrieve_005fget-139"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_server_callback_retrieve_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_server_callback_retrieve_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_cram_md5_set</h4>

<p><a name="gsasl_005fserver_005fcallback_005fcram_005fmd5_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_callback_cram_md5_set</b> (<var>Gsasl * ctx, Gsasl_server_callback_cram_md5 cb</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fcram_005fmd5_005fset-140"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the server for deciding if
user is authenticated using CRAM-MD5 challenge and response.  The
function can be later retrieved using
<code>gsasl_server_callback_cram_md5_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_cram_md5_get</h4>

<p><a name="gsasl_005fserver_005fcallback_005fcram_005fmd5_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_server_callback_cram_md5 <b>gsasl_server_callback_cram_md5_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fcram_005fmd5_005fget-141"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_server_callback_cram_md5_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_server_callback_cram_md5_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_digest_md5_set</h4>

<p><a name="gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_callback_digest_md5_set</b> (<var>Gsasl * ctx, Gsasl_server_callback_digest_md5 cb</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fset-142"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the server for retrieving
the secret hash of the username, realm and password for use in the
DIGEST-MD5 mechanism.  The function can be later retrieved using
<code>gsasl_server_callback_digest_md5_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_digest_md5_get</h4>

<p><a name="gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_server_callback_digest_md5 <b>gsasl_server_callback_digest_md5_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fget-143"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_server_callback_digest_md5_set()</code>.

        <p><strong>Return value:</strong> Return the callback earlier set by calling
<code>gsasl_server_callback_digest_md5_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_external_set</h4>

<p><a name="gsasl_005fserver_005fcallback_005fexternal_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_callback_external_set</b> (<var>Gsasl * ctx, Gsasl_server_callback_external cb</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fexternal_005fset-144"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the server for deciding if
user is authenticated out of band.  The function can be later
retrieved using <code>gsasl_server_callback_external_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_external_get</h4>

<p><a name="gsasl_005fserver_005fcallback_005fexternal_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_server_callback_external <b>gsasl_server_callback_external_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fexternal_005fget-145"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_server_callback_external_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_server_callback_external_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_anonymous_set</h4>

<p><a name="gsasl_005fserver_005fcallback_005fanonymous_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_callback_anonymous_set</b> (<var>Gsasl * ctx, Gsasl_server_callback_anonymous cb</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fanonymous_005fset-146"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the server for deciding if
user is permitted anonymous access.  The function can be later
retrieved using <code>gsasl_server_callback_anonymous_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_anonymous_get</h4>

<p><a name="gsasl_005fserver_005fcallback_005fanonymous_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_server_callback_anonymous <b>gsasl_server_callback_anonymous_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fanonymous_005fget-147"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_server_callback_anonymous_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_server_callback_anonymous_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_realm_set</h4>

<p><a name="gsasl_005fserver_005fcallback_005frealm_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_callback_realm_set</b> (<var>Gsasl * ctx, Gsasl_server_callback_realm cb</var>)<var><a name="index-gsasl_005fserver_005fcallback_005frealm_005fset-148"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the server to know which
realm it serves.  The realm is used by the user to determine which
username and password to use.  The function can be later retrieved
using <code>gsasl_server_callback_realm_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_realm_get</h4>

<p><a name="gsasl_005fserver_005fcallback_005frealm_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_server_callback_realm <b>gsasl_server_callback_realm_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fserver_005fcallback_005frealm_005fget-149"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_server_callback_realm_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_server_callback_realm_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_qop_set</h4>

<p><a name="gsasl_005fserver_005fcallback_005fqop_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_callback_qop_set</b> (<var>Gsasl * ctx, Gsasl_server_callback_qop cb</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fqop_005fset-150"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the server to know which
quality of protection it accepts.  The quality of protection
eventually used is selected by the client though.  It is currently
used by the DIGEST-MD5 mechanism. The function can be later
retrieved using <code>gsasl_server_callback_qop_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_qop_get</h4>

<p><a name="gsasl_005fserver_005fcallback_005fqop_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_server_callback_qop <b>gsasl_server_callback_qop_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fqop_005fget-151"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_server_callback_qop_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_server_callback_qop_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_maxbuf_set</h4>

<p><a name="gsasl_005fserver_005fcallback_005fmaxbuf_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_callback_maxbuf_set</b> (<var>Gsasl * ctx, Gsasl_server_callback_maxbuf cb</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fmaxbuf_005fset-152"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the server to inform the
client of the largest buffer the server is able to receive when
using the DIGEST-MD5 "auth-int" or "auth-conf" Quality of
Protection (qop). If this directive is missing, the default value
65536 will be assumed.  The function can be later retrieved using
<code>gsasl_server_callback_maxbuf_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_maxbuf_get</h4>

<p><a name="gsasl_005fserver_005fcallback_005fmaxbuf_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_server_callback_maxbuf <b>gsasl_server_callback_maxbuf_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fmaxbuf_005fget-153"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_server_callback_maxbuf_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_server_callback_maxbuf_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_cipher_set</h4>

<p><a name="gsasl_005fserver_005fcallback_005fcipher_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_callback_cipher_set</b> (<var>Gsasl * ctx, Gsasl_server_callback_cipher cb</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fcipher_005fset-154"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the server to inform the
client of the cipher suites supported.  The DES and 3DES ciphers
must be supported for interoperability.  It is currently used by
the DIGEST-MD5 mechanism.  The function can be later retrieved
using <code>gsasl_server_callback_cipher_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_cipher_get</h4>

<p><a name="gsasl_005fserver_005fcallback_005fcipher_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_server_callback_cipher <b>gsasl_server_callback_cipher_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fcipher_005fget-155"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_server_callback_cipher_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_server_callback_cipher_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_securid_set</h4>

<p><a name="gsasl_005fserver_005fcallback_005fsecurid_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_callback_securid_set</b> (<var>Gsasl * ctx, Gsasl_server_callback_securid cb</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fsecurid_005fset-156"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the server for validating a
user via the SECURID mechanism.  The function should return
GSASL_OK if user authenticated successfully,
GSASL_SECURID_SERVER_NEED_ADDITIONAL_PASSCODE if it wants another
passcode, GSASL_SECURID_SERVER_NEED_NEW_PIN if it wants a PIN
change, or an error.  When (and only when)
GSASL_SECURID_SERVER_NEED_NEW_PIN is returned, suggestpin can be
populated with a PIN code the server suggests, and suggestpinlen
set to the length of the PIN.  The function can be later retrieved
using <code>gsasl_server_callback_securid_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_securid_get</h4>

<p><a name="gsasl_005fserver_005fcallback_005fsecurid_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_server_callback_securid <b>gsasl_server_callback_securid_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fsecurid_005fget-157"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_server_callback_securid_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_server_callback_securid_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_gssapi_set</h4>

<p><a name="gsasl_005fserver_005fcallback_005fgssapi_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_callback_gssapi_set</b> (<var>Gsasl * ctx, Gsasl_server_callback_gssapi cb</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fgssapi_005fset-158"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the server for checking if
a GSSAPI user is authorized for username (by, e.g., calling
<code>krb5_userok()</code>).  The function should return GSASL_OK if the user
should be permitted access, or an error code such as
GSASL_AUTHENTICATION_ERROR on failure.  The function can be later
retrieved using <code>gsasl_server_callback_gssapi_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_gssapi_get</h4>

<p><a name="gsasl_005fserver_005fcallback_005fgssapi_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_server_callback_gssapi <b>gsasl_server_callback_gssapi_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fgssapi_005fget-159"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_server_callback_gssapi_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_server_callback_gssapi_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_service_set</h4>

<p><a name="gsasl_005fserver_005fcallback_005fservice_005fset"></a>

<div class="defun">
&mdash; Function: void <b>gsasl_server_callback_service_set</b> (<var>Gsasl * ctx, Gsasl_server_callback_service cb</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fservice_005fset-160"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p><var>cb</var>: callback function

        <p>Specify the callback function to use in the server to set the name
of the service.  The service buffer should be a registered GSSAPI
host-based service name, hostname the name of the server.  The
function can be later retrieved using
<code>gsasl_server_callback_service_get()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_server_callback_service_get</h4>

<p><a name="gsasl_005fserver_005fcallback_005fservice_005fget"></a>

<div class="defun">
&mdash; Function: Gsasl_server_callback_service <b>gsasl_server_callback_service_get</b> (<var>Gsasl * ctx</var>)<var><a name="index-gsasl_005fserver_005fcallback_005fservice_005fget-161"></a></var><br>
<blockquote><p><var>ctx</var>: libgsasl handle.

        <p>Get the callback earlier set by calling
<code>gsasl_server_callback_service_set()</code>.

        <p><strong>Return value:</strong> Returns the callback earlier set by calling
<code>gsasl_server_callback_service_set()</code>.

        <p><strong>Deprecated:</strong> This function is part of the old callback interface. 
The new interface uses <code>gsasl_callback_set()</code> to set the application
callback, and uses <code>gsasl_callback()</code> or <code>gsasl_property_get()</code> to
invoke the callback for certain properties. 
</p></blockquote></div>

<h4 class="subheading">gsasl_stringprep_nfkc</h4>

<p><a name="gsasl_005fstringprep_005fnfkc"></a>

<div class="defun">
&mdash; Function: char * <b>gsasl_stringprep_nfkc</b> (<var>const char * in, ssize_t len</var>)<var><a name="index-gsasl_005fstringprep_005fnfkc-162"></a></var><br>
<blockquote><p><var>in</var>: a UTF-8 encoded string.

        <p><var>len</var>: length of <code>str</code>, in bytes, or -1 if <code>str</code> is nul-terminated.

        <p>Converts a string into canonical form, standardizing such issues as
whether a character with an accent is represented as a base
character and combining accent or as a single precomposed
character.

        <p>The normalization mode is NFKC (ALL COMPOSE).  It standardizes
differences that do not affect the text content, such as the
above-mentioned accent representation. It standardizes the
"compatibility" characters in Unicode, such as SUPERSCRIPT THREE to
the standard forms (in this case DIGIT THREE). Formatting
information may be lost but for most text operations such
characters should be considered the same. It returns a result with
composed forms rather than a maximally decomposed form.

        <p><strong>Return value:</strong> Return a newly allocated string, that is the NFKC
normalized form of <code>str</code>, o <code>NULL</code> on error.

        <p><strong>Deprecated:</strong> No replacement functionality in GNU SASL, use GNU
Libidn instead.  Note that in SASL, you most likely want to use
SASLprep and not bare NFKC, see <code>gsasl_saslprep()</code>. 
</p></blockquote></div>

<h4 class="subheading">gsasl_stringprep_saslprep</h4>

<p><a name="gsasl_005fstringprep_005fsaslprep"></a>

<div class="defun">
&mdash; Function: char * <b>gsasl_stringprep_saslprep</b> (<var>const char * in, int * stringprep_rc</var>)<var><a name="index-gsasl_005fstringprep_005fsaslprep-163"></a></var><br>
<blockquote><p><var>in</var>: input ASCII or UTF-8 string with data to prepare according to SASLprep.

        <p><var>stringprep_rc</var>: pointer to output variable with stringprep error code,
or <code>NULL</code> to indicate that you don't care about it.

        <p>Process a Unicode string for comparison, according to the
"SASLprep" stringprep profile.  This function is intended to be
used by Simple Authentication and Security Layer (SASL) mechanisms
(such as PLAIN, CRAM-MD5, and DIGEST-MD5) as well as other
protocols exchanging user names and/or passwords.

        <p><strong>Return value:</strong> Return a newly allocated string that is the
"SASLprep" processed form of the input string, or <code>NULL</code> on error,
in which case <code>stringprep_rc</code> contain the stringprep library error
code.

        <p><strong>Deprecated:</strong> Use <code>gsasl_saslprep()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_stringprep_trace</h4>

<p><a name="gsasl_005fstringprep_005ftrace"></a>

<div class="defun">
&mdash; Function: char * <b>gsasl_stringprep_trace</b> (<var>const char * in, int * stringprep_rc</var>)<var><a name="index-gsasl_005fstringprep_005ftrace-164"></a></var><br>
<blockquote><p><var>in</var>: input ASCII or UTF-8 string with data to prepare according to "trace".

        <p><var>stringprep_rc</var>: pointer to output variable with stringprep error code,
or <code>NULL</code> to indicate that you don't care about it.

        <p>Process a Unicode string for use as trace information, according to
the "trace" stringprep profile.  The profile is designed for use
with the SASL ANONYMOUS Mechanism.

        <p><strong>Return value:</strong> Return a newly allocated string that is the "trace"
processed form of the input string, or <code>NULL</code> on error, in which
case <code>stringprep_rc</code> contain the stringprep library error code.

        <p><strong>Deprecated:</strong> No replacement functionality in GNU SASL, use GNU
Libidn instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_md5pwd_get_password</h4>

<p><a name="gsasl_005fmd5pwd_005fget_005fpassword"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_md5pwd_get_password</b> (<var>const char * filename, const char * username, char * key, size_t * keylen</var>)<var><a name="index-gsasl_005fmd5pwd_005fget_005fpassword-165"></a></var><br>
<blockquote><p><var>filename</var>: filename of file containing passwords.

        <p><var>username</var>: username string.

        <p><var>key</var>: output character array.

        <p><var>keylen</var>: input maximum size of output character array, on output
contains actual length of output array.

        <p>Retrieve password for user from specified file.  To find out how
large the output array must be, call this function with out=NULL.

        <p>The file should be on the UoW "MD5 Based Authentication" format,
which means it is in text format with comments denoted by # first
on the line, with user entries looking as "usernameTABpassword". 
This function removes CR and LF at the end of lines before
processing.  TAB, CR, and LF denote ASCII values 9, 13, and 10,
respectively.

        <p><strong>Return value:</strong> Return GSASL_OK if output buffer contains the
password, GSASL_AUTHENTICATION_ERROR if the user could not be
found, or other error code.

        <p><strong>Deprecated:</strong> Use <code>gsasl_simple_getpass()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_base64_encode</h4>

<p><a name="gsasl_005fbase64_005fencode"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_base64_encode</b> (<var>char const * src, size_t srclength, char * target, size_t targsize</var>)<var><a name="index-gsasl_005fbase64_005fencode-166"></a></var><br>
<blockquote><p><var>src</var>: input byte array

        <p><var>srclength</var>: size of input byte array

        <p><var>target</var>: output byte array

        <p><var>targsize</var>: size of output byte array

        <p>Encode data as base64.  Converts characters, three at a time,
starting at src into four base64 characters in the target area
until the entire input buffer is encoded.

        <p><strong>Return value:</strong> Returns the number of data bytes stored at the
target, or -1 on error.

        <p><strong>Deprecated:</strong> Use <code>gsasl_base64_to()</code> instead. 
</p></blockquote></div>

<h4 class="subheading">gsasl_base64_decode</h4>

<p><a name="gsasl_005fbase64_005fdecode"></a>

<div class="defun">
&mdash; Function: int <b>gsasl_base64_decode</b> (<var>char const * src, char * target, size_t targsize</var>)<var><a name="index-gsasl_005fbase64_005fdecode-167"></a></var><br>
<blockquote><p><var>src</var>: input byte array

        <p><var>target</var>: output byte array

        <p><var>targsize</var>: size of output byte array

        <p>Decode Base64 data.  Skips all whitespace anywhere.  Converts
characters, four at a time, starting at (or after) src from Base64
numbers into three 8 bit bytes in the target area.

        <p><strong>Return value:</strong> Returns the number of data bytes stored at the
target, or -1 on error.

        <p><strong>Deprecated:</strong> Use <code>gsasl_base64_from()</code> instead. 
</p></blockquote></div>

<h3 class="section">B.1 Obsolete callback function prototypes</h3>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_client_callback_anonymous</var>) (<var>Gsasl_session_ctx * ctx, char * out, size_t * outlen</var>)<var><a name="index-g_t_0028-168"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>out</var>:  output array with client token.

        <p><var>outlen</var>:  on input the maximum size of the output array, on output
contains the actual size of the output array.

        <p>Type of callback function the application implements.  It should
populate the output array with some input from the user and set the
output array length, and return <code>GSASL_OK</code>, or fail with an error
code.

        <p>If OUT is NULL, the function should only populate the output length
field with the length, and return GSASL_OK.  This usage may be used by
the caller to allocate the proper buffer size.

     </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_server_callback_anonymous</var>) (<var>Gsasl_session_ctx * ctx, const char * token</var>)<var><a name="index-g_t_0028-169"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>ctx</var>:  output array with client token.

        <p><var>ctx</var>:  on input the maximum size of the output array, on output
contains the actual size of the output array.  If OUT is

        <p>Type of callback function the application implements.  It should
return <code>GSASL_OK</code> if user should be permitted anonymous access,
otherwise <code>GSASL_AUTHENTICATION_ERROR</code>.

        </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_client_callback_authentication_id</var>) (<var>Gsasl_session_ctx * ctx, char * out, size_t * outlen</var>)<var><a name="index-g_t_0028-170"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>out</var>:  output array with authentication identity.

        <p><var>outlen</var>:  on input the maximum size of the output array, on output
contains the actual size of the output array.

        <p>Type of callback function the application implements.  It should
populate the output array with authentiction identity of user and set
the output array length, and return <code>GSASL_OK</code>, or fail with an
error code.  The authentication identity must be encoded in UTF-8, but
need not be normalized in any way.

        <p>If OUT is NULL, the function should only populate the output length
field with the length, and return GSASL_OK.  This usage may be used by
the caller to allocate the proper buffer size.

        </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_client_callback_authorization_id</var>) (<var>Gsasl_session_ctx * ctx, char * out, size_t * outlen</var>)<var><a name="index-g_t_0028-171"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>out</var>:  output array with authorization identity.

        <p><var>outlen</var>:  on input the maximum size of the output array, on output
contains the actual size of the output array.

        <p>Type of callback function the application implements.  It should
populate the output array with authorization identity of user and set
the output array length, and return <code>GSASL_OK</code>, or fail with an
error code. The authorization identity must be encoded in UTF-8, but
need not be normalized in any way.

        <p>If OUT is NULL, the function should only populate the output length
field with the length, and return GSASL_OK.  This usage may be used by
the caller to allocate the proper buffer size.

        </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_client_callback_service</var>) (<var>Gsasl_session_ctx * ctx, char * service, size_t * servicelen, char * hostname, size_t * hostnamelen, char * servicename, size_t * servicenamelen</var>)<var><a name="index-g_t_0028-172"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>service</var>:  output array with name of service.

        <p><var>servicelen</var>: on input the maximum size of the service output array,
on output contains the actual size of the service output array.

        <p><var>hostname</var>:  output array with hostname of server.

        <p><var>hostnamelen</var>: on input the maximum size of the hostname output
array, on output contains the actual size of the hostname output
array.

        <p><var>servicename</var>: output array with generic name of server in case of
replication (DIGEST-MD5 only).

        <p><var>servicenamelen</var>: on input the maximum size of the servicename
output array, on output contains the actual size of the servicename
output array.

        <p>Type of callback function the application implements.  It should
retrieve the service (which should be a registered GSSAPI host based
service name, such as &ldquo;imap&rdquo;) on the server, hostname of server
(usually canoncial DNS hostname) and optionally generic service name
of server in case of replication (e.g. &ldquo;mail.example.org&rdquo; when the
hostname is &ldquo;mx42.example.org&rdquo;, see the RFC 2831 for more
information).  It should return GSASL_OK, or an error such as
GSASL_AUTHENTICATION_ERROR if it fails.

        <p>If SERVICE, HOSTNAME or SERVICENAME is NULL, the function should only
populate SERVICELEN, HOSTNAMELEN or SERVICENAMELEN with the output
length of the respective field, and return GSASL_OK.  This usage may
be used by the caller to allocate the proper buffer size. 
Furthermore, SERVICENAMELEN may also be NULL, indicating that the
mechanism is not interested in this field.

        </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_server_callback_cram_md5</var>) (<var>Gsasl_session_ctx * ctx, char * username, char * challenge, char * response</var>)<var><a name="index-g_t_0028-173"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>username</var>:  input array with username.

        <p><var>challenge</var>:  input array with CRAM-MD5 challenge.

        <p><var>response</var>:  input array with CRAM-MD5 response.

        <p>Type of callback function the application implements.  It should
return GSASL_OK if and only if the validation of the provided
credential was succesful.  GSASL_AUTHENTICATION_ERROR is a good
failure if authentication failed, but any available return code may be
used.

        </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_server_callback_digest_md5</var>) (<var>Gsasl_session_ctx * ctx, char * username, char * realm, char * secrethash</var>)<var><a name="index-g_t_0028-174"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>username</var>:  input array with authentication identity of user.

        <p><var>realm</var>:  input array with realm of user.

        <p><var>secrethash</var>: output array that should contain hash of username,
realm and password as described for the DIGEST-MD5 mechanism.

        <p>Type of callback function the application implements.  It should
retrieve the secret hash for the given user in given realm and return
GSASL_OK, or an error such as GSASL_AUTHENTICATION_ERROR if it fails. 
The secrethash buffer is guaranteed to have size for the fixed length
MD5 hash.

        </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_server_callback_external</var>) (<var>Gsasl_session_ctx * ctx</var>)<var><a name="index-g_t_0028-175"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p>Type of callback function the application implements.  It should
return <code>GSASL_OK</code> if user is authenticated by out of band means,
otherwise <code>GSASL_AUTHENTICATION_ERROR</code>.

        </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_server_callback_gssapi</var>) (<var>Gsasl_session_ctx * ctx, char * clientname, char * authentication_id</var>)<var><a name="index-g_t_0028-176"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>clientname</var>:  input array with GSSAPI client name.

        <p><var>authentication_id</var>:  input array with authentication identity.

        <p>Type of callback function the application implements.  It should
return GSASL_OK if and only if the GSSAPI user is authorized to log on
as the given authentication_id.  GSASL_AUTHENTICATION_ERROR is a good
failure if authentication failed, but any available return code may be
used.  This callback is usually implemented in the application as a
call to krb5_kuserok(), such as:

     <pre class="example">          int
          callback_gssapi (Gsasl_session_ctx *ctx,
          		 char *clientname,
          		 char *authentication_id)
          {
            int rc = GSASL_AUTHENTICATION_ERROR;
          
            krb5_principal p;
            krb5_context kcontext;
          
            krb5_init_context (&amp;kcontext);
          
            if (krb5_parse_name (kcontext, clientname, &amp;p) != 0)
              return -1;
            if (krb5_kuserok (kcontext, p, authentication_id))
              rc = GSASL_OK;
            krb5_free_principal (kcontext, p);
          
            return rc;
          }
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_client_callback_passcode</var>) (<var>Gsasl_session_ctx * ctx, char * out, size_t * outlen</var>)<var><a name="index-g_t_0028-177"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>out</var>:  output array with passcode.

        <p><var>outlen</var>:  on input the maximum size of the output array, on output
contains the actual size of the output array.

        <p>Type of callback function the application implements.  It should
populate the output array with passcode of user and set the output
array length, and return <code>GSASL_OK</code>, or fail with an error code.

        <p>If OUT is NULL, the function should only populate the output length
field with the length, and return GSASL_OK.  This usage may be used by
the caller to allocate the proper buffer size.

        </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_client_callback_password</var>) (<var>Gsasl_session_ctx * ctx, char * out, size_t * outlen</var>)<var><a name="index-g_t_0028-178"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>out</var>:  output array with password.

        <p><var>outlen</var>:  on input the maximum size of the output array, on output
contains the actual size of the output array.

        <p>Type of callback function the application implements.  It should
populate the output array with password of user and set the output
array length, and return <code>GSASL_OK</code>, or fail with an error
code. The password must be encoded in UTF-8, but need not be
normalized in any way.

        <p>If OUT is NULL, the function should only populate the output length
field with the length, and return GSASL_OK.  This usage may be used by
the caller to allocate the proper buffer size.

        </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_server_callback_retrieve</var>) (<var>Gsasl_session_ctx * ctx, char * authentication_id, char * authorization_id, char * realm, char * key, size_t * keylen</var>)<var><a name="index-g_t_0028-179"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>authentication_id</var>:  input array with authentication identity.

        <p><var>authorization_id</var>:  input array with authorization identity, or NULL.

        <p><var>realm</var>:  input array with realm of user, or NULL.

        <p><var>key</var>:  output array with key for authentication identity.

        <p><var>keylen</var>: on input the maximum size of the key output array, on
output contains the actual size of the key output array.

        <p>Type of callback function the application implements.  It should
retrieve the password for the indicated user and return GSASL_OK, or
an error code such as GSASL_AUTHENTICATION_ERROR.  The key must be
encoded in UTF-8, but need not be normalized in any way.

        <p>If KEY is NULL, the function should only populate the KEYLEN output
length field with the length, and return GSASL_OK.  This usage may be
used by the caller to allocate the proper buffer size.

        </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_server_callback_validate</var>) (<var>Gsasl_session_ctx * ctx, char * authentication_id, char * authorization_id, char * passcode, char * pin, char * suggestpin, size_t * suggestpinlen</var>)<var><a name="index-g_t_0028-180"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>authorization_id</var>:  input array with authorization identity.

        <p><var>authentication_id</var>:  input array with authentication identity.

        <p><var>passcode</var>:  input array with passcode.

        <p><var>pin</var>:  input array with new pin (this may be NULL).

        <p><var>suggestpin</var>:  output array with new suggested PIN.

        <p><var>suggestpinlen</var>: on input the maximum size of the output array, on
output contains the actual size of the output array.

        <p>Type of callback function the application implements.  It should
return GSASL_OK if and only if the validation of the provided
credential was succesful.  GSASL_AUTHENTICATION_ERROR is a good
failure if authentication failed, but any available return code may be
used.

        <p>Two SECURID specific error codes also exists.  The function can return
GSASL_SECURID_SERVER_NEED_ADDITIONAL_PASSCODE to request that the
client generate a new passcode.  It can also return
GSASL_SECURID_SERVER_NEED_NEW_PIN to request that the client generate
a new PIN.  If the server wishes to suggest a new PIN it can populate
the SUGGESTPIN field.

        <p>If SUGGESTPIN is NULL, the function should only populate the output
length field with the length, and return GSASL_OK.  This usage may be
used by the caller to allocate the proper buffer size.

        </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_server_callback_service</var>) (<var>Gsasl_session_ctx * ctx, char * service, size_t * servicelen, char * hostname, size_t * hostnamelen</var>)<var><a name="index-g_t_0028-181"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>service</var>:  output array with name of service.

        <p><var>servicelen</var>: on input the maximum size of the service output array,
on output contains the actual size of the service output array.

        <p><var>hostname</var>:  output array with hostname of server.

        <p><var>hostnamelen</var>: on input the maximum size of the hostname output
array, on output contains the actual size of the hostname output
array.

        <p>Type of callback function the application implements.  It should
retrieve the service (which should be a registered GSSAPI host based
service name, such as &ldquo;imap&rdquo;) the server provides and hostname of
server (usually canoncial DNS hostname).  It should return GSASL_OK,
or an error such as GSASL_AUTHENTICATION_ERROR if it fails.

        <p>If SERVICE or HOSTNAME is NULL, the function should only populate
SERVICELEN or HOSTNAMELEN with the output length of the respective
field, and return GSASL_OK.  This usage may be used by the caller to
allocate the proper buffer size.

        </blockquote></div>

<div class="defun">
&mdash; Prototype: int <b>(</b><var>*Gsasl_server_callback_validate</var>) (<var>Gsasl_session_ctx * ctx, char * authorization_id, char * authentication_id, char * password</var>)<var><a name="index-g_t_0028-182"></a></var><br>
<blockquote>
        <p><var>ctx</var>:  libgsasl handle.

        <p><var>authorization_id</var>:  input array with authorization identity.

        <p><var>authentication_id</var>:  input array with authentication identity.

        <p><var>password</var>:  input array with password.

        <p>Type of callback function the application implements.  It should
return GSASL_OK if and only if the validation of the provided
credential was succesful.  GSASL_AUTHENTICATION_ERROR is a good
failure if authentication failed, but any available return code may be
used.

        </blockquote></div>

<div class="node">
<a name="Copying-Information"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Concept-Index">Concept Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Old-Functions">Old Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix C Copying Information</h2>

<ul class="menu">
<li><a accesskey="1" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>:    License for copying this manual. 
<li><a accesskey="2" href="#GNU-LGPL">GNU LGPL</a>:                          License for copying the library. 
<li><a accesskey="3" href="#GNU-GPL">GNU GPL</a>:                           License for copying the programs. 
</ul>

<div class="node">
<a name="GNU-Free-Documentation-License"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#GNU-LGPL">GNU LGPL</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Copying-Information">Copying Information</a>

</div>

<h3 class="appendixsec">C.1 GNU Free Documentation License</h3>

<p><a name="index-FDL_002c-GNU-Free-Documentation-License-183"></a>

<!-- The GNU Free Documentation License. -->
<div align="center">Version 1.3, 3 November 2008</div>

<!-- This file is intended to be included within another document, -->
<!-- hence no sectioning command or @node. -->
<pre class="display">     Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
     <a href="http://fsf.org/">http://fsf.org/</a>
     
     Everyone is permitted to copy and distribute verbatim copies
     of this license document, but changing it is not allowed.
</pre>
     <ol type=1 start=0>
<li>PREAMBLE

     <p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <dfn>free</dfn> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially. 
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.

     <p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

     <p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.

     <li>APPLICABILITY AND DEFINITIONS

     <p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.

     <p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

     <p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

     <p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.

     <p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.

     <p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent. 
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.

     <p>Examples of suitable formats for Transparent copies include plain
<span class="sc">ascii</span> without markup, Texinfo input format, LaTeX input
format, <acronym>SGML</acronym> or <acronym>XML</acronym> using a publicly available
<acronym>DTD</acronym>, and standard-conforming simple <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> designed for human modification.  Examples
of transparent image formats include <acronym>PNG</acronym>, <acronym>XCF</acronym> and
<acronym>JPG</acronym>.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, <acronym>SGML</acronym> or
<acronym>XML</acronym> for which the <acronym>DTD</acronym> and/or processing tools are
not generally available, and the machine-generated <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> produced by some word processors for
output purposes only.

     <p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.

     <p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.

     <p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.

     <p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.

     <li>VERBATIM COPYING

     <p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

     <p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.

     <li>COPYING IN QUANTITY

     <p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document's license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition. 
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

     <p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

     <p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material. 
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.

     <p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.

     <li>MODIFICATIONS

     <p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

          <ol type=A start=1>
<li>Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

          <li>List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

          <li>State on the Title page the name of the publisher of the
Modified Version, as the publisher.

          <li>Preserve all the copyright notices of the Document.

          <li>Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

          <li>Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

          <li>Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document's license notice.

          <li>Include an unaltered copy of this License.

          <li>Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

          <li>Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section. 
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

          <li>For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

          <li>Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

          <li>Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

          <li>Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

          <li>Preserve any Warranty Disclaimers.
          </ol>

     <p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice. 
These titles must be distinct from any other section titles.

     <p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

     <p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

     <p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.

     <li>COMBINING DOCUMENTS

     <p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.

     <p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number. 
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

     <p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;

     <li>COLLECTIONS OF DOCUMENTS

     <p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.

     <p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.

     <li>AGGREGATION WITH INDEPENDENT WORKS

     <p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation's users beyond what the individual works permit. 
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.

     <p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document's Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form. 
Otherwise they must appear on printed covers that bracket the whole
aggregate.

     <li>TRANSLATION

     <p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4. 
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.

     <p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.

     <li>TERMINATION

     <p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.

     <p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.

     <p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.

     <p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.

     <li>FUTURE REVISIONS OF THIS LICENSE

     <p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.

     <p>Each version of the License is given a distinguishing version number. 
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy's public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.

     <li>RELICENSING

     <p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.

     <p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.

     <p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.

     <p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.

     <p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.

        </ol>

<h3 class="heading">ADDENDUM: How to use this License for your documents</h3>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

<pre class="smallexample">       Copyright (C)  <var>year</var>  <var>your name</var>.
       Permission is granted to copy, distribute and/or modify this document
       under the terms of the GNU Free Documentation License, Version 1.3
       or any later version published by the Free Software Foundation;
       with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
       Texts.  A copy of the license is included in the section entitled ``GNU
       Free Documentation License''.
</pre>
   <p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with<small class="dots">...</small>Texts.&rdquo; line with this:

<pre class="smallexample">         with the Invariant Sections being <var>list their titles</var>, with
         the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
         being <var>list</var>.
</pre>
   <p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.

   <p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.

<!-- Local Variables: -->
<!-- ispell-local-pdict: "ispell-dict" -->
<!-- End: -->
<div class="node">
<a name="GNU-LGPL"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#GNU-GPL">GNU GPL</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Copying-Information">Copying Information</a>

</div>

<h3 class="appendixsec">C.2 GNU Lesser General Public License</h3>

<p><a name="index-LGPL_002c-GNU-Lesser-General-Public-License-184"></a><a name="index-License_002c-GNU-LGPL-185"></a>

<!-- The GNU Lesser General Public License. -->
<div align="center">Version 2.1, February 1999</div>

<!-- This file is intended to be included within another document, -->
<!-- hence no sectioning command or @node. -->
<pre class="display">     Copyright &copy; 1991, 1999 Free Software Foundation, Inc.
     51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA
     
     Everyone is permitted to copy and distribute verbatim copies
     of this license document, but changing it is not allowed.
     
     [This is the first released version of the Lesser GPL.  It also counts
     as the successor of the GNU Library Public License, version 2, hence the
     version number 2.1.]
</pre>
   <h4 class="subheading">Preamble</h4>

<p>The licenses for most software are designed to take away your
freedom to share and change it.  By contrast, the GNU General Public
Licenses are intended to guarantee your freedom to share and change
free software&mdash;to make sure the software is free for all its users.

   <p>This license, the Lesser General Public License, applies to some
specially designated software&mdash;typically libraries&mdash;of the Free
Software Foundation and other authors who decide to use it.  You can use
it too, but we suggest you first think carefully about whether this
license or the ordinary General Public License is the better strategy to
use in any particular case, based on the explanations below.

   <p>When we speak of free software, we are referring to freedom of use,
not price.  Our General Public Licenses are designed to make sure that
you have the freedom to distribute copies of free software (and charge
for this service if you wish); that you receive source code or can get
it if you want it; that you can change the software and use pieces of it
in new free programs; and that you are informed that you can do these
things.

   <p>To protect your rights, we need to make restrictions that forbid
distributors to deny you these rights or to ask you to surrender these
rights.  These restrictions translate to certain responsibilities for
you if you distribute copies of the library or if you modify it.

   <p>For example, if you distribute copies of the library, whether gratis
or for a fee, you must give the recipients all the rights that we gave
you.  You must make sure that they, too, receive or can get the source
code.  If you link other code with the library, you must provide
complete object files to the recipients, so that they can relink them
with the library after making changes to the library and recompiling
it.  And you must show them these terms so they know their rights.

   <p>We protect your rights with a two-step method: (1) we copyright the
library, and (2) we offer you this license, which gives you legal
permission to copy, distribute and/or modify the library.

   <p>To protect each distributor, we want to make it very clear that
there is no warranty for the free library.  Also, if the library is
modified by someone else and passed on, the recipients should know
that what they have is not the original version, so that the original
author's reputation will not be affected by problems that might be
introduced by others.

   <p>Finally, software patents pose a constant threat to the existence of
any free program.  We wish to make sure that a company cannot
effectively restrict the users of a free program by obtaining a
restrictive license from a patent holder.  Therefore, we insist that
any patent license obtained for a version of the library must be
consistent with the full freedom of use specified in this license.

   <p>Most GNU software, including some libraries, is covered by the
ordinary GNU General Public License.  This license, the GNU Lesser
General Public License, applies to certain designated libraries, and
is quite different from the ordinary General Public License.  We use
this license for certain libraries in order to permit linking those
libraries into non-free programs.

   <p>When a program is linked with a library, whether statically or using
a shared library, the combination of the two is legally speaking a
combined work, a derivative of the original library.  The ordinary
General Public License therefore permits such linking only if the
entire combination fits its criteria of freedom.  The Lesser General
Public License permits more lax criteria for linking other code with
the library.

   <p>We call this license the <dfn>Lesser</dfn> General Public License because it
does <em>Less</em> to protect the user's freedom than the ordinary General
Public License.  It also provides other free software developers Less
of an advantage over competing non-free programs.  These disadvantages
are the reason we use the ordinary General Public License for many
libraries.  However, the Lesser license provides advantages in certain
special circumstances.

   <p>For example, on rare occasions, there may be a special need to
encourage the widest possible use of a certain library, so that it becomes
a de-facto standard.  To achieve this, non-free programs must be
allowed to use the library.  A more frequent case is that a free
library does the same job as widely used non-free libraries.  In this
case, there is little to gain by limiting the free library to free
software only, so we use the Lesser General Public License.

   <p>In other cases, permission to use a particular library in non-free
programs enables a greater number of people to use a large body of
free software.  For example, permission to use the GNU C Library in
non-free programs enables many more people to use the whole GNU
operating system, as well as its variant, the GNU/Linux operating
system.

   <p>Although the Lesser General Public License is Less protective of the
users' freedom, it does ensure that the user of a program that is
linked with the Library has the freedom and the wherewithal to run
that program using a modified version of the Library.

   <p>The precise terms and conditions for copying, distribution and
modification follow.  Pay close attention to the difference between a
&ldquo;work based on the library&rdquo; and a &ldquo;work that uses the library&rdquo;.  The
former contains code derived from the library, whereas the latter must
be combined with the library in order to run.

<h4 class="subheading">TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION</h4>

     <ol type=1 start=0>
<li>This License Agreement applies to any software library or other program
which contains a notice placed by the copyright holder or other
authorized party saying it may be distributed under the terms of this
Lesser General Public License (also called &ldquo;this License&rdquo;).  Each
licensee is addressed as &ldquo;you&rdquo;.

     <p>A &ldquo;library&rdquo; means a collection of software functions and/or data
prepared so as to be conveniently linked with application programs
(which use some of those functions and data) to form executables.

     <p>The &ldquo;Library&rdquo;, below, refers to any such software library or work
which has been distributed under these terms.  A &ldquo;work based on the
Library&rdquo; means either the Library or any derivative work under
copyright law: that is to say, a work containing the Library or a
portion of it, either verbatim or with modifications and/or translated
straightforwardly into another language.  (Hereinafter, translation is
included without limitation in the term &ldquo;modification&rdquo;.)

     <p>&ldquo;Source code&rdquo; for a work means the preferred form of the work for
making modifications to it.  For a library, complete source code means
all the source code for all modules it contains, plus any associated
interface definition files, plus the scripts used to control compilation
and installation of the library.

     <p>Activities other than copying, distribution and modification are not
covered by this License; they are outside its scope.  The act of
running a program using the Library is not restricted, and output from
such a program is covered only if its contents constitute a work based
on the Library (independent of the use of the Library in a tool for
writing it).  Whether that is true depends on what the Library does
and what the program that uses the Library does.

     <li>You may copy and distribute verbatim copies of the Library's
complete source code as you receive it, in any medium, provided that
you conspicuously and appropriately publish on each copy an
appropriate copyright notice and disclaimer of warranty; keep intact
all the notices that refer to this License and to the absence of any
warranty; and distribute a copy of this License along with the
Library.

     <p>You may charge a fee for the physical act of transferring a copy,
and you may at your option offer warranty protection in exchange for a
fee.

     <li>You may modify your copy or copies of the Library or any portion
of it, thus forming a work based on the Library, and copy and
distribute such modifications or work under the terms of Section 1
above, provided that you also meet all of these conditions:

          <ol type=a start=1>
<li>The modified work must itself be a software library.

          <li>You must cause the files modified to carry prominent notices
stating that you changed the files and the date of any change.

          <li>You must cause the whole of the work to be licensed at no
charge to all third parties under the terms of this License.

          <li>If a facility in the modified Library refers to a function or a
table of data to be supplied by an application program that uses
the facility, other than as an argument passed when the facility
is invoked, then you must make a good faith effort to ensure that,
in the event an application does not supply such function or
table, the facility still operates, and performs whatever part of
its purpose remains meaningful.

          <p>(For example, a function in a library to compute square roots has
a purpose that is entirely well-defined independent of the
application.  Therefore, Subsection 2d requires that any
application-supplied function or table used by this function must
be optional: if the application does not supply it, the square
root function must still compute square roots.)
          </ol>

     <p>These requirements apply to the modified work as a whole.  If
identifiable sections of that work are not derived from the Library,
and can be reasonably considered independent and separate works in
themselves, then this License, and its terms, do not apply to those
sections when you distribute them as separate works.  But when you
distribute the same sections as part of a whole which is a work based
on the Library, the distribution of the whole must be on the terms of
this License, whose permissions for other licensees extend to the
entire whole, and thus to each and every part regardless of who wrote
it.

     <p>Thus, it is not the intent of this section to claim rights or contest
your rights to work written entirely by you; rather, the intent is to
exercise the right to control the distribution of derivative or
collective works based on the Library.

     <p>In addition, mere aggregation of another work not based on the Library
with the Library (or with a work based on the Library) on a volume of
a storage or distribution medium does not bring the other work under
the scope of this License.

     <li>You may opt to apply the terms of the ordinary GNU General Public
License instead of this License to a given copy of the Library.  To do
this, you must alter all the notices that refer to this License, so
that they refer to the ordinary GNU General Public License, version 2,
instead of to this License.  (If a newer version than version 2 of the
ordinary GNU General Public License has appeared, then you can specify
that version instead if you wish.)  Do not make any other change in
these notices.

     <p>Once this change is made in a given copy, it is irreversible for
that copy, so the ordinary GNU General Public License applies to all
subsequent copies and derivative works made from that copy.

     <p>This option is useful when you wish to copy part of the code of
the Library into a program that is not a library.

     <li>You may copy and distribute the Library (or a portion or
derivative of it, under Section 2) in object code or executable form
under the terms of Sections 1 and 2 above provided that you accompany
it with the complete corresponding machine-readable source code, which
must be distributed under the terms of Sections 1 and 2 above on a
medium customarily used for software interchange.

     <p>If distribution of object code is made by offering access to copy
from a designated place, then offering equivalent access to copy the
source code from the same place satisfies the requirement to
distribute the source code, even though third parties are not
compelled to copy the source along with the object code.

     <li>A program that contains no derivative of any portion of the
Library, but is designed to work with the Library by being compiled or
linked with it, is called a &ldquo;work that uses the Library&rdquo;.  Such a
work, in isolation, is not a derivative work of the Library, and
therefore falls outside the scope of this License.

     <p>However, linking a &ldquo;work that uses the Library&rdquo; with the Library
creates an executable that is a derivative of the Library (because it
contains portions of the Library), rather than a &ldquo;work that uses the
library&rdquo;.  The executable is therefore covered by this License. 
Section 6 states terms for distribution of such executables.

     <p>When a &ldquo;work that uses the Library&rdquo; uses material from a header file
that is part of the Library, the object code for the work may be a
derivative work of the Library even though the source code is not. 
Whether this is true is especially significant if the work can be
linked without the Library, or if the work is itself a library.  The
threshold for this to be true is not precisely defined by law.

     <p>If such an object file uses only numerical parameters, data
structure layouts and accessors, and small macros and small inline
functions (ten lines or less in length), then the use of the object
file is unrestricted, regardless of whether it is legally a derivative
work.  (Executables containing this object code plus portions of the
Library will still fall under Section 6.)

     <p>Otherwise, if the work is a derivative of the Library, you may
distribute the object code for the work under the terms of Section 6. 
Any executables containing that work also fall under Section 6,
whether or not they are linked directly with the Library itself.

     <li>As an exception to the Sections above, you may also combine or
link a &ldquo;work that uses the Library&rdquo; with the Library to produce a
work containing portions of the Library, and distribute that work
under terms of your choice, provided that the terms permit
modification of the work for the customer's own use and reverse
engineering for debugging such modifications.

     <p>You must give prominent notice with each copy of the work that the
Library is used in it and that the Library and its use are covered by
this License.  You must supply a copy of this License.  If the work
during execution displays copyright notices, you must include the
copyright notice for the Library among them, as well as a reference
directing the user to the copy of this License.  Also, you must do one
of these things:

          <ol type=a start=1>
<li>Accompany the work with the complete corresponding
machine-readable source code for the Library including whatever
changes were used in the work (which must be distributed under
Sections 1 and 2 above); and, if the work is an executable linked
with the Library, with the complete machine-readable &ldquo;work that
uses the Library&rdquo;, as object code and/or source code, so that the
user can modify the Library and then relink to produce a modified
executable containing the modified Library.  (It is understood
that the user who changes the contents of definitions files in the
Library will not necessarily be able to recompile the application
to use the modified definitions.)

          <li>Use a suitable shared library mechanism for linking with the Library.  A
suitable mechanism is one that (1) uses at run time a copy of the
library already present on the user's computer system, rather than
copying library functions into the executable, and (2) will operate
properly with a modified version of the library, if the user installs
one, as long as the modified version is interface-compatible with the
version that the work was made with.

          <li>Accompany the work with a written offer, valid for at
least three years, to give the same user the materials
specified in Subsection 6a, above, for a charge no more
than the cost of performing this distribution.

          <li>If distribution of the work is made by offering access to copy
from a designated place, offer equivalent access to copy the above
specified materials from the same place.

          <li>Verify that the user has already received a copy of these
materials or that you have already sent this user a copy.
          </ol>

     <p>For an executable, the required form of the &ldquo;work that uses the
Library&rdquo; must include any data and utility programs needed for
reproducing the executable from it.  However, as a special exception,
the materials to be distributed need not include anything that is
normally distributed (in either source or binary form) with the major
components (compiler, kernel, and so on) of the operating system on
which the executable runs, unless that component itself accompanies the
executable.

     <p>It may happen that this requirement contradicts the license
restrictions of other proprietary libraries that do not normally
accompany the operating system.  Such a contradiction means you cannot
use both them and the Library together in an executable that you
distribute.

     <li>You may place library facilities that are a work based on the
Library side-by-side in a single library together with other library
facilities not covered by this License, and distribute such a combined
library, provided that the separate distribution of the work based on
the Library and of the other library facilities is otherwise
permitted, and provided that you do these two things:

          <ol type=a start=1>
<li>Accompany the combined library with a copy of the same work
based on the Library, uncombined with any other library
facilities.  This must be distributed under the terms of the
Sections above.

          <li>Give prominent notice with the combined library of the fact
that part of it is a work based on the Library, and explaining
where to find the accompanying uncombined form of the same work.
          </ol>

     <li>You may not copy, modify, sublicense, link with, or distribute
the Library except as expressly provided under this License.  Any
attempt otherwise to copy, modify, sublicense, link with, or
distribute the Library is void, and will automatically terminate your
rights under this License.  However, parties who have received copies,
or rights, from you under this License will not have their licenses
terminated so long as such parties remain in full compliance.

     <li>You are not required to accept this License, since you have not
signed it.  However, nothing else grants you permission to modify or
distribute the Library or its derivative works.  These actions are
prohibited by law if you do not accept this License.  Therefore, by
modifying or distributing the Library (or any work based on the
Library), you indicate your acceptance of this License to do so, and
all its terms and conditions for copying, distributing or modifying
the Library or works based on it.

     <li>Each time you redistribute the Library (or any work based on the
Library), the recipient automatically receives a license from the
original licensor to copy, distribute, link with or modify the Library
subject to these terms and conditions.  You may not impose any further
restrictions on the recipients' exercise of the rights granted herein. 
You are not responsible for enforcing compliance by third parties with
this License.

     <li>If, as a consequence of a court judgment or allegation of patent
infringement or for any other reason (not limited to patent issues),
conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot
distribute so as to satisfy simultaneously your obligations under this
License and any other pertinent obligations, then as a consequence you
may not distribute the Library at all.  For example, if a patent
license would not permit royalty-free redistribution of the Library by
all those who receive copies directly or indirectly through you, then
the only way you could satisfy both it and this License would be to
refrain entirely from distribution of the Library.

     <p>If any portion of this section is held invalid or unenforceable under any
particular circumstance, the balance of the section is intended to apply,
and the section as a whole is intended to apply in other circumstances.

     <p>It is not the purpose of this section to induce you to infringe any
patents or other property right claims or to contest validity of any
such claims; this section has the sole purpose of protecting the
integrity of the free software distribution system which is
implemented by public license practices.  Many people have made
generous contributions to the wide range of software distributed
through that system in reliance on consistent application of that
system; it is up to the author/donor to decide if he or she is willing
to distribute software through any other system and a licensee cannot
impose that choice.

     <p>This section is intended to make thoroughly clear what is believed to
be a consequence of the rest of this License.

     <li>If the distribution and/or use of the Library is restricted in
certain countries either by patents or by copyrighted interfaces, the
original copyright holder who places the Library under this License may add
an explicit geographical distribution limitation excluding those countries,
so that distribution is permitted only in or among countries not thus
excluded.  In such case, this License incorporates the limitation as if
written in the body of this License.

     <li>The Free Software Foundation may publish revised and/or new
versions of the Lesser General Public License from time to time. 
Such new versions will be similar in spirit to the present version,
but may differ in detail to address new problems or concerns.

     <p>Each version is given a distinguishing version number.  If the Library
specifies a version number of this License which applies to it and
&ldquo;any later version&rdquo;, you have the option of following the terms and
conditions either of that version or of any later version published by
the Free Software Foundation.  If the Library does not specify a
license version number, you may choose any version ever published by
the Free Software Foundation.

     <li>If you wish to incorporate parts of the Library into other free
programs whose distribution conditions are incompatible with these,
write to the author to ask for permission.  For software which is
copyrighted by the Free Software Foundation, write to the Free
Software Foundation; we sometimes make exceptions for this.  Our
decision will be guided by the two goals of preserving the free status
of all derivatives of our free software and of promoting the sharing
and reuse of software generally.

     <li>BECAUSE THE LIBRARY IS LICENSED FREE OF CHARGE, THERE IS NO
WARRANTY FOR THE LIBRARY, TO THE EXTENT PERMITTED BY APPLICABLE LAW. 
EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
OTHER PARTIES PROVIDE THE LIBRARY &ldquo;AS IS&rdquo; WITHOUT WARRANTY OF ANY
KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE
LIBRARY IS WITH YOU.  SHOULD THE LIBRARY PROVE DEFECTIVE, YOU ASSUME
THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.

     <li>IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN
WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY
AND/OR REDISTRIBUTE THE LIBRARY AS PERMITTED ABOVE, BE LIABLE TO YOU
FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR
CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE
LIBRARY (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
FAILURE OF THE LIBRARY TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF
SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
DAMAGES.
     </ol>

<h4 class="subheading">How to Apply These Terms to Your New Libraries</h4>

<p>If you develop a new library, and you want it to be of the greatest
possible use to the public, we recommend making it free software that
everyone can redistribute and change.  You can do so by permitting
redistribution under these terms (or, alternatively, under the terms of the
ordinary General Public License).

   <p>To apply these terms, attach the following notices to the library.  It is
safest to attach them to the start of each source file to most effectively
convey the exclusion of warranty; and each file should have at least the
&ldquo;copyright&rdquo; line and a pointer to where the full notice is found.

<pre class="smallexample">     <var>one line to give the library's name and an idea of what it does.</var>
     Copyright (C) <var>year</var>  <var>name of author</var>
     
     This library is free software; you can redistribute it and/or modify it
     under the terms of the GNU Lesser General Public License as published by
     the Free Software Foundation; either version 2.1 of the License, or (at
     your option) any later version.
     
     This library is distributed in the hope that it will be useful, but
     WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
     Lesser General Public License for more details.
     
     You should have received a copy of the GNU Lesser General Public
     License along with this library; if not, write to the Free Software
     Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301,
     USA.
</pre>
   <p>Also add information on how to contact you by electronic and paper mail.

   <p>You should also get your employer (if you work as a programmer) or your
school, if any, to sign a &ldquo;copyright disclaimer&rdquo; for the library, if
necessary.  Here is a sample; alter the names:

<pre class="smallexample">     Yoyodyne, Inc., hereby disclaims all copyright interest in the library
     `Frob' (a library for tweaking knobs) written by James Random Hacker.
     
     <var>signature of Ty Coon</var>, 1 April 1990
     Ty Coon, President of Vice
</pre>
   <p>That's all there is to it!

<div class="node">
<a name="GNU-GPL"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#GNU-LGPL">GNU LGPL</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Copying-Information">Copying Information</a>

</div>

<h3 class="appendixsec">C.3 GNU General Public License</h3>

<p><a name="index-GPL_002c-GNU-General-Public-License-186"></a><a name="index-License_002c-GNU-GPL-187"></a>

<!-- The GNU General Public License. -->
<div align="center">Version 3, 29 June 2007</div>

<!-- This file is intended to be included within another document, -->
<!-- hence no sectioning command or @node. -->
<pre class="display">     Copyright &copy; 2007 Free Software Foundation, Inc. <a href="http://fsf.org/">http://fsf.org/</a>
     
     Everyone is permitted to copy and distribute verbatim copies of this
     license document, but changing it is not allowed.
</pre>
   <h3 class="heading">Preamble</h3>

<p>The GNU General Public License is a free, copyleft license for
software and other kinds of works.

   <p>The licenses for most software and other practical works are designed
to take away your freedom to share and change the works.  By contrast,
the GNU General Public License is intended to guarantee your freedom
to share and change all versions of a program&mdash;to make sure it remains
free software for all its users.  We, the Free Software Foundation,
use the GNU General Public License for most of our software; it
applies also to any other work released this way by its authors.  You
can apply it to your programs, too.

   <p>When we speak of free software, we are referring to freedom, not
price.  Our General Public Licenses are designed to make sure that you
have the freedom to distribute copies of free software (and charge for
them if you wish), that you receive source code or can get it if you
want it, that you can change the software or use pieces of it in new
free programs, and that you know you can do these things.

   <p>To protect your rights, we need to prevent others from denying you
these rights or asking you to surrender the rights.  Therefore, you
have certain responsibilities if you distribute copies of the
software, or if you modify it: responsibilities to respect the freedom
of others.

   <p>For example, if you distribute copies of such a program, whether
gratis or for a fee, you must pass on to the recipients the same
freedoms that you received.  You must make sure that they, too,
receive or can get the source code.  And you must show them these
terms so they know their rights.

   <p>Developers that use the GNU GPL protect your rights with two steps:
(1) assert copyright on the software, and (2) offer you this License
giving you legal permission to copy, distribute and/or modify it.

   <p>For the developers' and authors' protection, the GPL clearly explains
that there is no warranty for this free software.  For both users' and
authors' sake, the GPL requires that modified versions be marked as
changed, so that their problems will not be attributed erroneously to
authors of previous versions.

   <p>Some devices are designed to deny users access to install or run
modified versions of the software inside them, although the
manufacturer can do so.  This is fundamentally incompatible with the
aim of protecting users' freedom to change the software.  The
systematic pattern of such abuse occurs in the area of products for
individuals to use, which is precisely where it is most unacceptable. 
Therefore, we have designed this version of the GPL to prohibit the
practice for those products.  If such problems arise substantially in
other domains, we stand ready to extend this provision to those
domains in future versions of the GPL, as needed to protect the
freedom of users.

   <p>Finally, every program is threatened constantly by software patents. 
States should not allow patents to restrict development and use of
software on general-purpose computers, but in those that do, we wish
to avoid the special danger that patents applied to a free program
could make it effectively proprietary.  To prevent this, the GPL
assures that patents cannot be used to render the program non-free.

   <p>The precise terms and conditions for copying, distribution and
modification follow.

<h3 class="heading">TERMS AND CONDITIONS</h3>

     <ol type=1 start=0>
<li>Definitions.

     <p>&ldquo;This License&rdquo; refers to version 3 of the GNU General Public License.

     <p>&ldquo;Copyright&rdquo; also means copyright-like laws that apply to other kinds
of works, such as semiconductor masks.

     <p>&ldquo;The Program&rdquo; refers to any copyrightable work licensed under this
License.  Each licensee is addressed as &ldquo;you&rdquo;.  &ldquo;Licensees&rdquo; and
&ldquo;recipients&rdquo; may be individuals or organizations.

     <p>To &ldquo;modify&rdquo; a work means to copy from or adapt all or part of the work
in a fashion requiring copyright permission, other than the making of
an exact copy.  The resulting work is called a &ldquo;modified version&rdquo; of
the earlier work or a work &ldquo;based on&rdquo; the earlier work.

     <p>A &ldquo;covered work&rdquo; means either the unmodified Program or a work based
on the Program.

     <p>To &ldquo;propagate&rdquo; a work means to do anything with it that, without
permission, would make you directly or secondarily liable for
infringement under applicable copyright law, except executing it on a
computer or modifying a private copy.  Propagation includes copying,
distribution (with or without modification), making available to the
public, and in some countries other activities as well.

     <p>To &ldquo;convey&rdquo; a work means any kind of propagation that enables other
parties to make or receive copies.  Mere interaction with a user
through a computer network, with no transfer of a copy, is not
conveying.

     <p>An interactive user interface displays &ldquo;Appropriate Legal Notices&rdquo; to
the extent that it includes a convenient and prominently visible
feature that (1) displays an appropriate copyright notice, and (2)
tells the user that there is no warranty for the work (except to the
extent that warranties are provided), that licensees may convey the
work under this License, and how to view a copy of this License.  If
the interface presents a list of user commands or options, such as a
menu, a prominent item in the list meets this criterion.

     <li>Source Code.

     <p>The &ldquo;source code&rdquo; for a work means the preferred form of the work for
making modifications to it.  &ldquo;Object code&rdquo; means any non-source form
of a work.

     <p>A &ldquo;Standard Interface&rdquo; means an interface that either is an official
standard defined by a recognized standards body, or, in the case of
interfaces specified for a particular programming language, one that
is widely used among developers working in that language.

     <p>The &ldquo;System Libraries&rdquo; of an executable work include anything, other
than the work as a whole, that (a) is included in the normal form of
packaging a Major Component, but which is not part of that Major
Component, and (b) serves only to enable use of the work with that
Major Component, or to implement a Standard Interface for which an
implementation is available to the public in source code form.  A
&ldquo;Major Component&rdquo;, in this context, means a major essential component
(kernel, window system, and so on) of the specific operating system
(if any) on which the executable work runs, or a compiler used to
produce the work, or an object code interpreter used to run it.

     <p>The &ldquo;Corresponding Source&rdquo; for a work in object code form means all
the source code needed to generate, install, and (for an executable
work) run the object code and to modify the work, including scripts to
control those activities.  However, it does not include the work's
System Libraries, or general-purpose tools or generally available free
programs which are used unmodified in performing those activities but
which are not part of the work.  For example, Corresponding Source
includes interface definition files associated with source files for
the work, and the source code for shared libraries and dynamically
linked subprograms that the work is specifically designed to require,
such as by intimate data communication or control flow between those
subprograms and other parts of the work.

     <p>The Corresponding Source need not include anything that users can
regenerate automatically from other parts of the Corresponding Source.

     <p>The Corresponding Source for a work in source code form is that same
work.

     <li>Basic Permissions.

     <p>All rights granted under this License are granted for the term of
copyright on the Program, and are irrevocable provided the stated
conditions are met.  This License explicitly affirms your unlimited
permission to run the unmodified Program.  The output from running a
covered work is covered by this License only if the output, given its
content, constitutes a covered work.  This License acknowledges your
rights of fair use or other equivalent, as provided by copyright law.

     <p>You may make, run and propagate covered works that you do not convey,
without conditions so long as your license otherwise remains in force. 
You may convey covered works to others for the sole purpose of having
them make modifications exclusively for you, or provide you with
facilities for running those works, provided that you comply with the
terms of this License in conveying all material for which you do not
control copyright.  Those thus making or running the covered works for
you must do so exclusively on your behalf, under your direction and
control, on terms that prohibit them from making any copies of your
copyrighted material outside their relationship with you.

     <p>Conveying under any other circumstances is permitted solely under the
conditions stated below.  Sublicensing is not allowed; section 10
makes it unnecessary.

     <li>Protecting Users' Legal Rights From Anti-Circumvention Law.

     <p>No covered work shall be deemed part of an effective technological
measure under any applicable law fulfilling obligations under article
11 of the WIPO copyright treaty adopted on 20 December 1996, or
similar laws prohibiting or restricting circumvention of such
measures.

     <p>When you convey a covered work, you waive any legal power to forbid
circumvention of technological measures to the extent such
circumvention is effected by exercising rights under this License with
respect to the covered work, and you disclaim any intention to limit
operation or modification of the work as a means of enforcing, against
the work's users, your or third parties' legal rights to forbid
circumvention of technological measures.

     <li>Conveying Verbatim Copies.

     <p>You may convey verbatim copies of the Program's source code as you
receive it, in any medium, provided that you conspicuously and
appropriately publish on each copy an appropriate copyright notice;
keep intact all notices stating that this License and any
non-permissive terms added in accord with section 7 apply to the code;
keep intact all notices of the absence of any warranty; and give all
recipients a copy of this License along with the Program.

     <p>You may charge any price or no price for each copy that you convey,
and you may offer support or warranty protection for a fee.

     <li>Conveying Modified Source Versions.

     <p>You may convey a work based on the Program, or the modifications to
produce it from the Program, in the form of source code under the
terms of section 4, provided that you also meet all of these
conditions:

          <ol type=a start=1>
<li>The work must carry prominent notices stating that you modified it,
and giving a relevant date.

          <li>The work must carry prominent notices stating that it is released
under this License and any conditions added under section 7.  This
requirement modifies the requirement in section 4 to &ldquo;keep intact all
notices&rdquo;.

          <li>You must license the entire work, as a whole, under this License to
anyone who comes into possession of a copy.  This License will
therefore apply, along with any applicable section 7 additional terms,
to the whole of the work, and all its parts, regardless of how they
are packaged.  This License gives no permission to license the work in
any other way, but it does not invalidate such permission if you have
separately received it.

          <li>If the work has interactive user interfaces, each must display
Appropriate Legal Notices; however, if the Program has interactive
interfaces that do not display Appropriate Legal Notices, your work
need not make them do so.
          </ol>

     <p>A compilation of a covered work with other separate and independent
works, which are not by their nature extensions of the covered work,
and which are not combined with it such as to form a larger program,
in or on a volume of a storage or distribution medium, is called an
&ldquo;aggregate&rdquo; if the compilation and its resulting copyright are not
used to limit the access or legal rights of the compilation's users
beyond what the individual works permit.  Inclusion of a covered work
in an aggregate does not cause this License to apply to the other
parts of the aggregate.

     <li>Conveying Non-Source Forms.

     <p>You may convey a covered work in object code form under the terms of
sections 4 and 5, provided that you also convey the machine-readable
Corresponding Source under the terms of this License, in one of these
ways:

          <ol type=a start=1>
<li>Convey the object code in, or embodied in, a physical product
(including a physical distribution medium), accompanied by the
Corresponding Source fixed on a durable physical medium customarily
used for software interchange.

          <li>Convey the object code in, or embodied in, a physical product
(including a physical distribution medium), accompanied by a written
offer, valid for at least three years and valid for as long as you
offer spare parts or customer support for that product model, to give
anyone who possesses the object code either (1) a copy of the
Corresponding Source for all the software in the product that is
covered by this License, on a durable physical medium customarily used
for software interchange, for a price no more than your reasonable
cost of physically performing this conveying of source, or (2) access
to copy the Corresponding Source from a network server at no charge.

          <li>Convey individual copies of the object code with a copy of the written
offer to provide the Corresponding Source.  This alternative is
allowed only occasionally and noncommercially, and only if you
received the object code with such an offer, in accord with subsection
6b.

          <li>Convey the object code by offering access from a designated place
(gratis or for a charge), and offer equivalent access to the
Corresponding Source in the same way through the same place at no
further charge.  You need not require recipients to copy the
Corresponding Source along with the object code.  If the place to copy
the object code is a network server, the Corresponding Source may be
on a different server (operated by you or a third party) that supports
equivalent copying facilities, provided you maintain clear directions
next to the object code saying where to find the Corresponding Source. 
Regardless of what server hosts the Corresponding Source, you remain
obligated to ensure that it is available for as long as needed to
satisfy these requirements.

          <li>Convey the object code using peer-to-peer transmission, provided you
inform other peers where the object code and Corresponding Source of
the work are being offered to the general public at no charge under
subsection 6d.

          </ol>

     <p>A separable portion of the object code, whose source code is excluded
from the Corresponding Source as a System Library, need not be
included in conveying the object code work.

     <p>A &ldquo;User Product&rdquo; is either (1) a &ldquo;consumer product&rdquo;, which means any
tangible personal property which is normally used for personal,
family, or household purposes, or (2) anything designed or sold for
incorporation into a dwelling.  In determining whether a product is a
consumer product, doubtful cases shall be resolved in favor of
coverage.  For a particular product received by a particular user,
&ldquo;normally used&rdquo; refers to a typical or common use of that class of
product, regardless of the status of the particular user or of the way
in which the particular user actually uses, or expects or is expected
to use, the product.  A product is a consumer product regardless of
whether the product has substantial commercial, industrial or
non-consumer uses, unless such uses represent the only significant
mode of use of the product.

     <p>&ldquo;Installation Information&rdquo; for a User Product means any methods,
procedures, authorization keys, or other information required to
install and execute modified versions of a covered work in that User
Product from a modified version of its Corresponding Source.  The
information must suffice to ensure that the continued functioning of
the modified object code is in no case prevented or interfered with
solely because modification has been made.

     <p>If you convey an object code work under this section in, or with, or
specifically for use in, a User Product, and the conveying occurs as
part of a transaction in which the right of possession and use of the
User Product is transferred to the recipient in perpetuity or for a
fixed term (regardless of how the transaction is characterized), the
Corresponding Source conveyed under this section must be accompanied
by the Installation Information.  But this requirement does not apply
if neither you nor any third party retains the ability to install
modified object code on the User Product (for example, the work has
been installed in ROM).

     <p>The requirement to provide Installation Information does not include a
requirement to continue to provide support service, warranty, or
updates for a work that has been modified or installed by the
recipient, or for the User Product in which it has been modified or
installed.  Access to a network may be denied when the modification
itself materially and adversely affects the operation of the network
or violates the rules and protocols for communication across the
network.

     <p>Corresponding Source conveyed, and Installation Information provided,
in accord with this section must be in a format that is publicly
documented (and with an implementation available to the public in
source code form), and must require no special password or key for
unpacking, reading or copying.

     <li>Additional Terms.

     <p>&ldquo;Additional permissions&rdquo; are terms that supplement the terms of this
License by making exceptions from one or more of its conditions. 
Additional permissions that are applicable to the entire Program shall
be treated as though they were included in this License, to the extent
that they are valid under applicable law.  If additional permissions
apply only to part of the Program, that part may be used separately
under those permissions, but the entire Program remains governed by
this License without regard to the additional permissions.

     <p>When you convey a copy of a covered work, you may at your option
remove any additional permissions from that copy, or from any part of
it.  (Additional permissions may be written to require their own
removal in certain cases when you modify the work.)  You may place
additional permissions on material, added by you to a covered work,
for which you have or can give appropriate copyright permission.

     <p>Notwithstanding any other provision of this License, for material you
add to a covered work, you may (if authorized by the copyright holders
of that material) supplement the terms of this License with terms:

          <ol type=a start=1>
<li>Disclaiming warranty or limiting liability differently from the terms
of sections 15 and 16 of this License; or

          <li>Requiring preservation of specified reasonable legal notices or author
attributions in that material or in the Appropriate Legal Notices
displayed by works containing it; or

          <li>Prohibiting misrepresentation of the origin of that material, or
requiring that modified versions of such material be marked in
reasonable ways as different from the original version; or

          <li>Limiting the use for publicity purposes of names of licensors or
authors of the material; or

          <li>Declining to grant rights under trademark law for use of some trade
names, trademarks, or service marks; or

          <li>Requiring indemnification of licensors and authors of that material by
anyone who conveys the material (or modified versions of it) with
contractual assumptions of liability to the recipient, for any
liability that these contractual assumptions directly impose on those
licensors and authors.
          </ol>

     <p>All other non-permissive additional terms are considered &ldquo;further
restrictions&rdquo; within the meaning of section 10.  If the Program as you
received it, or any part of it, contains a notice stating that it is
governed by this License along with a term that is a further
restriction, you may remove that term.  If a license document contains
a further restriction but permits relicensing or conveying under this
License, you may add to a covered work material governed by the terms
of that license document, provided that the further restriction does
not survive such relicensing or conveying.

     <p>If you add terms to a covered work in accord with this section, you
must place, in the relevant source files, a statement of the
additional terms that apply to those files, or a notice indicating
where to find the applicable terms.

     <p>Additional terms, permissive or non-permissive, may be stated in the
form of a separately written license, or stated as exceptions; the
above requirements apply either way.

     <li>Termination.

     <p>You may not propagate or modify a covered work except as expressly
provided under this License.  Any attempt otherwise to propagate or
modify it is void, and will automatically terminate your rights under
this License (including any patent licenses granted under the third
paragraph of section 11).

     <p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.

     <p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.

     <p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, you do not qualify to receive new licenses for the same
material under section 10.

     <li>Acceptance Not Required for Having Copies.

     <p>You are not required to accept this License in order to receive or run
a copy of the Program.  Ancillary propagation of a covered work
occurring solely as a consequence of using peer-to-peer transmission
to receive a copy likewise does not require acceptance.  However,
nothing other than this License grants you permission to propagate or
modify any covered work.  These actions infringe copyright if you do
not accept this License.  Therefore, by modifying or propagating a
covered work, you indicate your acceptance of this License to do so.

     <li>Automatic Licensing of Downstream Recipients.

     <p>Each time you convey a covered work, the recipient automatically
receives a license from the original licensors, to run, modify and
propagate that work, subject to this License.  You are not responsible
for enforcing compliance by third parties with this License.

     <p>An &ldquo;entity transaction&rdquo; is a transaction transferring control of an
organization, or substantially all assets of one, or subdividing an
organization, or merging organizations.  If propagation of a covered
work results from an entity transaction, each party to that
transaction who receives a copy of the work also receives whatever
licenses to the work the party's predecessor in interest had or could
give under the previous paragraph, plus a right to possession of the
Corresponding Source of the work from the predecessor in interest, if
the predecessor has it or can get it with reasonable efforts.

     <p>You may not impose any further restrictions on the exercise of the
rights granted or affirmed under this License.  For example, you may
not impose a license fee, royalty, or other charge for exercise of
rights granted under this License, and you may not initiate litigation
(including a cross-claim or counterclaim in a lawsuit) alleging that
any patent claim is infringed by making, using, selling, offering for
sale, or importing the Program or any portion of it.

     <li>Patents.

     <p>A &ldquo;contributor&rdquo; is a copyright holder who authorizes use under this
License of the Program or a work on which the Program is based.  The
work thus licensed is called the contributor's &ldquo;contributor version&rdquo;.

     <p>A contributor's &ldquo;essential patent claims&rdquo; are all patent claims owned
or controlled by the contributor, whether already acquired or
hereafter acquired, that would be infringed by some manner, permitted
by this License, of making, using, or selling its contributor version,
but do not include claims that would be infringed only as a
consequence of further modification of the contributor version.  For
purposes of this definition, &ldquo;control&rdquo; includes the right to grant
patent sublicenses in a manner consistent with the requirements of
this License.

     <p>Each contributor grants you a non-exclusive, worldwide, royalty-free
patent license under the contributor's essential patent claims, to
make, use, sell, offer for sale, import and otherwise run, modify and
propagate the contents of its contributor version.

     <p>In the following three paragraphs, a &ldquo;patent license&rdquo; is any express
agreement or commitment, however denominated, not to enforce a patent
(such as an express permission to practice a patent or covenant not to
sue for patent infringement).  To &ldquo;grant&rdquo; such a patent license to a
party means to make such an agreement or commitment not to enforce a
patent against the party.

     <p>If you convey a covered work, knowingly relying on a patent license,
and the Corresponding Source of the work is not available for anyone
to copy, free of charge and under the terms of this License, through a
publicly available network server or other readily accessible means,
then you must either (1) cause the Corresponding Source to be so
available, or (2) arrange to deprive yourself of the benefit of the
patent license for this particular work, or (3) arrange, in a manner
consistent with the requirements of this License, to extend the patent
license to downstream recipients.  &ldquo;Knowingly relying&rdquo; means you have
actual knowledge that, but for the patent license, your conveying the
covered work in a country, or your recipient's use of the covered work
in a country, would infringe one or more identifiable patents in that
country that you have reason to believe are valid.

     <p>If, pursuant to or in connection with a single transaction or
arrangement, you convey, or propagate by procuring conveyance of, a
covered work, and grant a patent license to some of the parties
receiving the covered work authorizing them to use, propagate, modify
or convey a specific copy of the covered work, then the patent license
you grant is automatically extended to all recipients of the covered
work and works based on it.

     <p>A patent license is &ldquo;discriminatory&rdquo; if it does not include within the
scope of its coverage, prohibits the exercise of, or is conditioned on
the non-exercise of one or more of the rights that are specifically
granted under this License.  You may not convey a covered work if you
are a party to an arrangement with a third party that is in the
business of distributing software, under which you make payment to the
third party based on the extent of your activity of conveying the
work, and under which the third party grants, to any of the parties
who would receive the covered work from you, a discriminatory patent
license (a) in connection with copies of the covered work conveyed by
you (or copies made from those copies), or (b) primarily for and in
connection with specific products or compilations that contain the
covered work, unless you entered into that arrangement, or that patent
license was granted, prior to 28 March 2007.

     <p>Nothing in this License shall be construed as excluding or limiting
any implied license or other defenses to infringement that may
otherwise be available to you under applicable patent law.

     <li>No Surrender of Others' Freedom.

     <p>If conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot convey
a covered work so as to satisfy simultaneously your obligations under
this License and any other pertinent obligations, then as a
consequence you may not convey it at all.  For example, if you agree
to terms that obligate you to collect a royalty for further conveying
from those to whom you convey the Program, the only way you could
satisfy both those terms and this License would be to refrain entirely
from conveying the Program.

     <li>Use with the GNU Affero General Public License.

     <p>Notwithstanding any other provision of this License, you have
permission to link or combine any covered work with a work licensed
under version 3 of the GNU Affero General Public License into a single
combined work, and to convey the resulting work.  The terms of this
License will continue to apply to the part which is the covered work,
but the special requirements of the GNU Affero General Public License,
section 13, concerning interaction through a network will apply to the
combination as such.

     <li>Revised Versions of this License.

     <p>The Free Software Foundation may publish revised and/or new versions
of the GNU General Public License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.

     <p>Each version is given a distinguishing version number.  If the Program
specifies that a certain numbered version of the GNU General Public
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that numbered version or
of any later version published by the Free Software Foundation.  If
the Program does not specify a version number of the GNU General
Public License, you may choose any version ever published by the Free
Software Foundation.

     <p>If the Program specifies that a proxy can decide which future versions
of the GNU General Public License can be used, that proxy's public
statement of acceptance of a version permanently authorizes you to
choose that version for the Program.

     <p>Later license versions may give you additional or different
permissions.  However, no additional obligations are imposed on any
author or copyright holder as a result of your choosing to follow a
later version.

     <li>Disclaimer of Warranty.

     <p>THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY
APPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT
HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM &ldquo;AS IS&rdquo; WITHOUT
WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND
PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE PROGRAM PROVE
DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR
CORRECTION.

     <li>Limitation of Liability.

     <p>IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR
CONVEYS THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT
NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR
LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM
TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER
PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.

     <li>Interpretation of Sections 15 and 16.

     <p>If the disclaimer of warranty and limitation of liability provided
above cannot be given local legal effect according to their terms,
reviewing courts shall apply local law that most closely approximates
an absolute waiver of all civil liability in connection with the
Program, unless a warranty or assumption of liability accompanies a
copy of the Program in return for a fee.

     </ol>

<h3 class="heading">END OF TERMS AND CONDITIONS</h3>

<h3 class="heading">How to Apply These Terms to Your New Programs</h3>

<p>If you develop a new program, and you want it to be of the greatest
possible use to the public, the best way to achieve this is to make it
free software which everyone can redistribute and change under these
terms.

   <p>To do so, attach the following notices to the program.  It is safest
to attach them to the start of each source file to most effectively
state the exclusion of warranty; and each file should have at least
the &ldquo;copyright&rdquo; line and a pointer to where the full notice is found.

<pre class="smallexample">     <var>one line to give the program's name and a brief idea of what it does.</var>
     Copyright (C) <var>year</var> <var>name of author</var>
     
     This program is free software: you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation, either version 3 of the License, or (at
     your option) any later version.
     
     This program is distributed in the hope that it will be useful, but
     WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
     General Public License for more details.
     
     You should have received a copy of the GNU General Public License
     along with this program.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.
</pre>
   <p>Also add information on how to contact you by electronic and paper mail.

   <p>If the program does terminal interaction, make it output a short
notice like this when it starts in an interactive mode:

<pre class="smallexample">     <var>program</var> Copyright (C) <var>year</var> <var>name of author</var>
     This program comes with ABSOLUTELY NO WARRANTY; for details type &lsquo;<samp><span class="samp">show w</span></samp>&rsquo;.
     This is free software, and you are welcome to redistribute it
     under certain conditions; type &lsquo;<samp><span class="samp">show c</span></samp>&rsquo; for details.
</pre>
   <p>The hypothetical commands &lsquo;<samp><span class="samp">show w</span></samp>&rsquo; and &lsquo;<samp><span class="samp">show c</span></samp>&rsquo; should show
the appropriate parts of the General Public License.  Of course, your
program's commands might be different; for a GUI interface, you would
use an &ldquo;about box&rdquo;.

   <p>You should also get your employer (if you work as a programmer) or school,
if any, to sign a &ldquo;copyright disclaimer&rdquo; for the program, if necessary. 
For more information on this, and how to apply and follow the GNU GPL, see
<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.

   <p>The GNU General Public License does not permit incorporating your
program into proprietary programs.  If your program is a subroutine
library, you may consider it more useful to permit linking proprietary
applications with the library.  If this is what you want to do, use
the GNU Lesser General Public License instead of this License.  But
first, please read <a href="http://www.gnu.org/philosophy/why-not-lgpl.html">http://www.gnu.org/philosophy/why-not-lgpl.html</a>.

<div class="node">
<a name="Function-and-Data-Index"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Concept-Index">Concept Index</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Function and Data Index</h2>

<ul class="index-fn" compact>
<li><a href="#index-g_t_0028-168"><code>(</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl-88"><code>gsasl</code></a>: <a href="#Invoking-gsasl">Invoking gsasl</a></li>
<li><a href="#index-gsasl_005fappinfo_005fget-114"><code>gsasl_appinfo_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fappinfo_005fset-113"><code>gsasl_appinfo_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fapplication_005fdata_005fget-112"><code>gsasl_application_data_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fapplication_005fdata_005fset-111"><code>gsasl_application_data_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fbase64_005fdecode-167"><code>gsasl_base64_decode</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fbase64_005fencode-166"><code>gsasl_base64_encode</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fbase64_005ffrom-75"><code>gsasl_base64_from</code></a>: <a href="#Utilities">Utilities</a></li>
<li><a href="#index-gsasl_005fbase64_005fto-74"><code>gsasl_base64_to</code></a>: <a href="#Utilities">Utilities</a></li>
<li><a href="#index-gsasl_005fcallback-54"><code>gsasl_callback</code></a>: <a href="#Callback-Functions">Callback Functions</a></li>
<li><a href="#index-gsasl_005fcallback_005fhook_005fget-56"><code>gsasl_callback_hook_get</code></a>: <a href="#Callback-Functions">Callback Functions</a></li>
<li><a href="#index-gsasl_005fcallback_005fhook_005fset-55"><code>gsasl_callback_hook_set</code></a>: <a href="#Callback-Functions">Callback Functions</a></li>
<li><a href="#index-gsasl_005fcallback_005fset-53"><code>gsasl_callback_set</code></a>: <a href="#Callback-Functions">Callback Functions</a></li>
<li><a href="#index-gsasl_005fcheck_005fversion-28"><code>gsasl_check_version</code></a>: <a href="#Version-Check">Version Check</a></li>
<li><a href="#index-gsasl_005fclient_005fapplication_005fdata_005fget-103"><code>gsasl_client_application_data_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fapplication_005fdata_005fset-102"><code>gsasl_client_application_data_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fanonymous_005fget-129"><code>gsasl_client_callback_anonymous_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fanonymous_005fset-128"><code>gsasl_client_callback_anonymous_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fauthentication_005fid_005fget-117"><code>gsasl_client_callback_authentication_id_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fauthentication_005fid_005fset-116"><code>gsasl_client_callback_authentication_id_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fauthorization_005fid_005fget-119"><code>gsasl_client_callback_authorization_id_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fauthorization_005fid_005fset-118"><code>gsasl_client_callback_authorization_id_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fmaxbuf_005fget-133"><code>gsasl_client_callback_maxbuf_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fmaxbuf_005fset-132"><code>gsasl_client_callback_maxbuf_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fpasscode_005fget-123"><code>gsasl_client_callback_passcode_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fpasscode_005fset-122"><code>gsasl_client_callback_passcode_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fpassword_005fget-121"><code>gsasl_client_callback_password_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fpassword_005fset-120"><code>gsasl_client_callback_password_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fpin_005fget-125"><code>gsasl_client_callback_pin_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fpin_005fset-124"><code>gsasl_client_callback_pin_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fqop_005fget-131"><code>gsasl_client_callback_qop_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fqop_005fset-130"><code>gsasl_client_callback_qop_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005frealm_005fget-135"><code>gsasl_client_callback_realm_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005frealm_005fset-134"><code>gsasl_client_callback_realm_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fservice_005fget-127"><code>gsasl_client_callback_service_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fcallback_005fservice_005fset-126"><code>gsasl_client_callback_service_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fctx_005fget-101"><code>gsasl_client_ctx_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005ffinish-99"><code>gsasl_client_finish</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005flistmech-93"><code>gsasl_client_listmech</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fmechlist-46"><code>gsasl_client_mechlist</code></a>: <a href="#Global-Functions">Global Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fstart-65"><code>gsasl_client_start</code></a>: <a href="#Session-Functions">Session Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fstep-95"><code>gsasl_client_step</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fstep_005fbase64-97"><code>gsasl_client_step_base64</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fsuggest_005fmechanism-50"><code>gsasl_client_suggest_mechanism</code></a>: <a href="#Global-Functions">Global Functions</a></li>
<li><a href="#index-gsasl_005fclient_005fsupport_005fp-48"><code>gsasl_client_support_p</code></a>: <a href="#Global-Functions">Global Functions</a></li>
<li><a href="#index-gsasl_005fctx_005fget-108"><code>gsasl_ctx_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fdecode-71"><code>gsasl_decode</code></a>: <a href="#Session-Functions">Session Functions</a></li>
<li><a href="#index-gsasl_005fdecode_005finline-110"><code>gsasl_decode_inline</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fdone-45"><code>gsasl_done</code></a>: <a href="#Global-Functions">Global Functions</a></li>
<li><a href="#index-gsasl_005fencode-70"><code>gsasl_encode</code></a>: <a href="#Session-Functions">Session Functions</a></li>
<li><a href="#index-gsasl_005fencode_005finline-109"><code>gsasl_encode_inline</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005ffinish-69"><code>gsasl_finish</code></a>: <a href="#Session-Functions">Session Functions</a></li>
<li><a href="#index-gsasl_005ffree-83"><code>gsasl_free</code></a>: <a href="#Memory-Handling">Memory Handling</a></li>
<li><a href="#index-gsasl_005fhmac_005fmd5-80"><code>gsasl_hmac_md5</code></a>: <a href="#Utilities">Utilities</a></li>
<li><a href="#index-gsasl_005fhmac_005fsha1-82"><code>gsasl_hmac_sha1</code></a>: <a href="#Utilities">Utilities</a></li>
<li><a href="#index-gsasl_005finit-44"><code>gsasl_init</code></a>: <a href="#Global-Functions">Global Functions</a></li>
<li><a href="#index-gsasl_005fmd5-79"><code>gsasl_md5</code></a>: <a href="#Utilities">Utilities</a></li>
<li><a href="#index-gsasl_005fmd5pwd_005fget_005fpassword-165"><code>gsasl_md5pwd_get_password</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fmechanism_005fname-72"><code>gsasl_mechanism_name</code></a>: <a href="#Session-Functions">Session Functions</a></li>
<li><a href="#index-gsasl_005fnonce-77"><code>gsasl_nonce</code></a>: <a href="#Utilities">Utilities</a></li>
<li><a href="#index-gsasl_005fproperty_005ffast-62"><code>gsasl_property_fast</code></a>: <a href="#Property-Functions">Property Functions</a></li>
<li><a href="#index-gsasl_005fproperty_005fget-63"><code>gsasl_property_get</code></a>: <a href="#Property-Functions">Property Functions</a></li>
<li><a href="#index-gsasl_005fproperty_005fset-60"><code>gsasl_property_set</code></a>: <a href="#Property-Functions">Property Functions</a></li>
<li><a href="#index-gsasl_005fproperty_005fset_005fraw-61"><code>gsasl_property_set_raw</code></a>: <a href="#Property-Functions">Property Functions</a></li>
<li><a href="#index-gsasl_005frandom-78"><code>gsasl_random</code></a>: <a href="#Utilities">Utilities</a></li>
<li><a href="#index-gsasl_005frandomize-107"><code>gsasl_randomize</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fregister-51"><code>gsasl_register</code></a>: <a href="#Global-Functions">Global Functions</a></li>
<li><a href="#index-gsasl_005fsaslprep-73"><code>gsasl_saslprep</code></a>: <a href="#Utilities">Utilities</a></li>
<li><a href="#index-gsasl_005fserver_005fapplication_005fdata_005fget-106"><code>gsasl_server_application_data_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fapplication_005fdata_005fset-105"><code>gsasl_server_application_data_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fanonymous_005fget-147"><code>gsasl_server_callback_anonymous_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fanonymous_005fset-146"><code>gsasl_server_callback_anonymous_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fcipher_005fget-155"><code>gsasl_server_callback_cipher_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fcipher_005fset-154"><code>gsasl_server_callback_cipher_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fcram_005fmd5_005fget-141"><code>gsasl_server_callback_cram_md5_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fcram_005fmd5_005fset-140"><code>gsasl_server_callback_cram_md5_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fget-143"><code>gsasl_server_callback_digest_md5_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fset-142"><code>gsasl_server_callback_digest_md5_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fexternal_005fget-145"><code>gsasl_server_callback_external_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fexternal_005fset-144"><code>gsasl_server_callback_external_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fgssapi_005fget-159"><code>gsasl_server_callback_gssapi_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fgssapi_005fset-158"><code>gsasl_server_callback_gssapi_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fmaxbuf_005fget-153"><code>gsasl_server_callback_maxbuf_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fmaxbuf_005fset-152"><code>gsasl_server_callback_maxbuf_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fqop_005fget-151"><code>gsasl_server_callback_qop_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fqop_005fset-150"><code>gsasl_server_callback_qop_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005frealm_005fget-149"><code>gsasl_server_callback_realm_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005frealm_005fset-148"><code>gsasl_server_callback_realm_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fretrieve_005fget-139"><code>gsasl_server_callback_retrieve_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fretrieve_005fset-138"><code>gsasl_server_callback_retrieve_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fsecurid_005fget-157"><code>gsasl_server_callback_securid_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fsecurid_005fset-156"><code>gsasl_server_callback_securid_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fservice_005fget-161"><code>gsasl_server_callback_service_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fservice_005fset-160"><code>gsasl_server_callback_service_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fvalidate_005fget-137"><code>gsasl_server_callback_validate_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fcallback_005fvalidate_005fset-136"><code>gsasl_server_callback_validate_set</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fctx_005fget-104"><code>gsasl_server_ctx_get</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005ffinish-100"><code>gsasl_server_finish</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005flistmech-94"><code>gsasl_server_listmech</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fmechlist-47"><code>gsasl_server_mechlist</code></a>: <a href="#Global-Functions">Global Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fstart-66"><code>gsasl_server_start</code></a>: <a href="#Session-Functions">Session Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fstep-96"><code>gsasl_server_step</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fstep_005fbase64-98"><code>gsasl_server_step_base64</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fsuggest_005fmechanism-115"><code>gsasl_server_suggest_mechanism</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fserver_005fsupport_005fp-49"><code>gsasl_server_support_p</code></a>: <a href="#Global-Functions">Global Functions</a></li>
<li><a href="#index-gsasl_005fsession_005fhook_005fget-58"><code>gsasl_session_hook_get</code></a>: <a href="#Callback-Functions">Callback Functions</a></li>
<li><a href="#index-gsasl_005fsession_005fhook_005fset-57"><code>gsasl_session_hook_set</code></a>: <a href="#Callback-Functions">Callback Functions</a></li>
<li><a href="#index-gsasl_005fsha1-81"><code>gsasl_sha1</code></a>: <a href="#Utilities">Utilities</a></li>
<li><a href="#index-gsasl_005fsimple_005fgetpass-76"><code>gsasl_simple_getpass</code></a>: <a href="#Utilities">Utilities</a></li>
<li><a href="#index-gsasl_005fstep-67"><code>gsasl_step</code></a>: <a href="#Session-Functions">Session Functions</a></li>
<li><a href="#index-gsasl_005fstep64-68"><code>gsasl_step64</code></a>: <a href="#Session-Functions">Session Functions</a></li>
<li><a href="#index-gsasl_005fstrerror-85"><code>gsasl_strerror</code></a>: <a href="#Error-strings">Error strings</a></li>
<li><a href="#index-gsasl_005fstrerror_005fname-86"><code>gsasl_strerror_name</code></a>: <a href="#Error-strings">Error strings</a></li>
<li><a href="#index-gsasl_005fstringprep_005fnfkc-162"><code>gsasl_stringprep_nfkc</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fstringprep_005fsaslprep-163"><code>gsasl_stringprep_saslprep</code></a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-gsasl_005fstringprep_005ftrace-164"><code>gsasl_stringprep_trace</code></a>: <a href="#Old-Functions">Old Functions</a></li>
   </ul><div class="node">
<a name="Concept-Index"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Function-and-Data-Index">Function and Data Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Copying-Information">Copying Information</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Concept Index</h2>



<ul class="index-cp" compact>
<li><a href="#index-AIX-12">AIX</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Autoconf-tests-30">Autoconf tests</a>: <a href="#Autoconf-tests">Autoconf tests</a></li>
<li><a href="#index-Callbacks-52">Callbacks</a>: <a href="#Callback-Functions">Callback Functions</a></li>
<li><a href="#index-channel-binding-39">channel binding</a>: <a href="#SCRAM_002dSHA_002d1">SCRAM-SHA-1</a></li>
<li><a href="#index-command-line-90">command line</a>: <a href="#Invoking-gsasl">Invoking gsasl</a></li>
<li><a href="#index-Compiling-your-application-29">Compiling your application</a>: <a href="#Building-the-source">Building the source</a></li>
<li><a href="#index-Configure-tests-31">Configure tests</a>: <a href="#Autoconf-tests">Autoconf tests</a></li>
<li><a href="#index-Contributing-26">Contributing</a>: <a href="#Contributing">Contributing</a></li>
<li><a href="#index-CRAM_002dMD5-36">CRAM-MD5</a>: <a href="#CRAM_002dMD5">CRAM-MD5</a></li>
<li><a href="#index-Debian-1">Debian</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Deprecated-functions-91">Deprecated functions</a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-DIGEST_002dMD5-37">DIGEST-MD5</a>: <a href="#DIGEST_002dMD5">DIGEST-MD5</a></li>
<li><a href="#index-Download-24">Download</a>: <a href="#Downloading-and-Installing">Downloading and Installing</a></li>
<li><a href="#index-Error-Handling-84">Error Handling</a>: <a href="#Error-Handling">Error Handling</a></li>
<li><a href="#index-Examples-87">Examples</a>: <a href="#Examples">Examples</a></li>
<li><a href="#index-FDL_002c-GNU-Free-Documentation-License-183">FDL, GNU Free Documentation License</a>: <a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a></li>
<li><a href="#index-FreeBSD-19">FreeBSD</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-GPL_002c-GNU-General-Public-License-186">GPL, GNU General Public License</a>: <a href="#GNU-GPL">GNU GPL</a></li>
<li><a href="#index-GSSAPI-42">GSSAPI</a>: <a href="#GSSAPI">GSSAPI</a></li>
<li><a href="#index-Hacking-27">Hacking</a>: <a href="#Contributing">Contributing</a></li>
<li><a href="#index-HP_002dUX-14">HP-UX</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Installation-23">Installation</a>: <a href="#Downloading-and-Installing">Downloading and Installing</a></li>
<li><a href="#index-invoking-_0040command_007bgsasl_007d-89">invoking <samp><span class="command">gsasl</span></samp></a>: <a href="#Invoking-gsasl">Invoking gsasl</a></li>
<li><a href="#index-IRIX-11">IRIX</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-iteration-count-34">iteration count</a>: <a href="#Properties">Properties</a></li>
<li><a href="#index-KERBEROS_005fV5-43">KERBEROS_V5</a>: <a href="#KERBEROS_005fV5">KERBEROS_V5</a></li>
<li><a href="#index-LGPL_002c-GNU-Lesser-General-Public-License-184">LGPL, GNU Lesser General Public License</a>: <a href="#GNU-LGPL">GNU LGPL</a></li>
<li><a href="#index-Library-Overview-33">Library Overview</a>: <a href="#Using-the-Library">Using the Library</a></li>
<li><a href="#index-License_002c-GNU-GPL-187">License, GNU GPL</a>: <a href="#GNU-GPL">GNU GPL</a></li>
<li><a href="#index-License_002c-GNU-LGPL-185">License, GNU LGPL</a>: <a href="#GNU-LGPL">GNU LGPL</a></li>
<li><a href="#index-Mandrake-10">Mandrake</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Motorola-Coldfire-20">Motorola Coldfire</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-NetBSD-17">NetBSD</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-NTLM-40">NTLM</a>: <a href="#NTLM">NTLM</a></li>
<li><a href="#index-Obsolete-functions-92">Obsolete functions</a>: <a href="#Old-Functions">Old Functions</a></li>
<li><a href="#index-OpenBSD-18">OpenBSD</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Overview-32">Overview</a>: <a href="#Using-the-Library">Using the Library</a></li>
<li><a href="#index-Properties-59">Properties</a>: <a href="#Property-Functions">Property Functions</a></li>
<li><a href="#index-RedHat-6">RedHat</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-RedHat-Advanced-Server-8">RedHat Advanced Server</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Reporting-Bugs-25">Reporting Bugs</a>: <a href="#Bug-Reports">Bug Reports</a></li>
<li><a href="#index-salt-35">salt</a>: <a href="#Properties">Properties</a></li>
<li><a href="#index-SASL-sessions-64">SASL sessions</a>: <a href="#Session-Functions">Session Functions</a></li>
<li><a href="#index-SCRAM-38">SCRAM</a>: <a href="#SCRAM_002dSHA_002d1">SCRAM-SHA-1</a></li>
<li><a href="#index-SECURID-41">SECURID</a>: <a href="#SECURID">SECURID</a></li>
<li><a href="#index-Solaris-15">Solaris</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-SuSE-4">SuSE</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-SuSE-Linux-5">SuSE Linux</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Tru64-3">Tru64</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-uClibc-22">uClibc</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-uClinux-21">uClinux</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Windows-13">Windows</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
   </ul><div class="footnote">
<hr>
<a name="texinfo-footnotes-in-document"></a><h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> Note that GNU SASL normally use its own internal
implementation of the cryptographic functions.  Take care to verify
that GNU SASL really use Libgcrypt, if this is what you want.</p>

   <hr></div>

</body></html>

