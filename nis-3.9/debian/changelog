nis (3.9-6.1) stable-security; urgency=high

  * Non-maintainer upload by security team
  * Applied fix by Thorsten Kukuk to fix an information leak

 -- Martin Schulze <joey@infodrom.org>  Thu, 10 Oct 2002 09:17:47 +0200

nis (3.9-6) unstable; urgency=high

  * Official fix from upstream maintainer for "YPBIND_PROC: domain not bound"
    ypbind problem that includes a potential fix for bug #109935.

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed, 17 Oct 2001 17:06:06 +0200

nis (3.9-5) unstable; urgency=high

  * Maintainer upload (closes: #103588)
  * Fix typo in ypMakefile (closes: #106483,#107824,#105727)
  * Fix "YPBIND_PROC: domain not bound" recurring (15 mins.) problem.
    Courtesy of Neil Brown <neilb@cse.unsw.edu.au>. Hopefully
    this also fixes bug #109935.

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue,  9 Oct 2001 12:47:49 +0200

nis (3.9-4.1) unstable; urgency=low

  * Non-maintainer upload.
  * copy in new config.{guess,sub} to get support for new architectures.
    Closes: #104601

 -- LaMont Jones <lamont@smallone.fc.hp.com>  Fri, 13 Jul 2001 16:43:48 -0600

nis (3.9-4) unstable; urgency=high

  * Fix preinst not to depend on /usr/share/doc/examples/nis.default
    which ofcourse isn't there on a fresh installation.

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu, 28 Jun 2001 14:02:52 +0200

nis (3.9-3) unstable; urgency=high

  * Update docs about /etc/init.d/nis and /etc/default/nis (closes: #98886)
  * Updated nis.debian.howto
  * Fix the debconf stuff (closes: #99966, #97693)
  * Added german tranlations (closes: #100138)
  * Also include the preinst file in the package .. now /etc/default/nis
    actually works (closes: #63171, #77090)
  * Don't stop running NIS processes during upgrade, they tend to be
    essential for functioning of the system. Just restart NIS in the postinst.
  * Fix symbolic links (closes: #99411, #97846)
  * kill running ypbinds manually if upgrading from an older
    version of the NIS package (closes: #97599)
  * Put a comment about DNS in /etc/yp.conf (closes: #96066)
  * Don't export shadow entries < MINUID (closes: #69214, #90470, #28030)
  * Set MINUID to 1000 to comply with policy (closes: #38591, #58881)
  * Up timeout on connecting to ypxfrd from 25 microsecs to 2 secs.
    25 us is really way to short - ypxfr almost always failed connecting
    to ypxfrd.

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue, 26 Jun 2001 15:32:30 +0200

nis (3.9-2) unstable; urgency=high

  * Recompile _again_ for latest libc6 (backwards compatibility doesn't
    seem to exist anymore?) (closes: #97195)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon, 14 May 2001 13:06:31 +0200

nis (3.9-1) unstable; urgency=high

  * Upgrade to yp-tools-2.5, ypbind-mt-1.8, ypserv-1.3.12
  * Some people need NIS built against the latest libc (closes: #96158, #96931)
  * Typo in postinst message (closes: #78185)
  * Make maintainer scripts failsafe (closes: #77347)
  * Apply threads/signals patch so that ypbind exits on SIGTERM (closes: #83106)
  * Now uses debconf
  * fixed ypserv_conf.c - IP numbers can start with [1-9] not [0-3]
  * Fix ypserv(8) manpage (securenets file location) (closes: #94136)
  * Update ypserv.securenets example file (closes: #86762)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed,  9 May 2001 23:57:03 +0200

nis (3.8-3) unstable; urgency=low

  * Upload to unstable, compiled with current woody libs
  * Fixes the Alpha problems (as 3.8-2 does for stable)
  * Depends on portmap again (closes: #75267,#75511,#76942,#72132,#75124)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue, 14 Nov 2000 23:53:51 +0100

nis (3.8-2) stable; urgency=high

  * Upload to stable
  * This fixes the Alpha problems. This is of high urgency,
    because the old 3.7 packages still contain the security hole.
  * The Alpha problems were due to configure not reckognizing the
    system type on (certain!) Alpha's, so that the USE_BROADCAST=0
    code got compiled in which was broken. I debugged and fixed both
    problems. This might also fix brokenness on other non-i386
    platforms.
  * Updated HOWTO (closes: #76043)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon, 13 Nov 2000 22:38:11 +0100

nis (3.8-0.1) stable unstable; urgency=high

  * Non-maintainer upload by security team
  * Up the versionnumber since we upgrade one of our tarballs
  * Upgrade ypbindt-mt to 1.7, which is a security-fix for 1.6. This
    really fixes the printf formating security problem.
  * Upload to both stable and unstable so potato doesn't have a newer
    version anymore and woody gets the fix as well.

 -- Wichert Akkerman <wakkerma@debian.org>  Fri, 13 Oct 2000 20:08:23 +0200

nis (3.7-2potato1) stable; urgency=high

  * Upload for potato to fix security hole in ypbind

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon,  9 Oct 2000 13:59:08 +0200

nis (3.7-2) unstable; urgency=high

  * Update to latest ypbind-mt-1.7 because of security hole
    (syslog format string attack)
  * Apply ypserv-1.3.11a.diff because upstream maintainer says
    it's important.

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon,  9 Oct 2000 13:45:10 +0200

nis (3.7-1) unstable; urgency=high

  * Update to latest ypserv (1.3.11)
  * Depend on portmap (closes: #72083,#72107,#72121)
  * Update yppasswd manpage (closes: #67208)
  * Well, ypbind most definitely works ;) (closes: #42903)
  * New ypMakefile since 3.6 (closes: #48465)
  * Wait for domain to get bound up to 10 secs (closes: #59799,#59892,#66574)
  * Update nis.debian.howto (closes: #60300,#60380)
  * Update netgroups manpage (closes:  #62492)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu, 21 Sep 2000 16:23:30 +0200

nis (3.6-2) unstable; urgency=high

  * Touch yp-tools-2.4/configure (closes: #48442)
  * Fix /var/yp/Makefile (closes: #48447)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed, 27 Oct 1999 11:09:42 +0200

nis (3.6-1) unstable; urgency=high

  * Same as 3.5, but compiled with glibc 2.1 for potato.

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue, 26 Oct 1999 22:10:35 +0200

nis (3.5-1) stable; urgency=high

  * New upstream releases of ypserv (1.3.9), ypbind-mt (1.6) and yp-tools (2.4).
    These fix the security bugs present in earlier versions.

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon, 25 Oct 1999 17:34:09 +0200

nis (3.4-2) unstable; urgency=high

  * Compiled against glibc 2.1.x, this should fix these bugs:
    #42038: nis: ypserv crashes/exits
    #42097: libc6: "clnt_call: RPC: Timed out" in nis
    #42138: nis: NIS failing - seems to have started with latest glibc
    #42531: nis problems
  * Added a patch for glibc 2.1.2preX and ypbind-mt-1.6 from Thorsten

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Fri,  6 Aug 1999 11:46:38 +0200

nis (3.4-1) unstable; urgency=high

  * New upstream version of ypserv. Hopefully this fixes the
    yp_all() bugs glibc 2.1 users have been seeing (#42138, #42097)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Sat, 31 Jul 1999 10:07:53 +0200

nis (3.3.3-1) unstable; urgency=low

  * New upstream version of yp-tools and ypbind-mt
  * Fixes bugs:
    #42028: nis: NIS-Server doesn't use /etc/shadow - feature or bug?
    #41781: direction reversed in howto
    #41778: nis.debian.howto.gz suggests editing crontab
    #40462: ypinit failed on setting up a slave server
    #40462: ypinit failed on setting up a slave server
    #29692: nis: rpc.yppasswd doesn't admit latin characters in gecos field
    #34144: NIS master doesn't update slaves
    #38010: ypbind won't bind to specified server
    #38018: -no_ping flag doesn't work for ypbind
    #42028: nis: NIS-Server doesn't use /etc/shadow - feature or bug?
    #21278: ypxfr should keep maps that it cannot get temporarily

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed, 28 Jul 1999 15:40:13 +0200

nis (3.3.2-1) unstable; urgency=low

  * New upstream version of yp-tools and ypbind-mt
  * Fixes bugs:
    #34618: nis: Documentation glitch
    #30580: nis should depend on make
    #28876: -O6 default optimization in nis
    #29268: 64bit fix
    #32882: nis: please do mention where you got the software
    #28183: nis with shadow passwords

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon,  3 May 1999 16:28:23 +0200

nis (3.3.1-1) unstable; urgency=low

  * New upstream version of ypserv
  * Fixes bugs:
    #26294: package is out of date; makedbm does not handle "\" extended lines
    #27674: nis: tab is no longer accepted as whitespace in yp.conf
    #27589: NIS servers should not need to be same architecture

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed, 14 Oct 1998 15:20:31 +0200

nis (3.3-1) unstable; urgency=low

  * New upstream versions of ypserv, ypbind, yp-tools.
  * Use ypbind-mt instead of ypbind-3.3. This one uses threads; do
    not be confused if you see 4 copies of ypbind running, it's only
    one process with multiple kernel-threads.
  * Fixes bugs:
    #18938: nis: package description
    #25703: nis: ypbind: detects that a copy is running (ie itself) and exits
    #25753: nis: ypbind: detects that a copy is running (ie itself) and exits
    #25754: nis: Minor mistake in /usr/lib/yp/ypinit
    #22587: Capitalization issues
    #22285: nisdomainname.8.gz should refer to domainname.8 not .1 

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon,  5 Oct 1998 12:46:35 +0200

nis (3.2.1-3) unstable; urgency=low

  * Now really fixes Alpha problems I hope
  * Update nis.debian.howto
  * Fixes bugs:
    #18183: nis: not updating slave server
    #18410: nis: New Alpha problem
    #18522: nis: nis fails on alpha with RPC errors
    #18638: nis: nis source includes wrong snprintf prototype
    #18689: /usr/lib/yp/ypxfr_2perday typo

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon,  2 Mar 1998 17:11:49 +0100

nis (3.2.1-2) unstable; urgency=low

  * Remove ypbind-3.3/rpcsvc in debian/rules, the dpkg-source
    gegerated patch file does not support removed files.

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Fri, 20 Feb 1998 21:43:27 +0100

nis (3.2.1-1) unstable; urgency=low

  * Applied fix from Thorsten Kukuk for ypbind:
    - increase ping timeout to 5 seconds
    - remove binding file on shutdown
    - Fix Alpha problems
    - Fix gcc2.8 and egcs compilation problems
  * New yptools (1.4.1)
  * Fix lintian warnings/errors
  * Fixes bugs:
    #18301: on alpha nis breaks with libc6.1_2.0.7pre1
    #18183: nis: not updating slave servers
    #18266: nis source includes wrong snprintf prototype

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Fri, 20 Feb 1998 00:10:16 +0100

nis (3.2-2) unstable; urgency=low

  * Fixes:
    #17806: nis: asks for insertion of plus entries

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed,  4 Feb 1998 14:10:02 +0100

nis (3.2-1) unstable; urgency=medium

  * Added debian revision number
  * Upgrade to ypserv-1.2.8, which fixes a severe bug in makedbm
  * Fixes bugs:
    #17212: @/usr/bin/awk not found in /var/yp/Makefile, 'amd.home' target
    #15210: NIS implementation too wordy

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu, 29 Jan 1998 17:57:46 +0100

nis (3.1) unstable; urgency=low

  * Fix totally bogus diff file
  * Upgraded yp-tools to 1.4, ypserv to 1.2.7
  * Fixes bugs:
    #13333: nis: No manual for /usr/lib/yp/{makedbm,pwupdate}
    #15225: ypmatch doesn't set error code
    #15969: nis: ypchfn does not work
    #15225: ypmatch doesn't set error code

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue, 13 Jan 1998 15:05:02 +0100

nis (3.0-2) unstable; urgency=low

  * Fix copyright information
  * Fix comments in /etc/yp.conf

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu,  6 Nov 1997 14:49:17 +0100

nis (3.0-1) unstable; urgency=low

  * Update nis.debian.howto help document
  * Use new ypserv-1.2.5
  * Use yp-tools-1.2 instead of ypclients-2.2
  * Work around in ypwhich for buggy yp_maplist() in libc-5.4.33
  * User ypbind-3.3 instead of ypbind-bsd-1.15
  * Add rpc.ypxfrd to startup file
  * Fixes bugs:
    #9920: nis.debian.howto.gz has wrong details.
    #10142: Cannot set up NIS as a slave server.
    #10186: Running "make" fails under NIS.
    #10244: ypserv hangs occasionally
    #10525: nis: mknetid segfaults
    #10872: NIS and libc6
    #11007: ypbind problems with nis_2.20
    #11472: nis: NIS does not work when no server is on subnet
    #12575: nis: unchecked prompting in postinst

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue,  4 Nov 1997 16:40:57 +0100

nis (2.20-1) frozen unstable; urgency=high

  * Upgrade ypserv to 1.1.7 (security fix)
  * Use awk instead of mawk (Bug#8705, #7855)
  * Depend on libc5 (>= 5.4.23)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon, 28 Apr 1997 17:09:19 +0200

nis (2.10-1.2) unstable; urgency=high

  * Applied another patch from H.J. Lu to fix ypset.

 -- David Engel <david@sw.ods.com>  Tue, 18 Mar 1997 13:29:01 -0600

nis (2.10-1.1) unstable; urgency=high

  * Applied H.J. Lu's patches to make ypclients and ypbind work 
    with libc 5.4.23.
  * Changed yppasswd to work with libc 5.4.23.

 -- David Engel <david@sw.ods.com>  Mon, 17 Mar 1997 09:03:30 -0600

nis (2.10-1) unstable; urgency=medium

  * Upgraded to ypserv-1.1.5
  * Made sure all executables are stripped
  * Fix bug in services database (wrong key)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue, 4 Feb 1997 17:38:43 +0100

nis (2.00-1) unstable; urgency=low

  * Upgraded to latest versions of all software
  * New source packaging
  * Added missing manpages (stubs)
  * Fixed yppasswd &c to work with shadow-like NIS server setup.

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed, 02 Oct 1996 17:51:54 +0200

* nis-1.20-2 Tue Jul  2 11:28:30 MET DST 1996
  o Fixed domainname option processing.

* nis-1.20-1  Sat Jun  8 14:18:02 MET DST 1996

  o Installs ypserv_1perhour and associated scripts.
  o Updated nis.debian.howto
  o Updated rules and control files for latest "dchanges".
  o yppasswd Can now change empty password
  o yppasswdd now accepts root password as old passwd
    so root can change all passwords
