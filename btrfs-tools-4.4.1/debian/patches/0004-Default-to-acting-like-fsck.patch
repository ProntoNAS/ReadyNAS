From 01729dbc973226a27d2daf1994f6b8e740700b32 Mon Sep 17 00:00:00 2001
From: Dimitri John Ledkov <xnox@debian.org>
Date: Sat, 19 Apr 2014 12:10:15 +0100
Subject: [PATCH 2/6] Default to acting like fsck.

Inspect arguments, if we are not called as btrfs, then assume we are
called to act like fsck.

Bug-Debian: http://bugs.debian.org/712078
Signed-off-by: Dimitri John Ledkov <xnox@debian.org>
---
 btrfs.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/btrfs.c b/btrfs.c
index 63df377..6a13eed 100644
--- a/btrfs.c
+++ b/btrfs.c
@@ -220,7 +220,7 @@ int main(int argc, char **argv)
 	else
 		bname = argv[0];
 
-	if (!strcmp(bname, "btrfsck")) {
+	if (strcmp(bname, "btrfs") != 0) {
 		argv[0] = "check";
 	} else {
 		argc--;
-- 
1.9.1

