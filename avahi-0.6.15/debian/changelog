avahi (0.6.15-2.infrant1) unstable; urgency=low

  * Rework the build process, and disable chroot.

 -- Justin Maggard <jmaggard@infrant.com>  Tue, 28 Nov 2006 11:43:36 -0800

avahi (0.6.15-2) unstable; urgency=low

  * debian/patches/12_dbus1.0.patch:
    + Fix version detection of dbus with version above 1.0. Also don't ever
      call dbus_connection_close on shared connections as this is not allowed
      by the DBus API. Patch from upstream SVN (r1333)

 -- Sebastian Dröge <slomo@ubuntu.com>  Mon, 13 Nov 2006 10:48:48 +0100

avahi (0.6.15-1) unstable; urgency=high

  * New upstream version, urgency=high because of potential security fix:
    + Check that netlink messages actually originate from the kernel and
      not another process
  * debian/patches/02_local-service.patch:
    + Dropped, merged upstream
  * debian/control:
    + Fix the avahi-autoipd description (Closes: #394330)

 -- Sebastian Dröge <slomo@ubuntu.com>  Mon,  6 Nov 2006 17:15:15 +0100

avahi (0.6.14-2) unstable; urgency=low

  [ Sebastian Dröge ]
  * debian/control:
    + Update Standards-Version to 3.7.2
    + Recommend dhcp3-client instead of non-existing dhclient
      (Closes: #392076, #391924)
    + Change QT to Qt in all descriptions (Closes: #384783)
    + Change Maintainer to pkg-utopia team
    + Add XS-X-Vcs-Svn control field
  * debian/control,
    debian/rules:
    + Don't build avahi-autoipd on something else than Linux until it is
      ported (Closes: #391298). Thanks to Aurelien Jarno <aurel32@debian.org>
      for the patch.
  * debian/patches/10_initscripts-scriptname.patch:
    + Set SCRIPTNAME variable in init scripts (Closes: #386957)
  * debian/avahi-daemon.postinst:
    + Add the netdev group unless it's already there (Closes: #385495, #389243)
  * debian/avahi-autoipd.ifup,
    debian/avahi-autoipd.ifdown,
    debian/rules,
    debian/patches/11_avahi-autoipd.action-add-routes.patch:
    + Add ifupdown scripts to set routes to allow communication between
      machines which only have an IPv4LL address assigned and those which
      only have a routable address assigned.
      See http://developer.apple.com/qa/qa2004/qa1357.html for more information.

  [ Sjoerd Simons ]
  * debian/avahi-autoipd.ifup,
    debian/avahi-autoipd.ifdown,
    + Also recognise the NetworkManager method and address family(?!) as valid
    for ipv4ll routes
   
 -- Sjoerd Simons <sjoerd@debian.org>  Fri, 20 Oct 2006 21:55:17 +0200

avahi (0.6.14-1) unstable; urgency=low

  [ Sebastian Dröge ]
  * New upstream release
  * debian/patches/02_static-hosts.patch:
    + Dropped, merged upstream
  * debian/patches/02_local-service.patch:
    + Fix detection whether a service is from the local machine. Patch from
      upstream SVN (r1329)
  * debian/control,
    debian/avahi-autoipd.postinst:
    debian/avahi-autoipd.postrm:
    debian/avahi-autoipd.prerm,
    debian/avahi-autoipd.install:
    + Add new avahi-autoipd package

  [ Sjoerd Simons ]
  * Let libavahi-compat-libdnssd1 recommend libnss-mdns instead of depending
    on it. (Closes: #390614)
  * Install avahi-autoipd's exit hook as zzz_avahi-autoipd to ensure it runs
    last.

 -- Sjoerd Simons <sjoerd@debian.org>  Mon,  2 Oct 2006 21:03:20 +0200

avahi (0.6.13-3) unstable; urgency=low

  [ Sebastian Dröge ]
  * debian/control,
    debian/pyversions:
    + Allow the modules to be used with all supported python versions greater
      or equal to 2.4
  * debian/pycompat:
    + Dropped, not required by policy anymore

  [ Sjoerd Simons ]
  * Make libavahi-compat-libdnssd1 depend on libnss-mdns as it's needed for
    proper operation.
  * debian/clean-la.mk: Copy clean-la.mk from the gnome-pkg-tools packages.
    Removes dependency_libs from the .la file.

 -- Sjoerd Simons <sjoerd@debian.org>  Sun,  3 Sep 2006 19:27:13 +0200


avahi (0.6.13-2) unstable; urgency=low

  * debian/patches/02_static-hosts.patch:
    + Fix assertion failure when using static hosts (Closes: #385297)
      Patch from upstream SVN (r1285)

 -- Sebastian Dröge <slomo@ubuntu.com>  Wed, 30 Aug 2006 18:29:10 +0200

avahi (0.6.13-1) unstable; urgency=low

  * New upstream release
  * debian/libavahi-client3.shlibs,
    debian/libavahi-compat-libdnssd1.shlibs:
    + Bumped for new functions
  * debian/avahi-utils.install,
    debian/avahi-utils.manpages:
    + Added new avahi-set-host-name utility for setting the mDNS hostname

 -- Sebastian Dröge <slomo@ubuntu.com>  Sun, 27 Aug 2006 22:10:05 +0200

avahi (0.6.12-1) unstable; urgency=low

  * New upstream version
  * Bump the shlibs for libavahi-glib and libavahi-client

 -- Sebastian Dröge <slomo@ubuntu.com>  Thu, 27 Jul 2006 15:46:57 +0200

avahi (0.6.11-1) unstable; urgency=low

  [ Sjoerd Simons ]
  * debian/copyright: Obfuscate Lennart poettering's e-mail address on his
    request.
  * Update the python bindings for the new policy. 

  [ Sebastian Dröge ]
  * New upstream release
  * debian/patches/09_initscripts-default.patch:
    Add /etc/default/avahi-daemon and /etc/default/avahi-dnsconfd to allow
    disabling of the startup of both daemons (Closes: #349603)

 -- Sjoerd Simons <sjoerd@debian.org>  Thu,  6 Jul 2006 00:49:30 +0200

avahi (0.6.10-1) unstable; urgency=high

  * New upstream release
  * Urgency high, contains security fixes
    - Local DOS via unspecified mDNS name conflicts (CVE-2006-2288)
    - Local buffer overflow in avahi-core (CVS-2006-2289)
  * No longer ship the avahi cli bindings, they now have their own source
    package (Closes: #360881)
  * Don't build-depend on libcap-dev on hurd, kfreebsd-* and netbsd-i386 archs
    (Closes: #360596)
  * Dropped patches that have been applied upstream:
    + debian/patches/02_pthread_flags.patch
    + debian/patches/03_cmsg_too_large.patch
    + debian/patches/04_initscript_log_end_msg.patch
    + debian/patches/05_empty_service_directory.patch
    + debian/patches/07_avahi-sharp_missing_lock.patch
  * debian/patches/99_autotools.patch
    + Not needed anymore
  * Bump libavahi-core3's shlibs

 -- Sjoerd Simons <sjoerd@debian.org>  Wed, 10 May 2006 11:02:17 +0200

avahi (0.6.9-8) unstable; urgency=medium

  * Pass --disable-mono --disable-monodoc to configure on ia64 and powerpc.
    This makes the fix in the previous package actually usefull.

 -- Sjoerd Simons <sjoerd@debian.org>  Tue,  4 Apr 2006 00:33:58 +0200

avahi (0.6.9-7) unstable; urgency=medium

  [ Sebastian Dröge ]
  * debian/patches/05_empty_service_directory.patch:
    + updated to use upstream's solution for this which is much cleaner.

  [ Sjoerd Simons ]
  * Urgency medium. Recent version include some big bug-fixes wrt. the testing
    version. (i.e. it actually works on sparc64 and ppc64)
  * Only build the mono library on i386 and amd64 for now. Other architectures
    can't install the mono build-deps currently.

 -- Sjoerd Simons <sjoerd@debian.org>  Tue,  4 Apr 2006 00:02:16 +0200

avahi (0.6.9-6) unstable; urgency=low

  [ Sjoerd Simons ]
  * Also ship docs/NEWS (Closes: #355267)
  * Don't let libavahi-client3 recommend avahi-daemon. Let the end-user apps
    decide if they want to recommend avahi-daemon or not. (Closes: #357416)
  * debian/patches/99_autotools.patch
    + Added. Update the autotools files so 
    debian/patches/02_pthread_flags.patch actually has effect. Fixes ftbs on
    mips (Closes: #358304)

  [ Sebastian Dröge ]
  * debian/patches/04_initscript_log_end_msg.patch:
    + Replace exit statements with return, otherwise log_end_msg might not
      be called after d_start. Patch by Benjamin Leipold. (Closes: #358190)
  * debian/patches/05_empty_service_directory.patch:
    + Change the error message that is printed when running the daemon with an
      empty or non-existing /etc/avahi/services directory to an informational
      message as we have no service files installed by default. Also add  that
      this could be caused by an empty service directory. (Closes: #355615)


 -- Sjoerd Simons <sjoerd@debian.org>  Wed, 22 Mar 2006 20:01:46 +0100

avahi (0.6.9-5) unstable; urgency=low

  * debian/patches/03_cmsg_too_large.patch
    + Updated. The previous version undid a fix for alignment on ia64.

 -- Sjoerd Simons <sjoerd@debian.org>  Wed, 15 Mar 2006 19:01:15 +0100

avahi (0.6.9-4) unstable; urgency=low

  * debian/patches/03_cmsg_too_large.patch 
    + Added. Don't make the cmsg somewhat oversized. Fixes sendmsg returning
    EINVAL on 64 bit machines with 32 bit user space. 
    
 -- Sjoerd Simons <sjoerd@debian.org>  Fri, 10 Mar 2006 10:12:02 +0100

avahi (0.6.9-3) unstable; urgency=low

  [ Sebastian Dröge ]
  * Renamed libavahi-cil to libavahi1.0-cil to conform with the CLI policy

  [ Sjoerd Simons ]
  * Fix typo in libavahi-core4's description (Closes: #355402)
  * debian/patches/02_pthread_flags.patch
    + Added. Check how gcc handles -pthread in combination with -shared.
    Fixes FTBS on mips{,el}. (Was fixed, but patch was accidentally reverted
    upstream)

 -- Sjoerd Simons <sjoerd@debian.org>  Mon,  6 Mar 2006 17:14:09 +0100

avahi (0.6.9-2) unstable; urgency=low

  * Update shlibs of libavahi-common 

 -- Sjoerd Simons <sjoerd@debian.org>  Sat,  4 Mar 2006 10:36:51 +0100

avahi (0.6.9-1) unstable; urgency=low

  * New upstream release
  * Added me to Uploaders
  * Fix the permissions of avahi-sharp.dll

 -- Sebastian Dröge <slomo@ubuntu.com>  Thu,  2 Mar 2006 21:21:15 +0100

avahi (0.6.8-2) unstable; urgency=low

  * libavahi-core's soname changed from 3 to 4. As only
    avahi-daemon depends on -core it's not a big problem luckily. 
  * Change the package to reflect the soname change (Closes: #354771) 

 -- Sjoerd Simons <sjoerd@debian.org>  Wed,  1 Mar 2006 10:23:35 +0100

avahi (0.6.8-1) unstable; urgency=low

  [ Ross Burton ]
  * Package the avahi.hosts(5) manpage
  * Package the hosts conffile

  [ Sjoerd Simons ]
  * New upstream release
  * debian/patches/02_avahi-initscripts.patch
    Applied upstream

 -- Sjoerd Simons <sjoerd@debian.org>  Mon, 27 Feb 2006 23:13:05 +0100

avahi (0.6.7-1) unstable; urgency=low

  * New upstream release
  * debian/patches/02_avahi-initscripts.patch
    + Force the load of the capabilities kernel module before starting the
      avahi-daemon. (Closes: #352858)
    + Fix the restart argument of the initscripts

 -- Sjoerd Simons <sjoerd@debian.org>  Wed, 15 Feb 2006 20:37:07 +0100

avahi (0.6.6-2) unstable; urgency=low

  * Add libcap-dev to the build-depends to enable chroot() support
    (Closes: #351699)
  * Update the avahi-dnsconfd description (Closes: 351273) 

 -- Sjoerd Simons <sjoerd@debian.org>  Sun, 12 Feb 2006 20:12:23 +0100

avahi (0.6.6-1) unstable; urgency=low

  * New upstream release
  * s/Bonyour/Bonjour/ in libdnssd package descriptions (Closes: #349408)
  * debian/patches/02_stdlib_NULL.patch
    + Removed. Fixed upstream
  * debian/patches/03_reduce_qt3lib_depends.patch
    + Removed. Fixed upstream
  * debian/patches/04_pthread_flags.patch
    + Removed Fixed upstream
  * Don't let avahi-daemon suggets avahi-dnsconfd

 -- Sjoerd Simons <sjoerd@debian.org>  Thu,  2 Feb 2006 21:11:34 +0100

avahi (0.6.4-2) unstable; urgency=low

  * debian/patches/04_pthread_flags.patch
    + Added. Check how gcc handles -pthread in combination with -shared.
    Fixes FTBS on mips{,el}.
  * Add --disabled-password to adduser options in postinst

 -- Sjoerd Simons <sjoerd@debian.org>  Fri, 20 Jan 2006 10:40:27 +0100

avahi (0.6.4-1) unstable; urgency=low

  * New upstream release
  * Make python2.4-avahi depend on python2.4-glade (Closes: #348284)
  * debian/patches/02_avahi-sharp-mono1.1.13.patch
    + Removed. Fixed upstream
  * debian/patches/02_stdlib_NULL.patch
    + Added. To use NULL on GNU/kFreeBSD <stdlib.h> needs to be included
    (Thanks Aurelien Jarno) (Closes: #348405)
  * debian/patches/03_reduce_qt3lib_depends.patch
    + Added. Change avahi-qt3.pc to have qt3-mt in Requires.private instead of
    Requires (Thanks Isaac Clerencia) (Closes: #347710)
  * Make libavahi-client-dev depend on libdbus-1-dev 

 -- Sjoerd Simons <sjoerd@debian.org>  Tue, 17 Jan 2006 11:26:51 +0100

avahi (0.6.3-3) unstable; urgency=low

  * debian/patches/02_avahi-sharp-mono1.1.13.patch 
    + Added. Compatibility fixes for mono 1.1.13.

 -- Sjoerd Simons <sjoerd@debian.org>  Fri, 13 Jan 2006 14:03:59 +0100

avahi (0.6.3-2) unstable; urgency=low

  * Add ia64 to the architectures that build-depend on the mono stuff

 -- Sjoerd Simons <sjoerd@debian.org>  Thu, 12 Jan 2006 11:08:42 +0100

avahi (0.6.3-1) unstable; urgency=low

  * New upstream release (Closes: 347385)
  * debian/patches/01_dbus060_compatibility.patch
    + Removed. Fixed upstream
  * debian/patches/02_avahi-sharp.patch
    + Removed. Fixed upstream
  * Don't build mono stuff on archs that don't support it (Closes: 347383)
  * GNU dbm files aren't arch independent so libavahi-common-data must be an
    arch: any package
  * debian/patches/01_avahi-daemon.conf.patch
    + Added. Don't browse any extra domains by default
  * Add libavahi-client-dev depend to libavahi-compat-howl-dev 
    and libavahi-compat-libdnssd-dev (Closes: 347247)

 -- Sjoerd Simons <sjoerd@debian.org>  Thu, 12 Jan 2006 00:23:42 +0100

avahi (0.6.1-4) unstable; urgency=low

  * Upload to unstable 

 -- Sjoerd Simons <sjoerd@debian.org>  Thu,  5 Jan 2006 22:13:55 +0100

avahi (0.6.1-2) experimental; urgency=low

  * Let libavahi-common-data conflict with libavahi-common0
  * Switch avahi-utils from Arch all to Arch any (Closes: #344354)
  * avahi/debian/patches/02_avahi-sharp.patch
    + Added. Fix avahi-sharp.dll.config.in to use libavahi-glib.so.1 instead
      of libavahi-glib.so.0 (From avahi upstream svn)
  * Add ${shlibds:Depends} to the avahi-utils depends.
  * Add debian/libavahi-client3/usr/lib to dh_shlibdeps includes
  * Also ship the avahi-browse-domains symlink
  * Fix the avahi-discover description
  * Have avahi-daemon depend on dbus (>= 0.60)
  * Fix libavahi-cil depends
  * Add libavahi-common-data to python2.4-avahi depends
  * Update FSF address in copyright

 -- Sjoerd Simons <sjoerd@debian.org>  Thu, 22 Dec 2005 20:02:11 +0100

avahi (0.6.1-1) experimental; urgency=low

  [ Sjoerd Simons ]
  * New upstream release (closes: #341685)
  * Depend on dbus >= 0.50-3 so we can use force-reload to have dbus reload
    configuration.
  * Create packages for howl and Apple Bonyour compatibility libraries
  * Split out common data into libavahi-common-data
  * Split out avahi-discover into it's own package
  * Symlink /usr/include/avahi-compat-libdns_sd/dns_sd.h to
    /usr/include/dns_sd.h for API compatability
  * debian/patches/01_dbus060_compatibility.patch
    + Added. Enables build against dbus 0.60 (from upstream svn)
  * Update debian/copyright
  * Add myself to Uploaders

  [ Ross Burton ]
  * Add debian/watch

 -- Sjoerd Simons <sjoerd@debian.org>  Mon, 19 Dec 2005 16:25:53 +0100

avahi (0.5.2-4) experimental; urgency=low

  * Add python2.4-gdbm dependency to python2.4-avahi (closes: #336900)
  * Build monodoc manual (thanks Sebastian Dröge)

 -- Ross Burton <ross@debian.org>  Wed,  2 Nov 2005 08:49:48 +0000

avahi (0.5.2-3) experimental; urgency=low

  * Move all packages to their correct section (closes: #334565)

 -- Ross Burton <ross@debian.org>  Tue, 18 Oct 2005 19:05:22 +0100

avahi (0.5.2-2) experimental; urgency=low

  * -daemon depends on dbus-1-utils, and allow dbus-send to fail (Trent Lloyd).
  * -utils recommends python2.4-glad2, and explain the recommends (TL).
  
 -- Ross Burton <ross@debian.org>  Mon, 10 Oct 2005 10:20:05 +0100

avahi (0.5.2-1) experimental; urgency=low

  * New upstream release.
  * Change mono package to arch all.

 -- Ross Burton <ross@debian.org>  Mon,  3 Oct 2005 20:08:52 +0100

avahi (0.5-1) experimental; urgency=low

  [ Ross Burton ]
  * Update for new library versions
  * Added libavahi-cil mono bindings (thanks Andrew Mitchell)
  * Build for Debian Experimental (closes: #324990)
  * Split out python2.4-avahi
  * Add QT3 and QT4 bindings
  * Reload D-BUS configuration files and daemons on install
  * Fix daemon prerm
  * Add maintainer scripts for dnsconfd
  * Move the avahi user's home directory
  * Move .pc files to -dev packages

  [ Sjoerd Simons ]
  * New upstream release 

 -- Ross Burton <ross@debian.org>  Fri, 30 Sep 2005 12:16:39 +0100

avahi (0.2-0ubuntu1) breezy; urgency=low

  * New upstream version.
  * Thanks to Trent Lloyd for the work
    - Dropped all old patches, now merged upstream.
    - Added new patch avahi-dnsconfd-crash.patch, fix from upstream.

 -- Ross Burton <ross@debian.org>  Tue, 30 Aug 2005 09:13:46 +0100

avahi (0.1-1) breezy; urgency=low

  * First upload.
  * Thanks to Trent Lloyd for reviewing the packages.

 -- Ross Burton <ross@debian.org>  Tue, 23 Aug 2005 09:29:46 +0100
