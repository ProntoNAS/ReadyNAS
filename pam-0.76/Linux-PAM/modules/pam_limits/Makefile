#
# $Id: Makefile,v 1.3 2002/11/25 03:03:05 hartmans Exp $
#
# This Makefile controls a build process of $(TITLE) module for
# Linux-PAM. You should not modify this Makefile (unless you know
# what you are doing!).
#

include ../../Make.Rules

TITLE=pam_limits

TRY_BUILD=no
ifeq ($(OS),linux)
TRY_BUILD=yes
endif
ifeq ($(OS),gnu)
TRY_BUILD=yes
endif
ifeq ($(TRY_BUILD),yes)

LOCAL_CONFILE=./limits.skel
INSTALLED_CONFILE=$(SCONFIGD)/limits.conf

DEFS=-DDEFAULT_CONF_FILE=\"$(INSTALLED_CONFILE)\"
CFLAGS += $(DEFS)

MODULE_SIMPLE_INSTALL=bash -f ../install_conf "$(FAKEROOT)" "$(SCONFIGD)" "$(INSTALLED_CONFILE)" "$(TITLE)" "$(LOCAL_CONFILE)"
MODULE_SIMPLE_REMOVE=rm -f $(FAKEROOT)$(INSTALLED_CONFILE)
MODULE_SIMPLE_CLEAN=rm -f ./.ignore_age
ifeq ($(HAVE_LIBCAP),yes)
MODULE_SIMPLE_EXTRALIBS=-lcap
endif

include ../Simple.Rules

else

include ../dont_makefile

endif
